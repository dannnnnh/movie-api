<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Query</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Query</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>Query<span class="signature">()</span><span class="type-signature"></span></h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    
    <h4 class="name" id="Query"><span class="type-signature"></span>new Query<span class="signature">()</span><span class="type-signature"></span></h4>
    

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongodb_lib_cmap_commands.js.html">mongodb/lib/cmap/commands.js</a>, <a href="mongodb_lib_cmap_commands.js.html#line28">line 28</a>
    </li></ul></dd>
    

    

    

    
</dl>




















    
    </div>

    

    

    

    

    

    

    
        <h3 class="subsection-title">Members</h3>

        
            
<h4 class="name" id="__distinct"><span class="type-signature"></span>__distinct<span class="type-signature"></span></h4>




<div class="description">
    <p>Thunk around distinct()</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2892">line 2892</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>distinct https://www.mongodb.com/docs/manual/reference/method/db.collection.distinct/</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="_count"><span class="type-signature"></span>_count<span class="type-signature"></span></h4>




<div class="description">
    <p>Thunk around count()</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2640">line 2640</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>count https://www.mongodb.com/docs/manual/reference/method/db.collection.count/</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="_countDocuments"><span class="type-signature"></span>_countDocuments<span class="type-signature"></span></h4>




<div class="description">
    <p>Thunk around countDocuments()</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2668">line 2668</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>countDocuments https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#countDocuments</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="_estimatedDocumentCount"><span class="type-signature"></span>_estimatedDocumentCount<span class="type-signature"></span></h4>




<div class="description">
    <p>Thunk around estimatedDocumentCount()</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2696">line 2696</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>estimatedDocumentCount https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#estimatedDocumentCount</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="_find"><span class="type-signature"></span>_find<span class="type-signature"></span></h4>




<div class="description">
    <p>Thunk around find()</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2251">line 2251</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="_findOne"><span class="type-signature"></span>_findOne<span class="type-signature"></span></h4>




<div class="description">
    <p>Thunk around findOne()</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2526">line 2526</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>findOne https://www.mongodb.com/docs/manual/reference/method/db.collection.findOne/</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="findOneAndRemove"><span class="type-signature"></span>findOneAndRemove<span class="type-signature"></span></h4>




<div class="description">
    <p>Issues a mongodb <a href="http://www.mongodb.org/display/DOCS/findAndModify+Command">findAndModify</a> remove command.</p>
<p>Finds a matching document, removes it, passing the found document (if any) to the callback. Executes immediately if <code>callback</code> is passed.</p>
<p>####Available options</p>
<ul>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
</ul>
<p>####Examples</p>
<pre><code>A.where().findOneAndRemove(conditions, options, callback) // executes
A.where().findOneAndRemove(conditions, options)  // return Query
A.where().findOneAndRemove(conditions, callback) // executes
A.where().findOneAndRemove(conditions) // returns Query
A.where().findOneAndRemove(callback)   // executes
A.where().findOneAndRemove()           // returns Query
A.where().findOneAndDelete()           // alias of .findOneAndRemove()
</code></pre>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2773">line 2773</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/findAndModify+Command</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="model"><span class="type-signature"></span>model<span class="type-signature"></span></h4>




<div class="description">
    <p>The model this query is associated with.</p>
<h4>Example:</h4>
<pre><code>const q = MyModel.find();
q.model === MyModel; // true
</code></pre>
</div>







    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5982">line 5982</a>
    </li></ul></dd>
    

    

    

    
</dl>






        
            
<h4 class="name" id="read"><span class="type-signature"></span>read<span class="type-signature"></span></h4>




<div class="description">
    <p>Sets the readPreference option for the query.</p>
<p>####Example:</p>
<pre><code>new Query().read('primary')
new Query().read('p')  // same as primary

new Query().read('primaryPreferred')
new Query().read('pp') // same as primaryPreferred

new Query().read('secondary')
new Query().read('s')  // same as secondary

new Query().read('secondaryPreferred')
new Query().read('sp') // same as secondaryPreferred

new Query().read('nearest')
new Query().read('n')  // same as nearest

// you can also use mongodb.ReadPreference class to also specify tags
new Query().read(mongodb.ReadPreference('secondary', [{ dc:'sf', s: 1 },{ dc:'ma', s: 2 }]))

new Query().setReadPreference('primary') // alias of .read()
</code></pre>
<p>####Preferences:</p>
<pre><code>primary - (default)  Read from primary only. Operations will produce an error if primary is unavailable. Cannot be combined with tags.
secondary            Read from secondary if available, otherwise error.
primaryPreferred     Read from primary if available, otherwise a secondary.
secondaryPreferred   Read from a secondary if available, otherwise read from the primary.
nearest              All operations read from among the nearest candidates, but unlike other modes, this option will include both the primary and all secondaries in the random selection.
</code></pre>
<p>Aliases</p>
<pre><code>p   primary
pp  primaryPreferred
s   secondary
sp  secondaryPreferred
n   nearest
</code></pre>
<p>Read more about how to use read preferences <a href="http://docs.mongodb.org/manual/applications/replication/#read-preference">here</a> and <a href="http://mongodb.github.com/node-mongodb-native/driver-articles/anintroductionto1_1and2_2.html#read-preferences">here</a>.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1658">line 1658</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://docs.mongodb.org/manual/applications/replication/#read-preference</li>
        
            <li>driver http://mongodb.github.com/node-mongodb-native/driver-articles/anintroductionto1_1and2_2.html#read-preferences</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id="readConcern"><span class="type-signature"></span>readConcern<span class="type-signature"></span></h4>




<div class="description">
    <p>Sets the readConcern option for the query.</p>
<p>####Example:</p>
<pre><code>new Query().readConcern('local')
new Query().readConcern('l')  // same as local

new Query().readConcern('available')
new Query().readConcern('a')  // same as available

new Query().readConcern('majority')
new Query().readConcern('m')  // same as majority

new Query().readConcern('linearizable')
new Query().readConcern('lz') // same as linearizable

new Query().readConcern('snapshot')
new Query().readConcern('s')  // same as snapshot

new Query().r('s') // r is alias of readConcern
</code></pre>
<p>####Read Concern Level:</p>
<pre><code>local         MongoDB 3.2+ The query returns from the instance with no guarantee guarantee that the data has been written to a majority of the replica set members (i.e. may be rolled back).
available     MongoDB 3.6+ The query returns from the instance with no guarantee guarantee that the data has been written to a majority of the replica set members (i.e. may be rolled back).
majority      MongoDB 3.2+ The query returns the data that has been acknowledged by a majority of the replica set members. The documents returned by the read operation are durable, even in the event of failure.
linearizable  MongoDB 3.4+ The query returns data that reflects all successful majority-acknowledged writes that completed prior to the start of the read operation. The query may wait for concurrently executing writes to propagate to a majority of replica set members before returning results.
snapshot      MongoDB 4.0+ Only available for operations within multi-document transactions. Upon transaction commit with write concern &quot;majority&quot;, the transaction operations are guaranteed to have read from a snapshot of majority-committed data.
</code></pre>
<p>Aliases</p>
<pre><code>l   local
a   available
m   majority
lz  linearizable
s   snapshot
</code></pre>
<p>Read more about how to use read concern <a href="https://docs.mongodb.com/manual/reference/read-concern/">here</a>.</p>
</div>







<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1717">line 1717</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://docs.mongodb.com/manual/reference/read-concern/</li>
        </ul>
    </dd>
    

    
</dl>






        
            
<h4 class="name" id=".use$geoWithin"><span class="type-signature">(static) </span>use$geoWithin<span class="type-signature"></span></h4>




<div class="description">
    <p>Flag to opt out of using <code>$geoWithin</code>.</p>
<pre class="prettyprint source lang-javascript"><code>mongoose.Query.use$geoWithin = false;
</code></pre>
<p>MongoDB 2.4 deprecated the use of <code>$within</code>, replacing it with <code>$geoWithin</code>. Mongoose uses <code>$geoWithin</code> by default (which is 100% backward compatible with <code>$within</code>). If you are running an older version of MongoDB, set this flag to <code>false</code> so your <code>within()</code> queries continue to work.</p>
</div>







    <h5 class="subsection-title">Properties:</h5>

    

<table class="props">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>use$geoWithin</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>




<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-default">Default Value:</dt>
    <dd class="tag-default"><ul class="dummy">
            <li>true</li>
        </ul></dd>
    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line177">line 177</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>geoWithin https://www.mongodb.com/docs/manual/reference/operator/geoWithin/</li>
        </ul>
    </dd>
    

    
</dl>






        
    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    
    <h4 class="name" id="$where"><span class="type-signature"></span>$where<span class="signature">(js)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a javascript function or expression to pass to MongoDBs query system.</p>
<h4>Example:</h4>
<pre><code>query.$where('this.comments.length === 10 || this.name.length === 5')

// or

query.$where(function () {
  return this.comments.length === 10 || this.name.length === 5;
})
</code></pre>
<h4>Note:</h4>
<p>Only use <code>$where</code> when you have a condition that cannot be met using other MongoDB operators like <code>$lt</code>.
<strong>Be sure to read about all of <a href="https://www.mongodb.com/docs/manual/reference/operator/where/">its caveats</a> before using.</strong></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>js</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>javascript string or function</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line310">line 310</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$where https://www.mongodb.com/docs/manual/reference/operator/where/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_applyPaths"><span class="type-signature"></span>_applyPaths<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Applies schematype selected options to this query.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5426">line 5426</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_castConditions"><span class="type-signature"></span>_castConditions<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>ignore</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2202">line 2202</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_castFields"><span class="type-signature"></span>_castFields<span class="signature">(fields)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Casts selected field arguments for field selection with mongo 2.2</p>
<pre><code>query.select({ ids: { $elemMatch: { $in: [hexString] }})
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fields</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5378">line 5378</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="https://github.com/Automattic/mongoose/issues/1091">https://github.com/Automattic/mongoose/issues/1091</a></li>
        
            <li><a href="https://www.mongodb.com/docs/manual/reference/projection/elemMatch/">https://www.mongodb.com/docs/manual/reference/projection/elemMatch/</a></li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_castUpdate"><span class="type-signature"></span>_castUpdate<span class="signature">(obj, overwrite)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Casts obj for an update command.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>obj</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>overwrite</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5097">line 5097</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>obj after casting its values</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_completeOne"><span class="type-signature"></span>_completeOne<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Hydrate a single doc from <code>findOne()</code>, <code>findOneAndUpdate()</code>, etc.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2467">line 2467</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_deleteMany"><span class="type-signature"></span>_deleteMany<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Internal thunk around <code>deleteMany()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3264">line 3264</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_deleteOne"><span class="type-signature"></span>_deleteOne<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Internal thunk for <code>deleteOne()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3173">line 3173</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_ensurePath"><span class="type-signature"></span>_ensurePath<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Make sure _path is set.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3122">line 3122</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_execUpdate"><span class="type-signature"></span>_execUpdate<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Internal thunk for .update()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4354">line 4354</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.update #model_Model-update</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_fieldsForExec"><span class="type-signature"></span>_fieldsForExec<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns fields selection for this query.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3071">line 3071</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_findAndModify"><span class="type-signature"></span>_findAndModify<span class="signature">(type, callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Override mquery.prototype._findAndModify to provide casting etc.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>either &quot;remove&quot; or &quot;update&quot;</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3963">line 3963</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_findOneAndRemove"><span class="type-signature"></span>_findOneAndRemove<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Thunk around findOneAndRemove()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3924">line 3924</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_findOneAndReplace"><span class="type-signature"></span>_findOneAndReplace<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Thunk around findOneAndReplace()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3823">line 3823</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_mergeUpdate"><span class="type-signature"></span>_mergeUpdate<span class="signature">(doc)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Override mquery.prototype._mergeUpdate to handle mongoose objects in
updates.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4183">line 4183</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_mergeUpdate"><span class="type-signature"></span>_mergeUpdate<span class="signature">(doc)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Merges <code>doc</code> with the current update object.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3041">line 3041</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_optionsForExec"><span class="type-signature"></span>_optionsForExec<span class="signature">(model)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Returns default options for this query.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Model">Model</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1968">line 1968</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_optionsForExec"><span class="type-signature"></span>_optionsForExec<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns default options.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3059">line 3059</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="_remove"><span class="type-signature"></span>_remove<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>ignore</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3082">line 3082</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_replaceOne"><span class="type-signature"></span>_replaceOne<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Internal thunk for .replaceOne()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4396">line 4396</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.replaceOne #model_Model-replaceOne</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_unsetCastError"><span class="type-signature"></span>_unsetCastError<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>ignore</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2161">line 2161</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_updateForExec"><span class="type-signature"></span>_updateForExec<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Return an update document with corrected $set operations.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3081">line 3081</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_updateMany"><span class="type-signature"></span>_updateMany<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Internal thunk for .updateMany()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4368">line 4368</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.update #model_Model-update</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_updateOne"><span class="type-signature"></span>_updateOne<span class="signature">(callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Internal thunk for .updateOne()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4382">line 4382</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.update #model_Model-update</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="_wrapCallback"><span class="type-signature"></span>_wrapCallback<span class="signature">(callback, queryInfo<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Wrap callback to add tracing</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>queryInfo</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2808">line 2808</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="all"><span class="type-signature"></span>all<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies an <code>$all</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
<h4>Example:</h4>
<pre><code>MyModel.find().where('pets').all(['dog', 'cat', 'ferret']);
// Equivalent:
MyModel.find().all('pets', ['dog', 'cat', 'ferret']);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line634">line 634</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$all https://www.mongodb.com/docs/manual/reference/operator/all/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="allowDiskUse"><span class="type-signature"></span>allowDiskUse<span class="signature">(v<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.allowDiskUse/"><code>allowDiskUse</code> option</a>,
which allows the MongoDB server to use more than 100 MB for this query's <code>sort()</code>. This option can
let you work around <code>QueryExceededMemoryLimitNoDiskUseAllowed</code> errors from the MongoDB server.</p>
<p>Note that this option requires MongoDB server &gt;= 4.4. Setting this option is a no-op for MongoDB 4.2
and earlier.</p>
<p>Calling <code>query.allowDiskUse(v)</code> is equivalent to <code>query.setOptions({ allowDiskUse: v })</code></p>
<h4>Example:</h4>
<pre><code>await query.find().sort({ name: 1 }).allowDiskUse(true);
// Equivalent:
await query.find().sort({ name: 1 }).allowDiskUse();
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Enable/disable <code>allowDiskUse</code>. If called with 0 arguments, sets <code>allowDiskUse: true</code></p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1742">line 1742</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="and"><span class="type-signature"></span>and<span class="signature">(array)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies arguments for a <code>$and</code> condition.</p>
<h4>Example:</h4>
<pre><code>query.and([{ color: 'green' }, { status: 'ok' }])
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>array of conditions</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line513">line 513</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$and https://www.mongodb.com/docs/manual/reference/operator/and/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="and"><span class="type-signature"></span>and<span class="signature">(array)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies arguments for a <code>$and</code> condition.</p>
<p>####Example</p>
<pre><code>query.and([{ color: 'green' }, { status: 'ok' }])
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>array of conditions</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line400">line 400</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$and http://docs.mongodb.org/manual/reference/operator/and/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="batchSize"><span class="type-signature"></span>batchSize<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the batchSize option.</p>
<h4>Example:</h4>
<pre><code>query.batchSize(100)
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line927">line 927</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>batchSize https://www.mongodb.com/docs/manual/reference/method/cursor.batchSize/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="box"><span class="type-signature"></span>box<span class="signature">(val1, val2<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$box</code> condition</p>
<h4>Example:</h4>
<pre><code>const lowerLeft = [40.73083, -73.99756]
const upperRight= [40.741404,  -73.988135]

query.where('loc').within().box(lowerLeft, upperRight)
query.box({ ll : lowerLeft, ur : upperRight })
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val1</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">Array:<a href="global.html"></a>.&lt;Number:<a href="global.html"></a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>Lower Left Coordinates OR a object of lower-left(ll) and upper-right(ur) Coordinates</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val2</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array:<a href="global.html"></a>.&lt;Number:<a href="global.html"></a>></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Upper Right Coordinates</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5805">line 5805</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$box https://www.mongodb.com/docs/manual/reference/operator/box/</li>
        
            <li>within() Query#within #query_Query-within</li>
        
            <li>MongoDB Geospatial Indexing https://www.mongodb.com/docs/manual/core/geospatial-indexes/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="box"><span class="type-signature"></span>box<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>this is needed to support the mongoose syntax of:
box(field, { ll : [x,y], ur : [x2,y2] })
box({ ll : [x,y], ur : [x2,y2] })</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5828">line 5828</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="box"><span class="type-signature"></span>box<span class="signature">(path, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a $box condition</p>
<p>####Example</p>
<pre><code>var lowerLeft = [40.73083, -73.99756]
var upperRight= [40.741404,  -73.988135]

query.where('loc').within().box(lowerLeft, upperRight)
query.box('loc', lowerLeft, upperRight )
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line794">line 794</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://www.mongodb.org/display/DOCS/Geospatial+Indexing">http://www.mongodb.org/display/DOCS/Geospatial+Indexing</a></li>
        
            <li>Query#within #query_Query-within</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="canMerge"><span class="type-signature"></span>canMerge<span class="signature">(conds)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if <code>conds</code> can be merged using <code>mquery().merge()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>conds</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1950">line 1950</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="cast"><span class="type-signature"></span>cast<span class="signature">(model<span class="signature-attributes">opt</span>, obj<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Casts this query to the schema of <code>model</code></p>
<h4>Note:</h4>
<p>If <code>obj</code> is present, it is cast instead of this query.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Model">Model</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the model to cast to. If not set, defaults to <code>this.model</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>obj</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5335">line 5335</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="catch"><span class="type-signature"></span>catch<span class="signature">(reject<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Promise">Promise</a>}</span></h4>
    

    



<div class="description">
    <p>Executes the query returning a <code>Promise</code> which will be
resolved with either the doc(s) or rejected with the error.
Like <code>.then()</code>, but only takes a rejection handler.</p>
<p>More about <a href="https://masteringjs.io/tutorials/fundamentals/catch">Promise <code>catch()</code> in JavaScript</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>reject</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5041">line 5041</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Promise">Promise</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="center"><span class="type-signature"></span>center<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p><em>DEPRECATED</em> Alias for <a href="#query_Query-circle">circle</a></p>
<p><strong>Deprecated.</strong> Use <a href="#query_Query-circle">circle</a> instead.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5876">line 5876</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="centerSphere"><span class="type-signature"></span>centerSphere<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p><em>DEPRECATED</em> Specifies a <code>$centerSphere</code> condition</p>
<p><strong>Deprecated.</strong> Use <a href="#query_Query-circle">circle</a> instead.</p>
<h4>Example:</h4>
<pre><code>const area = { center: [50, 50], radius: 10 };
query.where('loc').within().centerSphere(area);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5909">line 5909</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>MongoDB Geospatial Indexing https://www.mongodb.com/docs/manual/core/geospatial-indexes/</li>
        
            <li>$centerSphere https://www.mongodb.com/docs/manual/reference/operator/centerSphere/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="circle"><span class="type-signature"></span>circle<span class="signature">(path<span class="signature-attributes">opt</span>, area)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$center</code> or <code>$centerSphere</code> condition.</p>
<h4>Example:</h4>
<pre><code>const area = { center: [50, 50], radius: 10, unique: true }
query.where('loc').within().circle(area)
// alternatively
query.circle('loc', area);

// spherical calculations
const area = { center: [50, 50], radius: 10, unique: true, spherical: true }
query.where('loc').within().circle(area)
// alternatively
query.circle('loc', area);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>area</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5847">line 5847</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$center https://www.mongodb.com/docs/manual/reference/operator/center/</li>
        
            <li>$centerSphere https://www.mongodb.com/docs/manual/reference/operator/centerSphere/</li>
        
            <li>$geoWithin https://www.mongodb.com/docs/manual/reference/operator/geoWithin/</li>
        
            <li>MongoDB Geospatial Indexing https://www.mongodb.com/docs/manual/core/geospatial-indexes/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="circle"><span class="type-signature"></span>circle<span class="signature">(path<span class="signature-attributes">opt</span>, area)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a $center or $centerSphere condition.</p>
<p>####Example</p>
<pre><code>var area = { center: [50, 50], radius: 10, unique: true }
query.where('loc').within().circle(area)
query.center('loc', area);

// for spherical calculations
var area = { center: [50, 50], radius: 10, unique: true, spherical: true }
query.where('loc').within().circle(area)
query.center('loc', area);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>area</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line870">line 870</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://www.mongodb.org/display/DOCS/Geospatial+Indexing">http://www.mongodb.org/display/DOCS/Geospatial+Indexing</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="clone"><span class="type-signature"></span>clone<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Make a copy of this query so you can re-execute it.</p>
<h4>Example:</h4>
<pre><code>const q = Book.findOne({ title: 'Casino Royale' });
await q.exec();
await q.exec(); // Throws an error because you can't execute a query twice

await q.clone().exec(); // Works
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line261">line 261</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>copy</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="collation"><span class="type-signature"></span>collation<span class="signature">(value)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Adds a collation to this op (MongoDB 3.4 and up)</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2453">line 2453</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>MongoDB docs https://www.mongodb.com/docs/manual/reference/method/cursor.collation/#cursor.collation</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="collation"><span class="type-signature"></span>collation<span class="signature">(value)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Adds a collation to this op (MongoDB 3.4 and up)</p>
<p>####Example</p>
<pre><code>query.find().collation({ locale: &quot;en_US&quot;, strength: 1 })
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>value</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line218">line 218</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>MongoDB docs https://docs.mongodb.com/manual/reference/method/cursor.collation/#cursor.collation</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="collection"><span class="type-signature"></span>collection<span class="signature">(coll)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets this Querys collection.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>coll</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Collection">Collection</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line199">line 199</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="comment"><span class="type-signature"></span>comment<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the <code>comment</code> option.</p>
<h4>Example:</h4>
<pre><code>query.comment('login query')
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line946">line 946</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>comment https://www.mongodb.com/docs/manual/reference/operator/comment/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="count"><span class="type-signature"></span>count<span class="signature">(filter<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies this query as a <code>count</code> query.</p>
<p>This method is deprecated. If you want to count the number of documents in
a collection, e.g. <code>count({})</code>, use the <a href="#query_Query-estimatedDocumentCount"><code>estimatedDocumentCount()</code> function</a>
instead. Otherwise, use the <a href="#query_Query-countDocuments"><code>countDocuments()</code></a> function instead.</p>
<p>Passing a <code>callback</code> executes the query.</p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>count()</code></li>
</ul>
<h4>Example:</h4>
<pre><code>const countQuery = model.where({ 'color': 'black' }).count();

query.count({ color: 'black' }).count(callback)

query.count({ color: 'black' }, callback)

query.where('color', 'black').count(function (err, count) {
  if (err) return handleError(err);
  console.log('there are %d kittens', count);
})
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>count documents that match this object</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, count)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2740">line 2740</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>count https://www.mongodb.com/docs/manual/reference/method/db.collection.count/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="count"><span class="type-signature"></span>count<span class="signature">(criteria<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Exectues the query as a count() operation.</p>
<p>Passing a <code>callback</code> executes the query.</p>
<p>####Example</p>
<pre><code>query.count().where('color', 'black').exec(callback);

query.count({ color: 'black' }).count(callback)

query.count({ color: 'black' }, callback)

query.where('color', 'black').count(function (err, count) {
  if (err) return handleError(err);
  console.log('there are %d kittens', count);
})
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2051">line 2051</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Aggregation#Aggregation-Count</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="countDocuments"><span class="type-signature"></span>countDocuments<span class="signature">(filter<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies this query as a <code>countDocuments()</code> query. Behaves like <code>count()</code>,
except it always does a full collection scan when passed an empty filter <code>{}</code>.</p>
<p>There are also minor differences in how <code>countDocuments()</code> handles
<a href="https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#countDocuments"><code>$where</code> and a couple geospatial operators</a>.
versus <code>count()</code>.</p>
<p>Passing a <code>callback</code> executes the query.</p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>countDocuments()</code></li>
</ul>
<h4>Example:</h4>
<pre><code>const countQuery = model.where({ 'color': 'black' }).countDocuments();

query.countDocuments({ color: 'black' }).count(callback);

query.countDocuments({ color: 'black' }, callback);

query.where('color', 'black').countDocuments(function(err, count) {
  if (err) return handleError(err);
  console.log('there are %d kittens', count);
});
</code></pre>
<p>The <code>countDocuments()</code> function is similar to <code>count()</code>, but there are a
<a href="https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#countDocuments">few operators that <code>countDocuments()</code> does not support</a>.
Below are the operators that <code>count()</code> supports but <code>countDocuments()</code> does not,
and the suggested replacement:</p>
<ul>
<li><code>$where</code>: <a href="https://www.mongodb.com/docs/manual/reference/operator/query/expr/"><code>$expr</code></a></li>
<li><code>$near</code>: <a href="https://www.mongodb.com/docs/manual/reference/operator/query/geoWithin/"><code>$geoWithin</code></a> with <a href="https://www.mongodb.com/docs/manual/reference/operator/query/center/#op._S_center"><code>$center</code></a></li>
<li><code>$nearSphere</code>: <a href="https://www.mongodb.com/docs/manual/reference/operator/query/geoWithin/"><code>$geoWithin</code></a> with <a href="https://www.mongodb.com/docs/manual/reference/operator/query/centerSphere/#op._S_centerSphere"><code>$centerSphere</code></a></li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, count)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2852">line 2852</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>countDocuments https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#countDocuments</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="cursor"><span class="type-signature"></span>cursor<span class="signature">(options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="QueryCursor.html">QueryCursor</a>}</span></h4>
    

    



<div class="description">
    <p>Returns a wrapper around a <a href="https://mongodb.github.io/node-mongodb-native/4.9/classes/FindCursor.html">mongodb driver cursor</a>.
A QueryCursor exposes a Streams3 interface, as well as a <code>.next()</code> function.</p>
<p>The <code>.cursor()</code> function triggers pre find hooks, but <strong>not</strong> post find hooks.</p>
<h4>Example:</h4>
<pre><code>// There are 2 ways to use a cursor. First, as a stream:
Thing.
  find({ name: /^hello/ }).
  cursor().
  on('data', function(doc) { console.log(doc); }).
  on('end', function() { console.log('Done!'); });

// Or you can use `.next()` to manually get the next doc in the stream.
// `.next()` returns a promise, so you can use promises or callbacks.
const cursor = Thing.find({ name: /^hello/ }).cursor();
cursor.next(function(error, doc) {
  console.log(doc);
});

// Because `.next()` returns a promise, you can use co
// to easily iterate through all documents without loading them
// all into memory.
const cursor = Thing.find({ name: /^hello/ }).cursor();
for (let doc = await cursor.next(); doc != null; doc = await cursor.next()) {
  console.log(doc);
}
</code></pre>
<h4>Valid options</h4>
<ul>
<li><code>transform</code>: optional function which accepts a mongoose document. The return value of the function will be emitted on <code>data</code> and returned by <code>.next()</code>.</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5484">line 5484</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>QueryCursor /docs/api/querycursor.html</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="QueryCursor.html">QueryCursor</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="cursor"><span class="type-signature"></span>cursor<span class="signature">(criteria<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns the query cursor</p>
<p>####Examples</p>
<pre><code>query.find().cursor();
query.cursor({ name: 'Burning Lights' });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1945">line 1945</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>cursor</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="cursor"><span class="type-signature"></span>cursor<span class="signature">()</span><span class="type-signature"> &rarr; {Cursor}</span></h4>
    

    



<div class="description">
    <p>Returns a cursor for the given <code>find</code> query.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2951">line 2951</a>
    </li></ul></dd>
    

    

    

    
</dl>













<h5>Throws:</h5>

        

    <div class="param-desc">
    
        <p>Error if operation is not a find</p>
    
    </div>


    


<h5>Returns:</h5>

        
<div class="param-desc">
    <p>MongoDB driver cursor</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Cursor</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteMany"><span class="type-signature"></span>deleteMany<span class="signature">(filter<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as a <code>deleteMany()</code> operation. Works like
remove, except it deletes <em>every</em> document that matches <code>filter</code> in the
collection, regardless of the value of <code>single</code>.</p>
<p>This function triggers <code>deleteMany</code> middleware.</p>
<h4>Example:</h4>
<pre><code>await Character.deleteMany({ name: /Stark/, age: { $gte: 18 } });

// Using callbacks:
Character.deleteMany({ name: /Stark/, age: { $gte: 18 } }, callback);
</code></pre>
<p>This function calls the MongoDB driver's <a href="https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#deleteMany"><code>Collection#deleteMany()</code> function</a>.
The returned <a href="https://mongoosejs.com/docs/queries.html">promise</a> resolves to an
object that contains 3 properties:</p>
<ul>
<li><code>ok</code>: <code>1</code> if no errors occurred</li>
<li><code>deletedCount</code>: the number of documents deleted</li>
<li><code>n</code>: the number of documents deleted. Equal to <code>deletedCount</code>.</li>
</ul>
<h4>Example:</h4>
<pre><code>const res = await Character.deleteMany({ name: /Stark/, age: { $gte: 18 } });
// `0` if no docs matched the filter, number of docs deleted otherwise
res.deletedCount;
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional see <a href="#query_Query-setOptions"><code>Query.prototype.setOptions()</code></a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, mongooseDeleteResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3232">line 3232</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>DeleteResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/DeleteResult.html</li>
        
            <li>deleteMany https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#deleteMany</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteMany"><span class="type-signature"></span>deleteMany<span class="signature">(criteria<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as a <code>deleteMany()</code> operation. Behaves like
<code>remove()</code>, except for ignores the <code>justOne</code> option and always deletes
<em>every</em> document that matches <code>criteria</code>.</p>
<p>####Example</p>
<pre><code>mquery(collection).deleteMany({ artist: 'Anne Murray' }, callback)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2632">line 2632</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteOne"><span class="type-signature"></span>deleteOne<span class="signature">(filter<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as a <code>deleteOne()</code> operation. Works like
remove, except it deletes at most one document regardless of the <code>single</code>
option.</p>
<p>This function triggers <code>deleteOne</code> middleware.</p>
<h4>Example:</h4>
<pre><code>await Character.deleteOne({ name: 'Eddard Stark' });

// Using callbacks:
Character.deleteOne({ name: 'Eddard Stark' }, callback);
</code></pre>
<p>This function calls the MongoDB driver's <a href="https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#deleteOne"><code>Collection#deleteOne()</code> function</a>.
The returned <a href="https://mongoosejs.com/docs/queries.html">promise</a> resolves to an
object that contains 3 properties:</p>
<ul>
<li><code>ok</code>: <code>1</code> if no errors occurred</li>
<li><code>deletedCount</code>: the number of documents deleted</li>
<li><code>n</code>: the number of documents deleted. Equal to <code>deletedCount</code>.</li>
</ul>
<h4>Example:</h4>
<pre><code>const res = await Character.deleteOne({ name: 'Eddard Stark' });
// `1` if MongoDB deleted a doc, `0` if no docs matched the filter `{ name: ... }`
res.deletedCount;
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional see <a href="#query_Query-setOptions"><code>Query.prototype.setOptions()</code></a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, mongooseDeleteResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3141">line 3141</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>DeleteResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/DeleteResult.html</li>
        
            <li>deleteOne https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#deleteOne</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="deleteOne"><span class="type-signature"></span>deleteOne<span class="signature">(criteria<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as a <code>deleteOne()</code> operation. Behaves like
<code>remove()</code>, except for ignores the <code>justOne</code> option and always deletes at
most one document.</p>
<p>####Example</p>
<pre><code>mquery(collection).deleteOne({ artist: 'Anne Murray' }, callback)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2583">line 2583</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="distinct"><span class="type-signature"></span>distinct<span class="signature">(field<span class="signature-attributes">opt</span>, filter<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declares or executes a distinct() operation.</p>
<p>Passing a <code>callback</code> executes the query.</p>
<p>This function does not trigger any middleware.</p>
<h4>Example:</h4>
<pre><code>distinct(field, conditions, callback)
distinct(field, conditions)
distinct(field, callback)
distinct(field)
distinct(callback)
distinct()
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, arr)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2934">line 2934</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>distinct https://www.mongodb.com/docs/manual/reference/method/db.collection.distinct/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="distinct"><span class="type-signature"></span>distinct<span class="signature">(criteria<span class="signature-attributes">opt</span>, field<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declares or executes a distinct() operation.</p>
<p>Passing a <code>callback</code> executes the query.</p>
<p>####Example</p>
<pre><code>distinct(criteria, field, fn)
distinct(criteria, field)
distinct(field, fn)
distinct(field)
distinct(fn)
distinct()
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>field</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2099">line 2099</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Aggregation#Aggregation-Distinct</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="elemMatch"><span class="type-signature"></span>elemMatch<span class="signature">(path, filter)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies an <code>$elemMatch</code> condition</p>
<h4>Example:</h4>
<pre><code>query.elemMatch('comment', { author: 'autobot', votes: {$gte: 5}})

query.where('comment').elemMatch({ author: 'autobot', votes: {$gte: 5}})

query.elemMatch('comment', function (elem) {
  elem.where('author').equals('autobot');
  elem.where('votes').gte(5);
})

query.where('comment').elemMatch(function (elem) {
  elem.where({ author: 'autobot' });
  elem.where('votes').gte(5);
})
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line773">line 773</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$elemMatch https://www.mongodb.com/docs/manual/reference/operator/elemMatch/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="elemMatch"><span class="type-signature"></span>elemMatch<span class="signature">(path, criteria)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies an <code>$elemMatch</code> condition</p>
<p>####Example</p>
<pre><code>query.elemMatch('comment', { author: 'autobot', votes: {$gte: 5}})

query.where('comment').elemMatch({ author: 'autobot', votes: {$gte: 5}})

query.elemMatch('comment', function (elem) {
  elem.where('author').equals('autobot');
  elem.where('votes').gte(5);
})

query.where('comment').elemMatch(function (elem) {
  elem.where({ author: 'autobot' });
  elem.where('votes').gte(5);
})
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line677">line 677</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="eq"><span class="type-signature"></span>eq<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies the complementary comparison value for paths specified with <code>where()</code>
This is alias of <code>equals</code></p>
<p>####Example</p>
<pre><code>User.where('age').eq(49);

// is the same as

User.shere('age').equals(49);

// is the same as

User.where('age', 49);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line342">line 342</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="equals"><span class="type-signature"></span>equals<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies the complementary comparison value for paths specified with <code>where()</code></p>
<h4>Example:</h4>
<pre><code>User.where('age').equals(49);

// is the same as

User.where('age', 49);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line462">line 462</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="equals"><span class="type-signature"></span>equals<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies the complementary comparison value for paths specified with <code>where()</code></p>
<p>####Example</p>
<pre><code>User.where('age').equals(49);

// is the same as

User.where('age', 49);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line314">line 314</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="error"><span class="type-signature"></span>error<span class="signature">(err)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Gets/sets the error flag on this query. If this flag is not null or
undefined, the <code>exec()</code> promise will reject without executing.</p>
<h4>Example:</h4>
<pre><code>Query().error(); // Get current error value
Query().error(null); // Unset the current error
Query().error(new Error('test')); // `exec()` will resolve with test
Schema.pre('find', function() {
  if (!this.getQuery().userId) {
    this.error(new Error('Not allowed to query without setting userId'));
  }
});
</code></pre>
<p>Note that query casting runs <strong>after</strong> hooks, so cast errors will override
custom errors.</p>
<h4>Example:</h4>
<pre><code>const TestSchema = new Schema({ num: Number });
const TestModel = db.model('Test', TestSchema);
TestModel.find({ num: 'not a number' }).error(new Error('woops')).exec(function(error) {
  // `error` will be a cast error because `num` failed to cast
});
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Error">Error</a></span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"><p>if set, <code>exec()</code> will fail fast before sending the query to MongoDB</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2152">line 2152</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="estimatedDocumentCount"><span class="type-signature"></span>estimatedDocumentCount<span class="signature">(options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies this query as a <code>estimatedDocumentCount()</code> query. Faster than
using <code>countDocuments()</code> for large collections because
<code>estimatedDocumentCount()</code> uses collection metadata rather than scanning
the entire collection.</p>
<p><code>estimatedDocumentCount()</code> does <strong>not</strong> accept a filter. <code>Model.find({ foo: bar }).estimatedDocumentCount()</code>
is equivalent to <code>Model.find().estimatedDocumentCount()</code></p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>estimatedDocumentCount()</code></li>
</ul>
<h4>Example:</h4>
<pre><code>await Model.find().estimatedDocumentCount();
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>passed transparently to the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/EstimatedDocumentCountOptions.html">MongoDB driver</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, count)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2787">line 2787</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>estimatedDocumentCount https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#estimatedDocumentCount</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="exec"><span class="type-signature"></span>exec<span class="signature">(operation<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Promise">Promise</a>}</span></h4>
    

    



<div class="description">
    <p>Executes the query</p>
<h4>Example:</h4>
<pre><code>const promise = query.exec();
const promise = query.exec('update');

query.exec(callback);
query.exec('find', callback);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>operation</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params depend on the function being called</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4923">line 4923</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Promise">Promise</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="exec"><span class="type-signature"></span>exec<span class="signature">(operation<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Executes the query</p>
<p>####Examples</p>
<pre><code>query.exec();
query.exec(callback);
query.exec('update');
query.exec('find', callback);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>operation</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2873">line 2873</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="exists"><span class="type-signature"></span>exists<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies an <code>$exists</code> condition</p>
<h4>Example:</h4>
<pre><code>// { name: { $exists: true }}
Thing.where('name').exists()
Thing.where('name').exists(true)
Thing.find().exists('name')

// { name: { $exists: false }}
Thing.where('name').exists(false);
Thing.find().exists('name', false);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line749">line 749</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$exists https://www.mongodb.com/docs/manual/reference/operator/exists/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="exists"><span class="type-signature"></span>exists<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies an <code>$exists</code> condition</p>
<p>####Example</p>
<pre><code>// { name: { $exists: true }}
Thing.where('name').exists()
Thing.where('name').exists(true)
Thing.find().exists('name')

// { name: { $exists: false }}
Thing.where('name').exists(false);
Thing.find().exists('name', false);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line626">line 626</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="explain"><span class="type-signature"></span>explain<span class="signature">(verbose<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.explain/"><code>explain</code> option</a>,
which makes this query return detailed execution stats instead of the actual
query result. This method is useful for determining what index your queries
use.</p>
<p>Calling <code>query.explain(v)</code> is equivalent to <code>query.setOptions({ explain: v })</code></p>
<h4>Example:</h4>
<pre><code>const query = new Query();
const res = await query.find({ a: 1 }).explain('queryPlanner');
console.log(res);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>verbose</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The verbosity mode. Either 'queryPlanner', 'executionStats', or 'allPlansExecution'. The default is 'queryPlanner'</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1710">line 1710</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="find"><span class="type-signature"></span>find<span class="signature">(filter<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Find all documents that match <code>selector</code>. The result will be an array of documents.</p>
<p>If there are too many documents in the result to fit in memory, use
<a href="#query_Query-cursor"><code>Query.prototype.cursor()</code></a></p>
<h4>Example:</h4>
<pre><code>// Using async/await
const arr = await Movie.find({ year: { $gte: 1980, $lte: 1989 } });

// Using callbacks
Movie.find({ year: { $gte: 1980, $lte: 1989 } }, function(err, arr) {});
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#ObjectId">ObjectId</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector. If not specified, returns all documents.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2359">line 2359</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="find"><span class="type-signature"></span>find<span class="signature">(criteria<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Finds documents.</p>
<p>Passing a <code>callback</code> executes the query.</p>
<p>####Example</p>
<pre><code>query.find()
query.find(callback)
query.find({ name: 'Burning Lights' }, callback)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1901">line 1901</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findOne"><span class="type-signature"></span>findOne<span class="signature">(filter<span class="signature-attributes">opt</span>, projection<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declares the query a findOne operation. When executed, the first found document is passed to the callback.</p>
<p>Passing a <code>callback</code> executes the query. The result of the query is a single document.</p>
<ul>
<li><em>Note:</em> <code>conditions</code> is optional, and if <code>conditions</code> is null or undefined,
mongoose will send an empty <code>findOne</code> command to MongoDB, which will return
an arbitrary document. If you're querying by <code>_id</code>, use <code>Model.findById()</code>
instead.</li>
</ul>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>findOne()</code></li>
</ul>
<h4>Example:</h4>
<pre><code>const query  = Kitten.where({ color: 'white' });
query.findOne(function (err, kitten) {
  if (err) return handleError(err);
  if (kitten) {
    // doc may be null if no document matched
  }
});
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>projection</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional fields to return</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>see <a href="#query_Query-setOptions"><code>setOptions()</code></a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, document)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2586">line 2586</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>findOne https://www.mongodb.com/docs/manual/reference/method/db.collection.findOne/</li>
        
            <li>Query.select #query_Query-select</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findOne"><span class="type-signature"></span>findOne<span class="signature">(criteria<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Executes the query as a findOne() operation.</p>
<p>Passing a <code>callback</code> executes the query.</p>
<p>####Example</p>
<pre><code>query.findOne().where('name', /^Burning/);

query.findOne({ name: /^Burning/ })

query.findOne({ name: /^Burning/ }, callback); // executes

query.findOne(function (err, doc) {
  if (err) return handleError(err);
  if (doc) {
    // doc may be null if no document matched

  }
});
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1994">line 1994</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findOneAndRemove"><span class="type-signature"></span>findOneAndRemove<span class="signature">(conditions<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Issues a mongodb <a href="https://www.mongodb.com/docs/manual/reference/command/findAndModify/">findAndModify</a> remove command.</p>
<p>Finds a matching document, removes it, passing the found document (if any) to
the callback. Executes if <code>callback</code> is passed.</p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>findOneAndRemove()</code></li>
</ul>
<h4>Available options</h4>
<ul>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>maxTimeMS</code>: puts a time limit on the query - requires mongodb &gt;= 2.6.0</li>
<li><code>rawResult</code>: if true, resolves to the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></li>
</ul>
<h4>Callback Signature</h4>
<pre><code>function(error, doc) {
  // error: any errors that occurred
  // doc: the document before updates are applied if `new: false`, or after updates if `new = true`
}
</code></pre>
<h4>Example:</h4>
<pre><code>A.where().findOneAndRemove(conditions, options, callback) // executes
A.where().findOneAndRemove(conditions, options)  // return Query
A.where().findOneAndRemove(conditions, callback) // executes
A.where().findOneAndRemove(conditions) // returns Query
A.where().findOneAndRemove(callback)   // executes
A.where().findOneAndRemove()           // returns Query
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>conditions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rawResult</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>if true, returns the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientSession.html">ClientSession</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>The session associated with this query. See <a href="/docs/transactions.html">transactions docs</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, document)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3501">line 3501</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>findAndModify command https://www.mongodb.com/docs/manual/reference/command/findAndModify/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findOneAndUpdate"><span class="type-signature"></span>findOneAndUpdate<span class="signature">(filter<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Issues a mongodb <a href="https://www.mongodb.com/docs/manual/reference/command/findAndModify/">findAndModify</a> update command.</p>
<p>Finds a matching document, updates it according to the <code>update</code> arg, passing any <code>options</code>, and returns the found
document (if any) to the callback. The query executes if
<code>callback</code> is passed.</p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>findOneAndUpdate()</code></li>
</ul>
<h4>Available options</h4>
<ul>
<li><code>new</code>: bool - if true, return the modified document rather than the original. defaults to false (changed in 4.0)</li>
<li><code>upsert</code>: bool - creates the object if it doesn't exist. defaults to false.</li>
<li><code>fields</code>: {Object|String} - Field selection. Equivalent to <code>.select(fields).findOneAndUpdate()</code></li>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>maxTimeMS</code>: puts a time limit on the query - requires mongodb &gt;= 2.6.0</li>
<li><code>runValidators</code>: if true, runs <a href="/docs/validation.html#update-validators">update validators</a> on this command. Update validators validate the update operation against the model's schema.</li>
<li><code>setDefaultsOnInsert</code>: <code>true</code> by default. If <code>setDefaultsOnInsert</code> and <code>upsert</code> are true, mongoose will apply the <a href="https://mongoosejs.com/docs/defaults.html">defaults</a> specified in the model's schema if a new document is created.</li>
<li><code>rawResult</code>: if true, returns the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></li>
</ul>
<h4>Callback Signature</h4>
<pre><code>function(error, doc) {
  // error: any errors that occurred
  // doc: the document before updates are applied if `new: false`, or after updates if `new = true`
}
</code></pre>
<h4>Example:</h4>
<pre><code>query.findOneAndUpdate(conditions, update, options, callback) // executes
query.findOneAndUpdate(conditions, update, options)  // returns Query
query.findOneAndUpdate(conditions, update, callback) // executes
query.findOneAndUpdate(conditions, update)           // returns Query
query.findOneAndUpdate(update, callback)             // returns Query
query.findOneAndUpdate(update)                       // returns Query
query.findOneAndUpdate(callback)                     // executes
query.findOneAndUpdate()                             // returns Query
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rawResult</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>if true, returns the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientSession.html">ClientSession</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>The session associated with this query. See <a href="/docs/transactions.html">transactions docs</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>multipleCastError</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>by default, mongoose only returns the first error that occurred in casting the query. Turn on this option to aggregate all the cast errors.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>new</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>By default, <code>findOneAndUpdate()</code> returns the document as it was <strong>before</strong> <code>update</code> was applied. If you set <code>new: true</code>, <code>findOneAndUpdate()</code> will instead give you the object after <code>update</code> was applied.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lean</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>if truthy, mongoose will return the document as a plain JavaScript object rather than a mongoose document. See <a href="#query_Query-lean"><code>Query.lean()</code></a> and <a href="/docs/tutorials/lean.html">the Mongoose lean tutorial</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientSession.html">ClientSession</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>The session associated with this query. See <a href="/docs/transactions.html">transactions docs</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timestamps</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>If set to <code>false</code> and <a href="/docs/guide.html#timestamps">schema-level timestamps</a> are enabled, skip timestamps for this update. Note that this allows you to overwrite timestamps. Does nothing if schema-level timestamps are not set.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>returnOriginal</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>An alias for the <code>new</code> option. <code>returnOriginal: false</code> is equivalent to <code>new: true</code>.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, doc), <em>unless</em> <code>rawResult</code> is used, in which case params are (error, writeOpResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3349">line 3349</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Tutorial /docs/tutorials/findoneandupdate.html</li>
        
            <li>findAndModify command https://www.mongodb.com/docs/manual/reference/command/findAndModify/</li>
        
            <li>ModifyResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html</li>
        
            <li>findOneAndUpdate https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#findOneAndUpdate</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="findOneAndUpdate"><span class="type-signature"></span>findOneAndUpdate<span class="signature">(query<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Issues a mongodb <a href="http://www.mongodb.org/display/DOCS/findAndModify+Command">findAndModify</a> update command.</p>
<p>Finds a matching document, updates it according to the <code>update</code> arg, passing any <code>options</code>, and returns the found document (if any) to the callback. The query executes immediately if <code>callback</code> is passed.</p>
<p>####Available options</p>
<ul>
<li><code>new</code>: bool - true to return the modified document rather than the original. defaults to true</li>
<li><code>upsert</code>: bool - creates the object if it doesn't exist. defaults to false.</li>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
</ul>
<p>####Examples</p>
<pre><code>query.findOneAndUpdate(conditions, update, options, callback) // executes
query.findOneAndUpdate(conditions, update, options)  // returns Query
query.findOneAndUpdate(conditions, update, callback) // executes
query.findOneAndUpdate(conditions, update)           // returns Query
query.findOneAndUpdate(update, callback)             // returns Query
query.findOneAndUpdate(update)                       // returns Query
query.findOneAndUpdate(callback)                     // executes
query.findOneAndUpdate()                             // returns Query
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>query</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2697">line 2697</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/findAndModify+Command</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="geometry"><span class="type-signature"></span>geometry<span class="signature">(object)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$geometry</code> condition</p>
<h4>Example:</h4>
<pre><code>const polyA = [[[ 10, 20 ], [ 10, 40 ], [ 30, 40 ], [ 30, 20 ]]]
query.where('loc').within().geometry({ type: 'Polygon', coordinates: polyA })

// or
const polyB = [[ 0, 0 ], [ 1, 1 ]]
query.where('loc').within().geometry({ type: 'LineString', coordinates: polyB })

// or
const polyC = [ 0, 0 ]
query.where('loc').within().geometry({ type: 'Point', coordinates: polyC })

// or
query.where('loc').intersects().geometry({ type: 'Point', coordinates: polyC })
</code></pre>
<p>The argument is assigned to the most recent path passed to <code>where()</code>.</p>
<h4>Note:</h4>
<p><code>geometry()</code> <strong>must</strong> come after either <code>intersects()</code> or <code>within()</code>.</p>
<p>The <code>object</code> argument must contain <code>type</code> and <code>coordinates</code> properties.</p>
<ul>
<li>type {String}</li>
<li>coordinates {Array}</li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Must contain a <code>type</code> property which is a String and a <code>coordinates</code> property which is an Array. See the examples.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5599">line 5599</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$geometry https://www.mongodb.com/docs/manual/reference/operator/geometry/</li>
        
            <li>Geospatial Support Enhancements https://www.mongodb.com/docs/manual/release-notes/2.4/#geospatial-support-enhancements</li>
        
            <li>MongoDB Geospatial Indexing https://www.mongodb.com/docs/manual/core/geospatial-indexes/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="geometry"><span class="type-signature"></span>geometry<span class="signature">(object)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$geometry</code> condition</p>
<p>####Example</p>
<pre><code>var polyA = [[[ 10, 20 ], [ 10, 40 ], [ 30, 40 ], [ 30, 20 ]]]
query.where('loc').within().geometry({ type: 'Polygon', coordinates: polyA })

// or
var polyB = [[ 0, 0 ], [ 1, 1 ]]
query.where('loc').within().geometry({ type: 'LineString', coordinates: polyB })

// or
var polyC = [ 0, 0 ]
query.where('loc').within().geometry({ type: 'Point', coordinates: polyC })

// or
query.where('loc').intersects().geometry({ type: 'Point', coordinates: polyC })
</code></pre>
<p>####NOTE:</p>
<p><code>geometry()</code> <strong>must</strong> come after either <code>intersects()</code> or <code>within()</code>.</p>
<p>The <code>object</code> argument must contain <code>type</code> and <code>coordinates</code> properties.</p>
<ul>
<li>type {String}</li>
<li>coordinates {Array}</li>
</ul>
<p>The most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>object</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>Must contain a <code>type</code> property which is a String and a <code>coordinates</code> property which is an Array. See the examples.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1060">line 1060</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://docs.mongodb.org/manual/release-notes/2.4/#new-geospatial-indexes-with-geojson-and-improved-spherical-geometry">http://docs.mongodb.org/manual/release-notes/2.4/#new-geospatial-indexes-with-geojson-and-improved-spherical-geometry</a></li>
        
            <li><a href="http://www.mongodb.org/display/DOCS/Geospatial+Indexing">http://www.mongodb.org/display/DOCS/Geospatial+Indexing</a></li>
        
            <li>$geometry http://docs.mongodb.org/manual/reference/operator/geometry/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(path)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>For update operations, returns the value of a path in the update's <code>$set</code>.
Useful for writing getters/setters that can work with both update operations
and <code>save()</code>.</p>
<h4>Example:</h4>
<pre><code>const query = Model.updateOne({}, { $set: { name: 'Jean-Luc Picard' } });
query.get('name'); // 'Jean-Luc Picard'
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>path or object of key/value pairs to get</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2101">line 2101</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getFilter"><span class="type-signature"></span>getFilter<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns the current query filter (also known as conditions) as a <a href="https://masteringjs.io/tutorials/fundamentals/pojo">POJO</a>.</p>
<h4>Example:</h4>
<pre><code>const query = new Query();
query.find({ a: 1 }).where('b').gt(2);
query.getFilter(); // { a: 1, b: { $gt: 2 } }
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1790">line 1790</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>current query filter</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getOptions"><span class="type-signature"></span>getOptions<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Gets query options.</p>
<h4>Example:</h4>
<pre><code>const query = new Query();
query.limit(10);
query.setOptions({ maxTimeMS: 1000 });
query.getOptions(); // { limit: 10, maxTimeMS: 1000 }
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1545">line 1545</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>the options</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getPopulatedPaths"><span class="type-signature"></span>getPopulatedPaths<span class="signature">()</span><span class="type-signature"> &rarr; {Array}</span></h4>
    

    



<div class="description">
    <p>Gets a list of paths to be populated by this query</p>
<h4>Example:</h4>
<pre><code> bookSchema.pre('findOne', function() {
   let keys = this.getPopulatedPaths(); // ['author']
 });
 ...
 Book.findOne({}).populate('author');
</code></pre>
<h4>Example:</h4>
<pre><code> // Deep populate
 const q = L1.find().populate({
   path: 'level2',
   populate: { path: 'level3' }
 });
 q.getPopulatedPaths(); // ['level2', 'level2.level3']
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5295">line 5295</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>an array of strings representing populated paths</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Array</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getQuery"><span class="type-signature"></span>getQuery<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns the current query filter. Equivalent to <code>getFilter()</code>.</p>
<p>You should use <code>getFilter()</code> instead of <code>getQuery()</code> where possible. <code>getQuery()</code>
will likely be deprecated in a future release.</p>
<h4>Example:</h4>
<pre><code>const query = new Query();
query.find({ a: 1 }).where('b').gt(2);
query.getQuery(); // { a: 1, b: { $gt: 2 } }
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1810">line 1810</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>current query filter</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="getUpdate"><span class="type-signature"></span>getUpdate<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns the current update operations as a JSON object.</p>
<h4>Example:</h4>
<pre><code>const query = new Query();
query.update({}, { $set: { a: 5 } });
query.getUpdate(); // { $set: { a: 5 } }
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1846">line 1846</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>current update operations</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="gt"><span class="type-signature"></span>gt<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$gt</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
<h4>Example:</h4>
<pre><code>Thing.find().where('age').gt(21);

// or
Thing.find().gt('age', 21);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line529">line 529</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$gt https://www.mongodb.com/docs/manual/reference/operator/gt/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="gte"><span class="type-signature"></span>gte<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$gte</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line550">line 550</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$gte https://www.mongodb.com/docs/manual/reference/operator/gte/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="hint"><span class="type-signature"></span>hint<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets query hints.</p>
<h4>Example:</h4>
<pre><code>query.hint({ indexA: 1, indexB: -1 });
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>a hint object</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line985">line 985</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$hint https://www.mongodb.com/docs/manual/reference/operator/hint/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="hint"><span class="type-signature"></span>hint<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets query hints.</p>
<p>####Example</p>
<pre><code>query.hint({ indexA: 1, indexB: -1});
query.hint('indexA_1_indexB_1');
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">string</span>


            
            </td>

            

            

            <td class="description last"><p>a hint object or the index name</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1528">line 1528</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24hint</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="in"><span class="type-signature"></span>in<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies an <code>$in</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line606">line 606</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$in https://www.mongodb.com/docs/manual/reference/operator/in/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="incRequestId"><span class="type-signature"></span>incRequestId<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Assign next request Id.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongodb_lib_cmap_commands.js.html">mongodb/lib/cmap/commands.js</a>, <a href="mongodb_lib_cmap_commands.js.html#line70">line 70</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="intersects"><span class="type-signature"></span>intersects<span class="signature">(arg<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declares an intersects query for <code>geometry()</code>.</p>
<h4>Example:</h4>
<pre><code>query.where('path').intersects().geometry({
  type: 'LineString',
  coordinates: [[180.0, 11.0], [180, 9.0]]
});

query.where('path').intersects({
  type: 'LineString',
  coordinates: [[180.0, 11.0], [180, 9.0]]
});
</code></pre>
<h4>Note:</h4>
<p><strong>MUST</strong> be used after <code>where()</code>.</p>
<h4>Note:</h4>
<p>In Mongoose 3.7, <code>intersects</code> changed from a getter to a function. If you need the old syntax, use <a href="https://github.com/ebensing/mongoose-within">this</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5566">line 5566</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$geometry https://www.mongodb.com/docs/manual/reference/operator/geometry/</li>
        
            <li>geoIntersects https://www.mongodb.com/docs/manual/reference/operator/geoIntersects/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="intersects"><span class="type-signature"></span>intersects<span class="signature">(arg<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declares an intersects query for <code>geometry()</code>.</p>
<p>####Example</p>
<pre><code>query.where('path').intersects().geometry({
    type: 'LineString'
  , coordinates: [[180.0, 11.0], [180, 9.0]]
})

query.where('path').intersects({
    type: 'LineString'
  , coordinates: [[180.0, 11.0], [180, 9.0]]
})
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1005">line 1005</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="j"><span class="type-signature"></span>j<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Requests acknowledgement that this operation has been persisted to MongoDB's
on-disk journal.
This option is only valid for operations that write to the database:</p>
<ul>
<li><code>deleteOne()</code></li>
<li><code>deleteMany()</code></li>
<li><code>findOneAndDelete()</code></li>
<li><code>findOneAndReplace()</code></li>
<li><code>findOneAndUpdate()</code></li>
<li><code>remove()</code></li>
<li><code>update()</code></li>
<li><code>updateOne()</code></li>
<li><code>updateMany()</code></li>
</ul>
<p>Defaults to the schema's <a href="/docs/guide.html#writeConcern"><code>writeConcern.j</code> option</a></p>
<h4>Example:</h4>
<pre><code>await mongoose.model('Person').deleteOne({ name: 'Ned Stark' }).j(true);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1388">line 1388</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://www.mongodb.com/docs/manual/reference/write-concern/#j-option</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="j"><span class="type-signature"></span>j<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Requests acknowledgement that this operation has been persisted to MongoDB's
on-disk journal.
This option is only valid for operations that write to the database:</p>
<ul>
<li><code>deleteOne()</code></li>
<li><code>deleteMany()</code></li>
<li><code>findOneAndDelete()</code></li>
<li><code>findOneAndUpdate()</code></li>
<li><code>remove()</code></li>
<li><code>update()</code></li>
<li><code>updateOne()</code></li>
<li><code>updateMany()</code></li>
</ul>
<p>Defaults to the <code>j</code> value if it is specified in writeConcern options</p>
<p>####Example:</p>
<pre><code>mquery().w(2).j(true).wtimeout(2000);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1552">line 1552</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://docs.mongodb.com/manual/reference/write-concern/#j-option</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="lean"><span class="type-signature"></span>lean<span class="signature">(bool)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the lean option.</p>
<p>Documents returned from queries with the <code>lean</code> option enabled are plain
javascript objects, not <a href="/docs/api/document.html">Mongoose Documents</a>. They have no
<code>save</code> method, getters/setters, virtuals, or other Mongoose features.</p>
<h4>Example:</h4>
<pre><code>new Query().lean() // true
new Query().lean(true)
new Query().lean(false)

const docs = await Model.find().lean();
docs[0] instanceof mongoose.Document; // false
</code></pre>
<p><a href="/docs/tutorials/lean.html">Lean is great for high-performance, read-only cases</a>,
especially when combined
with <a href="/docs/queries.html#streaming">cursors</a>.</p>
<p>If you need virtuals, getters/setters, or defaults with <code>lean()</code>, you need
to use a plugin. See:</p>
<ul>
<li><a href="https://plugins.mongoosejs.io/plugins/lean-virtuals">mongoose-lean-virtuals</a></li>
<li><a href="https://plugins.mongoosejs.io/plugins/lean-getters">mongoose-lean-getters</a></li>
<li><a href="https://www.npmjs.com/package/mongoose-lean-defaults">mongoose-lean-defaults</a></li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bool</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>defaults to true</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2046">line 2046</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="limit"><span class="type-signature"></span>limit<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the maximum number of documents the query will return.</p>
<h4>Example:</h4>
<pre><code>query.limit(20);
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line841">line 841</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="lt"><span class="type-signature"></span>lt<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$lt</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line564">line 564</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$lt https://www.mongodb.com/docs/manual/reference/operator/lt/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="lte"><span class="type-signature"></span>lte<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$lte</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line578">line 578</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$lte https://www.mongodb.com/docs/manual/reference/operator/lte/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="maxDistance"><span class="type-signature"></span>maxDistance<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>maxDistance</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line688">line 688</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$maxDistance https://www.mongodb.com/docs/manual/reference/operator/maxDistance/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="maxScan"><span class="type-signature"></span>maxScan<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the maxScan option.</p>
<h4>Example:</h4>
<pre><code>query.maxScan(100);
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line908">line 908</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>maxScan https://www.mongodb.com/docs/v4.0/reference/method/cursor.maxScan/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="maxTimeMS"><span class="type-signature"></span>maxTimeMS<span class="signature">(ms<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the <a href="https://www.mongodb.com/docs/manual/reference/method/cursor.maxTimeMS/">maxTimeMS</a>
option. This will tell the MongoDB server to abort if the query or write op
has been running for more than <code>ms</code> milliseconds.</p>
<p>Calling <code>query.maxTimeMS(v)</code> is equivalent to <code>query.setOptions({ maxTimeMS: v })</code></p>
<h4>Example:</h4>
<pre><code>const query = new Query();
// Throws an error 'operation exceeded time limit' as long as there's
// &gt;= 1 doc in the queried collection
const res = await query.find({ $where: 'sleep(1000) || true' }).maxTimeMS(100);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ms</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The number of milliseconds</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1772">line 1772</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="maxscan"><span class="type-signature"></span>maxscan<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p><em>DEPRECATED</em> Alias of <code>maxScan</code></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5504">line 5504</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>maxScan #query_Query-maxScan</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="merge"><span class="type-signature"></span>merge<span class="signature">(source)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Merges another Query or conditions object into this one.</p>
<p>When a Query is passed, conditions, field selection and options are merged.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Query">Query</a></span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2396">line 2396</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="merge"><span class="type-signature"></span>merge<span class="signature">(source)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Merges another Query or conditions object into this one.</p>
<p>When a Query is passed, conditions, field selection and options are merged.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>source</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Query">Query</a></span>
|

<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1842">line 1842</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="mod"><span class="type-signature"></span>mod<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$mod</code> condition, filters documents for documents whose
<code>path</code> property is a number that is equal to <code>remainder</code> modulo <code>divisor</code>.</p>
<h4>Example:</h4>
<pre><code>// All find products whose inventory is odd
Product.find().mod('inventory', [2, 1]);
Product.find().where('inventory').mod([2, 1]);
// This syntax is a little strange, but supported.
Product.find().where('inventory').mod(2, 1);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>must be of length 2, first element is <code>divisor</code>, 2nd element is <code>remainder</code>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line702">line 702</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$mod https://www.mongodb.com/docs/manual/reference/operator/mod/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="mod"><span class="type-signature"></span>mod<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$mod</code> condition</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line582">line 582</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="mongooseOptions"><span class="type-signature"></span>mongooseOptions<span class="signature">(options)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Getter/setter around the current mongoose-specific options for this query
Below are the current Mongoose-specific options.</p>
<ul>
<li><code>populate</code>: an array representing what paths will be populated. Should have one entry for each call to <a href="#query_Query-populate"><code>Query.prototype.populate()</code></a></li>
<li><code>lean</code>: if truthy, Mongoose will not <a href="/docs/api/model.html#model_Model-hydrate">hydrate</a> any documents that are returned from this query. See <a href="#query_Query-lean"><code>Query.prototype.lean()</code></a> for more information.</li>
<li><code>strict</code>: controls how Mongoose handles keys that aren't in the schema for updates. This option is <code>true</code> by default, which means Mongoose will silently strip any paths in the update that aren't in the schema. See the <a href="/docs/guide.html#strict"><code>strict</code> mode docs</a> for more information.</li>
<li><code>strictQuery</code>: controls how Mongoose handles keys that aren't in the schema for the query <code>filter</code>. This option is <code>false</code> by default for backwards compatibility, which means Mongoose will allow <code>Model.find({ foo: 'bar' })</code> even if <code>foo</code> is not in the schema. See the <a href="/docs/guide.html#strictQuery"><code>strictQuery</code> docs</a> for more information.</li>
<li><code>nearSphere</code>: use <code>$nearSphere</code> instead of <code>near()</code>. See the <a href="#query_Query-nearSphere"><code>Query.prototype.nearSphere()</code> docs</a></li>
</ul>
<p>Mongoose maintains a separate object for internal options because
Mongoose sends <code>Query.prototype.options</code> to the MongoDB server, and the
above options are not relevant for the MongoDB server.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>if specified, overwrites the current options</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2195">line 2195</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>the options</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="ne"><span class="type-signature"></span>ne<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$ne</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line592">line 592</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$ne https://www.mongodb.com/docs/manual/reference/operator/ne/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="near"><span class="type-signature"></span>near<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$near</code> or <code>$nearSphere</code> condition</p>
<p>These operators return documents sorted by distance.</p>
<h4>Example:</h4>
<pre><code>query.where('loc').near({ center: [10, 10] });
query.where('loc').near({ center: [10, 10], maxDistance: 5 });
query.where('loc').near({ center: [10, 10], maxDistance: 5, spherical: true });
query.near('loc', { center: [10, 10], maxDistance: 5 });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5639">line 5639</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$near https://www.mongodb.com/docs/manual/reference/operator/near/</li>
        
            <li>$nearSphere https://www.mongodb.com/docs/manual/reference/operator/nearSphere/</li>
        
            <li>$maxDistance https://www.mongodb.com/docs/manual/reference/operator/maxDistance/</li>
        
            <li>MongoDB Geospatial Indexing https://www.mongodb.com/docs/manual/core/geospatial-indexes/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="near"><span class="type-signature"></span>near<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Overwriting mquery is needed to support a couple different near() forms found in older
versions of mongoose
near([1,1])
near(1,1)
near(field, [1,2])
near(field, 1, 2)
In addition to all of the normal forms supported by mquery</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5664">line 5664</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="near"><span class="type-signature"></span>near<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$near</code> or <code>$nearSphere</code> condition</p>
<p>These operators return documents sorted by distance.</p>
<p>####Example</p>
<pre><code>query.where('loc').near({ center: [10, 10] });
query.where('loc').near({ center: [10, 10], maxDistance: 5 });
query.where('loc').near({ center: [10, 10], maxDistance: 5, spherical: true });
query.near('loc', { center: [10, 10], maxDistance: 5 });
query.near({ center: { type: 'Point', coordinates: [..] }})
query.near().geometry({ type: 'Point', coordinates: [..] })
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line924">line 924</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://www.mongodb.org/display/DOCS/Geospatial+Indexing">http://www.mongodb.org/display/DOCS/Geospatial+Indexing</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="nearSphere"><span class="type-signature"></span>nearSphere<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p><em>DEPRECATED</em> Specifies a <code>$nearSphere</code> condition</p>
<h4>Example:</h4>
<pre><code>query.where('loc').nearSphere({ center: [10, 10], maxDistance: 5 });
</code></pre>
<p><strong>Deprecated.</strong> Use <code>query.near()</code> instead with the <code>spherical</code> option set to <code>true</code>.</p>
<h4>Example:</h4>
<pre><code>query.where('loc').near({ center: [10, 10], spherical: true });
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5749">line 5749</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>near() #query_Query-near</li>
        
            <li>$near https://www.mongodb.com/docs/manual/reference/operator/near/</li>
        
            <li>$nearSphere https://www.mongodb.com/docs/manual/reference/operator/nearSphere/</li>
        
            <li>$maxDistance https://www.mongodb.com/docs/manual/reference/operator/maxDistance/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="nextRequestId"><span class="type-signature"></span>nextRequestId<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Peek next request Id.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongodb_lib_cmap_commands.js.html">mongodb/lib/cmap/commands.js</a>, <a href="mongodb_lib_cmap_commands.js.html#line74">line 74</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="nin"><span class="type-signature"></span>nin<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies an <code>$nin</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line620">line 620</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$nin https://www.mongodb.com/docs/manual/reference/operator/nin/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="nor"><span class="type-signature"></span>nor<span class="signature">(array)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies arguments for a <code>$nor</code> condition.</p>
<h4>Example:</h4>
<pre><code>query.nor([{ color: 'green' }, { status: 'ok' }]);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>array of conditions</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line497">line 497</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$nor https://www.mongodb.com/docs/manual/reference/operator/nor/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="nor"><span class="type-signature"></span>nor<span class="signature">(array)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies arguments for a <code>$nor</code> condition.</p>
<p>####Example</p>
<pre><code>query.nor([{ color: 'green' }, { status: 'ok' }])
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>array of conditions</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line380">line 380</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="or"><span class="type-signature"></span>or<span class="signature">(array)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies arguments for an <code>$or</code> condition.</p>
<h4>Example:</h4>
<pre><code>query.or([{ color: 'red' }, { status: 'emergency' }]);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>array of conditions</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line481">line 481</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$or https://www.mongodb.com/docs/manual/reference/operator/or/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="or"><span class="type-signature"></span>or<span class="signature">(array)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies arguments for an <code>$or</code> condition.</p>
<p>####Example</p>
<pre><code>query.or([{ color: 'red' }, { status: 'emergency' }])
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>array</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"><p>array of conditions</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line361">line 361</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="orFail"><span class="type-signature"></span>orFail<span class="signature">(err<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Make this query throw an error if no documents match the given <code>filter</code>.
This is handy for integrating with async/await, because <code>orFail()</code> saves you
an extra <code>if</code> statement to check if no document was found.</p>
<h4>Example:</h4>
<pre><code>// Throws if no doc returned
await Model.findOne({ foo: 'bar' }).orFail();

// Throws if no document was updated. Note that `orFail()` will still
// throw if the only document that matches is `{ foo: 'bar', name: 'test' }`,
// because `orFail()` will throw if no document was _updated_, not
// if no document was _found_.
await Model.updateOne({ foo: 'bar' }, { name: 'test' }).orFail();

// Throws &quot;No docs found!&quot; error if no docs match `{ foo: 'bar' }`
await Model.find({ foo: 'bar' }).orFail(new Error('No docs found!'));

// Throws &quot;Not found&quot; error if no document was found
await Model.findOneAndUpdate({ foo: 'bar' }, { name: 'test' }).
  orFail(() =&gt; Error('Not found'));
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>err</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>
|

<span class="param-type"><a href="global.html#Error">Error</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional error to throw if no docs match <code>filter</code>. If not specified, <code>orFail()</code> will throw a <code>DocumentNotFoundError</code></p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4808">line 4808</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="polygon"><span class="type-signature"></span>polygon<span class="signature">(path<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$polygon</code> condition</p>
<h4>Example:</h4>
<pre><code>query.where('loc').within().polygon([10, 20], [13, 25], [7, 15]);
query.polygon('loc', [10, 20], [13, 25], [7, 15]);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>coordinatePairs...</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>
|

<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5786">line 5786</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$polygon https://www.mongodb.com/docs/manual/reference/operator/polygon/</li>
        
            <li>MongoDB Geospatial Indexing https://www.mongodb.com/docs/manual/core/geospatial-indexes/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="polygon"><span class="type-signature"></span>polygon<span class="signature">(path<span class="signature-attributes">opt</span>, val<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a $polygon condition</p>
<p>####Example</p>
<pre><code>query.where('loc').within().polygon([10,20], [13, 25], [7,15])
query.polygon('loc', [10,20], [13, 25], [7,15])
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>
|

<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line830">line 830</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="http://www.mongodb.org/display/DOCS/Geospatial+Indexing">http://www.mongodb.org/display/DOCS/Geospatial+Indexing</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="populate"><span class="type-signature"></span>populate<span class="signature">(path, select<span class="signature-attributes">opt</span>, model<span class="signature-attributes">opt</span>, match<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies paths which should be populated with other documents.</p>
<h4>Example:</h4>
<pre><code>let book = await Book.findOne().populate('authors');
book.title; // 'Node.js in Action'
book.authors[0].name; // 'TJ Holowaychuk'
book.authors[1].name; // 'Nathan Rajlich'

let books = await Book.find().populate({
  path: 'authors',
  // `match` and `sort` apply to the Author model,
  // not the Book model. These options do not affect
  // which documents are in `books`, just the order and
  // contents of each book document's `authors`.
  match: { name: new RegExp('.*h.*', 'i') },
  sort: { name: -1 }
});
books[0].title; // 'Node.js in Action'
// Each book's `authors` are sorted by name, descending.
books[0].authors[0].name; // 'TJ Holowaychuk'
books[0].authors[1].name; // 'Marc Harter'

books[1].title; // 'Professional AngularJS'
// Empty array, no authors' name has the letter 'h'
books[1].authors; // []
</code></pre>
<p>Paths are populated after the query executes and a response is received. A
separate query is then executed for each path specified for population. After
a response for each query has also been returned, the results are passed to
the callback.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">String</span>
|

<span class="param-type">Array:<a href="global.html"></a>.&lt;String:<a href="global.html"></a>></span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>either the path(s) to populate or an object specifying all parameters</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>select</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Field selection for the population query</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>model</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="global.html#Model">Model</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>The model you wish to use for population. If not specified, populate will look up the model by the name in the Schema's <code>ref</code> field.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>match</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Conditions for the population query</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>Options for the population query (sort, etc)</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>The path to populate.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>retainNullValues</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>by default, Mongoose removes null and undefined values from populated arrays. Use this option to make <code>populate()</code> retain <code>null</code> and <code>undefined</code> array entries.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>getters</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>if true, Mongoose will call any getters defined on the <code>localField</code>. By default, Mongoose gets the raw value of <code>localField</code>. For example, you would need to set this option to <code>true</code> if you wanted to <a href="/docs/schematypes.html#schematype-options">add a <code>lowercase</code> getter to your <code>localField</code></a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>clone</code></td>
            

            <td class="type">
            
                
<span class="param-type">boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>When you do <code>BlogPost.find().populate('author')</code>, blog posts with the same author will share 1 copy of an <code>author</code> doc. Enable this option to make Mongoose clone populated docs before assigning them.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>match</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>Add an additional filter to the populate query. Can be a filter object containing <a href="https://www.mongodb.com/docs/manual/tutorial/query-documents/">MongoDB query syntax</a>, or a function that returns a filter object.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>transform</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>Function that Mongoose will call on every populated document that allows you to transform the populated document.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>Additional options like <code>limit</code> and <code>lean</code>.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5216">line 5216</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>population /docs/populate.html</li>
        
            <li>Query#select #query_Query-select</li>
        
            <li>Model.populate #model_Model-populate</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="post"><span class="type-signature"></span>post<span class="signature">(fn)</span><span class="type-signature"> &rarr; {<a href="global.html#Promise">Promise</a>}</span></h4>
    

    



<div class="description">
    <p>Add post <a href="/docs/middleware.html">middleware</a> to this query instance. Doesn't affect
other queries.</p>
<h4>Example:</h4>
<pre><code>const q1 = Question.find({ answer: 42 });
q1.post(function middleware() {
  console.log(this.getFilter());
});
await q1.exec(); // Prints &quot;{ answer: 42 }&quot;

// Doesn't print anything, because `middleware()` is only
// registered on `q1`.
await Question.find({ answer: 42 });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5092">line 5092</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Promise">Promise</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="pre"><span class="type-signature"></span>pre<span class="signature">(fn)</span><span class="type-signature"> &rarr; {<a href="global.html#Promise">Promise</a>}</span></h4>
    

    



<div class="description">
    <p>Add pre <a href="/docs/middleware.html">middleware</a> to this query instance. Doesn't affect
other queries.</p>
<h4>Example:</h4>
<pre><code>const q1 = Question.find({ answer: 42 });
q1.pre(function middleware() {
  console.log(this.getFilter());
});
await q1.exec(); // Prints &quot;{ answer: 42 }&quot;

// Doesn't print anything, because `middleware()` is only
// registered on `q1`.
await Question.find({ answer: 42 });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5066">line 5066</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Promise">Promise</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="projection"><span class="type-signature"></span>projection<span class="signature">(arg)</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Get/set the current projection (AKA fields). Pass <code>null</code> to remove the
current projection.</p>
<p>Unlike <code>projection()</code>, the <code>select()</code> function modifies the current
projection in place. This function overwrites the existing projection.</p>
<h4>Example:</h4>
<pre><code>const q = Model.find();
q.projection(); // null

q.select('a b');
q.projection(); // { a: 1, b: 1 }

q.projection({ c: 1 });
q.projection(); // { c: 1 }

q.projection(null);
q.projection(); // null
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">null</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1005">line 1005</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>the current projection</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="read"><span class="type-signature"></span>read<span class="signature">(pref, tags<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Determines the MongoDB nodes from which to read.</p>
<h4>Preferences:</h4>
<pre class="prettyprint source"><code>primary - (default) Read from primary only. Operations will produce an error if primary is unavailable. Cannot be combined with tags.
secondary            Read from secondary if available, otherwise error.
primaryPreferred     Read from primary if available, otherwise a secondary.
secondaryPreferred   Read from a secondary if available, otherwise read from the primary.
nearest              All operations read from among the nearest candidates, but unlike other modes, this option will include both the primary and all secondaries in the random selection.
</code></pre>
<p>Aliases</p>
<pre class="prettyprint source"><code>p   primary
pp  primaryPreferred
s   secondary
sp  secondaryPreferred
n   nearest
</code></pre>
<h4>Example:</h4>
<pre><code>new Query().read('primary')
new Query().read('p')  // same as primary

new Query().read('primaryPreferred')
new Query().read('pp') // same as primaryPreferred

new Query().read('secondary')
new Query().read('s')  // same as secondary

new Query().read('secondaryPreferred')
new Query().read('sp') // same as secondaryPreferred

new Query().read('nearest')
new Query().read('n')  // same as nearest

// read from secondaries with matching tags
new Query().read('s', [{ dc:'sf', s: 1 },{ dc:'ma', s: 2 }])
</code></pre>
<p>Read more about how to use read preferences <a href="https://www.mongodb.com/docs/manual/applications/replication/#read-preference">here</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>pref</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>one of the listed preference options or aliases</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>tags</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional tags for this query</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1166">line 1166</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://www.mongodb.com/docs/manual/applications/replication/#read-preference</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="regex"><span class="type-signature"></span>regex<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$regex</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">RegExp</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line674">line 674</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$regex https://www.mongodb.com/docs/manual/reference/operator/regex/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="remove"><span class="type-signature"></span>remove<span class="signature">(filter<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as a remove() operation. <code>remove()</code> is
deprecated, you should use <a href="#query_Query-deleteOne"><code>deleteOne()</code></a>
or <a href="#query_Query-deleteMany"><code>deleteMany()</code></a> instead.</p>
<p>This function does not trigger any middleware</p>
<h4>Example:</h4>
<pre><code>Character.remove({ name: /Stark/ }, callback);
</code></pre>
<p>This function calls the MongoDB driver's <a href="https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#remove"><code>Collection#remove()</code> function</a>.
The returned <a href="https://mongoosejs.com/docs/queries.html">promise</a> resolves to an
object that contains 3 properties:</p>
<ul>
<li><code>ok</code>: <code>1</code> if no errors occurred</li>
<li><code>deletedCount</code>: the number of documents deleted</li>
<li><code>n</code>: the number of documents deleted. Equal to <code>deletedCount</code>.</li>
</ul>
<h4>Example:</h4>
<pre><code>const res = await Character.remove({ name: /Stark/ });
// Number of docs deleted
res.deletedCount;
</code></pre>
<h4>Note:</h4>
<p>Calling <code>remove()</code> creates a <a href="/docs/queries.html">Mongoose query</a>, and a query
does not execute until you either pass a callback, call <a href="#query_Query-then"><code>Query#then()</code></a>,
or call <a href="#query_Query-exec"><code>Query#exec()</code></a>.</p>
<pre><code>// not executed
const query = Character.remove({ name: /Stark/ });

// executed
Character.remove({ name: /Stark/ }, callback);
Character.remove({ name: /Stark/ }).remove(callback);

// executed without a callback
Character.exec();
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, mongooseDeleteResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd class="yes-def tag-deprecated"><ul class="dummy"><li>Yes</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3057">line 3057</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>DeleteResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/DeleteResult.html</li>
        
            <li>remove https://mongodb.github.io/node-mongodb-native/4.9/classes/Collection.html#remove</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="remove"><span class="type-signature"></span>remove<span class="signature">(criteria<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as a remove() operation.</p>
<p>####Example</p>
<pre><code>mquery(collection).remove({ artist: 'Anne Murray' }, callback)
</code></pre>
<p>####Note</p>
<p>The operation is only executed when a callback is passed. To force execution without a callback (which would be an unsafe write), we must first call remove() and then execute it by using the <code>exec()</code> method.</p>
<pre><code>// not executed
var query = mquery(collection).remove({ name: 'Anne Murray' })

// executed
mquery(collection).remove({ name: 'Anne Murray' }, callback)
mquery(collection).remove({ name: 'Anne Murray' }).remove(callback)

// executed without a callback (unsafe write)
query.exec()

// summary
query.remove(conds, fn); // executes
query.remove(conds)
query.remove(fn) // executes
query.remove()
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type"><a href="global.html#Query">Query</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>mongodb selector</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2535">line 2535</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="replaceOne"><span class="type-signature"></span>replaceOne<span class="signature">(filter<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as a replaceOne() operation. Same as
<code>update()</code>, except MongoDB will replace the existing document and will
not accept any <a href="https://www.mongodb.com/docs/manual/tutorial/model-data-for-atomic-operations/#pattern">atomic</a> operators (<code>$set</code>, etc.)</p>
<p><strong>Note</strong> replaceOne will <em>not</em> fire update middleware. Use <code>pre('replaceOne')</code>
and <code>post('replaceOne')</code> instead.</p>
<h4>Example:</h4>
<pre><code>const res = await Person.replaceOne({ _id: 24601 }, { name: 'Jean Valjean' });
res.acknowledged; // Indicates if this write result was acknowledged. If not, then all other members of this result will be undefined.
res.matchedCount; // Number of documents that matched the filter
res.modifiedCount; // Number of documents that were modified
res.upsertedCount; // Number of documents that were upserted
res.upsertedId; // Identifier of the inserted document (if an upsert took place)
</code></pre>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>replaceOne()</code></li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>multipleCastError</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>by default, mongoose only returns the first error that occurred in casting the query. Turn on this option to aggregate all the cast errors.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>upsert</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>if true, and no documents found, insert a new document</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>writeConcern</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>sets the <a href="https://www.mongodb.com/docs/manual/reference/write-concern/">write concern</a> for replica sets. Overrides the <a href="/docs/guide.html#writeConcern">schema-level write concern</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timestamps</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>If set to <code>false</code> and <a href="/docs/guide.html#timestamps">schema-level timestamps</a> are enabled, skip timestamps for this update. Does nothing if schema-level timestamps are not set.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>params are (error, writeOpResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4702">line 4702</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.update #model_Model-update</li>
        
            <li>Query docs https://mongoosejs.com/docs/queries.html</li>
        
            <li>update https://www.mongodb.com/docs/manual/reference/method/db.collection.update/</li>
        
            <li>UpdateResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/UpdateResult.html</li>
        
            <li>MongoDB docs https://www.mongodb.com/docs/manual/reference/command/update/#update-command-output</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="replaceOne"><span class="type-signature"></span>replaceOne<span class="signature">(criteria<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as an <code>replaceOne()</code> operation. Similar
to <code>updateOne()</code>, except <code>replaceOne()</code> is not allowed to use atomic
modifiers (<code>$set</code>, <code>$push</code>, etc.). Calling <code>replaceOne()</code> will always
replace the existing doc.</p>
<p>####Example</p>
<pre><code>// Replace the document with `_id` 1 with `{ _id: 1, year: 2017 }`
mquery().replaceOne({ _id: 1 }, { year: 2017 })
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2412">line 2412</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="select"><span class="type-signature"></span>select<span class="signature">(arg)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies which document fields to include or exclude (also known as the query &quot;projection&quot;)</p>
<p>When using string syntax, prefixing a path with <code>-</code> will flag that path as excluded. When a path does not have the <code>-</code> prefix, it is included. Lastly, if a path is prefixed with <code>+</code>, it forces inclusion of the path, which is useful for paths excluded at the <a href="/docs/api/schematype.html#schematype_SchemaType-select">schema level</a>.</p>
<p>A projection <em>must</em> be either inclusive or exclusive. In other words, you must
either list the fields to include (which excludes all others), or list the fields
to exclude (which implies all other fields are included). The <a href="https://www.mongodb.com/docs/manual/tutorial/project-fields-from-query-results/#suppress-id-field"><code>_id</code> field is the only exception because MongoDB includes it by default</a>.</p>
<h4>Example:</h4>
<pre><code>// include a and b, exclude other fields
query.select('a b');
// Equivalent syntaxes:
query.select(['a', 'b']);
query.select({ a: 1, b: 1 });

// exclude c and d, include other fields
query.select('-c -d');

// Use `+` to override schema-level `select: false` without making the
// projection inclusive.
const schema = new Schema({
  foo: { type: String, select: false },
  bar: String
});
// ...
query.select('+foo'); // Override foo's `select: false` without excluding `bar`

// or you may use object notation, useful when
// you have keys already prefixed with a &quot;-&quot;
query.select({ a: 1, b: 1 });
query.select({ c: 0, d: 0 });

Additional calls to select can override the previous selection:
query.select({ a: 1, b: 1 }).select({ b: 0 }); // selection is now { a: 1 }
query.select({ a: 0, b: 0 }).select({ b: 1 }); // selection is now { a: 0 }
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">String</span>
|

<span class="param-type">Array:<a href="global.html"></a>.&lt;String:<a href="global.html"></a>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1046">line 1046</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>SchemaType /docs/api/schematype.html</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="select"><span class="type-signature"></span>select<span class="signature">(arg)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies which document fields to include or exclude</p>
<p>####String syntax</p>
<p>When passing a string, prefixing a path with <code>-</code> will flag that path as excluded. When a path does not have the <code>-</code> prefix, it is included.</p>
<p>####Example</p>
<pre><code>// include a and b, exclude c
query.select('a b -c');

// or you may use object notation, useful when
// you have keys already prefixed with a &quot;-&quot;
query.select({a: 1, b: 1, c: 0});
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1116">line 1116</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li><a href="global.html#SchemaType">SchemaType</a></li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="selected"><span class="type-signature"></span>selected<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if field selection has been made.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5921">line 5921</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="selected"><span class="type-signature"></span>selected<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if field selection has been made.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2976">line 2976</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="selectedExclusively"><span class="type-signature"></span>selectedExclusively<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if exclusive field selection has been made.</p>
<pre><code>query.selectedExclusively(); // false
query.select('-name');
query.selectedExclusively(); // true
query.selectedInclusively(); // false
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5949">line 5949</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="selectedExclusively"><span class="type-signature"></span>selectedExclusively<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if exclusive field selection has been made.</p>
<pre><code>query.selectedExlusively() // false
query.select('-name')
query.selectedExlusively() // true
query.selectedInclusively() // false
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3021">line 3021</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="selectedInclusively"><span class="type-signature"></span>selectedInclusively<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if inclusive field selection has been made.</p>
<pre><code>query.selectedInclusively(); // false
query.select('name');
query.selectedInclusively(); // true
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5931">line 5931</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="selectedInclusively"><span class="type-signature"></span>selectedInclusively<span class="signature">()</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if inclusive field selection has been made.</p>
<pre><code>query.selectedInclusively() // false
query.select('name')
query.selectedInclusively() // true
query.selectedExlusively() // false
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2991">line 2991</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="session"><span class="type-signature"></span>session<span class="signature">(session<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the <a href="https://www.mongodb.com/docs/manual/reference/server-sessions/">MongoDB session</a>
associated with this query. Sessions are how you mark a query as part of a
<a href="/docs/transactions.html">transaction</a>.</p>
<p>Calling <code>session(null)</code> removes the session from this query.</p>
<h4>Example:</h4>
<pre><code>const s = await mongoose.startSession();
await mongoose.model('Person').findOne({ name: 'Axl Rose' }).session(s);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientSession.html">ClientSession</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>from <code>await conn.startSession()</code></p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1265">line 1265</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Connection.prototype.startSession() /docs/api/connection.html#connection_Connection-startSession</li>
        
            <li>mongoose.startSession() /docs/api/mongoose.html#mongoose_Mongoose-startSession</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="set"><span class="type-signature"></span>set<span class="signature">(path, val<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Adds a <code>$set</code> to this query's update without changing the operation.
This is useful for query middleware so you can add an update regardless
of whether you use <code>updateOne()</code>, <code>updateMany()</code>, <code>findOneAndUpdate()</code>, etc.</p>
<h4>Example:</h4>
<pre><code>// Updates `{ $set: { updatedAt: new Date() } }`
new Query().updateOne({}, {}).set('updatedAt', new Date());
new Query().updateMany({}, {}).set({ updatedAt: new Date() });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>path or object of key/value pairs to set</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Any</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the value to set</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2068">line 2068</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="setOptions"><span class="type-signature"></span>setOptions<span class="signature">(options)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets query options. Some options only make sense for certain operations.</p>
<h4>Options:</h4>
<p>The following options are only for <code>find()</code>:</p>
<ul>
<li><a href="https://www.mongodb.com/docs/manual/core/tailable-cursors/">tailable</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.sort/">sort</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.limit/">limit</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.skip/">skip</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.allowDiskUse/">allowDiskUse</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.batchSize/">batchSize</a></li>
<li><a href="https://www.mongodb.com/docs/manual/applications/replication/#read-preference">readPreference</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.hint/">hint</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.comment/">comment</a></li>
<li>snapshot</li>
<li><a href="https://www.mongodb.com/docs/v4.0/reference/method/cursor.maxScan/">maxscan</a></li>
</ul>
<p>The following options are only for write operations: <code>update()</code>, <code>updateOne()</code>, <code>updateMany()</code>, <code>replaceOne()</code>, <code>findOneAndUpdate()</code>, and <code>findByIdAndUpdate()</code>:</p>
<ul>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/db.collection.update/">upsert</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/db.collection.update/">writeConcern</a></li>
<li><a href="https://mongoosejs.com/docs/guide.html#timestamps">timestamps</a>: If <code>timestamps</code> is set in the schema, set this option to <code>false</code> to skip timestamps for that particular update. Has no effect if <code>timestamps</code> is not enabled in the schema options.</li>
<li>overwriteDiscriminatorKey: allow setting the discriminator key in the update. Will use the correct discriminator schema if the update changes the discriminator key.</li>
</ul>
<p>The following options are only for <code>find()</code>, <code>findOne()</code>, <code>findById()</code>, <code>findOneAndUpdate()</code>, and <code>findByIdAndUpdate()</code>:</p>
<ul>
<li><a href="#query_Query-lean">lean</a></li>
<li><a href="/docs/populate.html">populate</a></li>
<li><a href="#query_Query-projection">projection</a></li>
<li>sanitizeProjection</li>
</ul>
<p>The following options are only for all operations <strong>except</strong> <code>update()</code>, <code>updateOne()</code>, <code>updateMany()</code>, <code>remove()</code>, <code>deleteOne()</code>, and <code>deleteMany()</code>:</p>
<ul>
<li><a href="https://www.mongodb.com/docs/manual/reference/operator/meta/maxTimeMS/">maxTimeMS</a></li>
</ul>
<p>The following options are for <code>findOneAndUpdate()</code> and <code>findOneAndRemove()</code></p>
<ul>
<li>rawResult</li>
</ul>
<p>The following options are for all operations:</p>
<ul>
<li><a href="/docs/guide.html#strict">strict</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/collation/">collation</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/server-sessions/">session</a></li>
<li><a href="https://www.mongodb.com/docs/manual/reference/method/cursor.explain/">explain</a></li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1602">line 1602</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="setOptions"><span class="type-signature"></span>setOptions<span class="signature">(options)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Sets query options.</p>
<p>####Options:</p>
<ul>
<li><a href="http://www.mongodb.org/display/DOCS/Tailable+Cursors">tailable</a> *</li>
<li>[sort](http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bsort()%7D%7D) *</li>
<li><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Blimit%28%29%7D%7D">limit</a> *</li>
<li><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bskip%28%29%7D%7D">skip</a> *</li>
<li><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24maxScan">maxScan</a> *</li>
<li><a href="http://docs.mongodb.org/manual/reference/operator/meta/maxTimeMS/#op._S_maxTimeMS">maxTime</a> *</li>
<li><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7BbatchSize%28%29%7D%7D">batchSize</a> *</li>
<li><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24comment">comment</a> *</li>
<li><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bsnapshot%28%29%7D%7D">snapshot</a> *</li>
<li><a href="http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24hint">hint</a> *</li>
<li><a href="http://docs.mongodb.org/manual/applications/replication/#read-preference">slaveOk</a> *</li>
<li><a href="http://www.mongodb.org/display/DOCS/getLastError+Command">safe</a></li>
<li>collection the collection to query against</li>
</ul>
<p><em>* denotes a query helper method is also available</em></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line167">line 167</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="setQuery"><span class="type-signature"></span>setQuery<span class="signature">(new)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Sets the query conditions to the provided JSON object.</p>
<h4>Example:</h4>
<pre><code>const query = new Query();
query.find({ a: 1 })
query.setQuery({ a: 2 });
query.getQuery(); // { a: 2 }
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>new</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>query conditions</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1829">line 1829</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="setTraceFunction"><span class="type-signature"></span>setTraceFunction<span class="signature">(traceFunction)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Add trace function that gets called when the query is executed.
The function will be called with (method, queryInfo, query) and
should return a callback function which will be called
with (err, result, millis) when the query is complete.</p>
<p>queryInfo is an object containing: {
collectionName: <name of the collection>,
conditions: <query criteria>,
options: &lt;comment, fields, readPreference, etc&gt;,
doc: [document to update, if applicable]
}</p>
<p>NOTE: Does not trace stream queries.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>traceFunction</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2853">line 2853</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="setUpdate"><span class="type-signature"></span>setUpdate<span class="signature">(new)</span><span class="type-signature"> &rarr; {undefined}</span></h4>
    

    



<div class="description">
    <p>Sets the current update operation to new value.</p>
<h4>Example:</h4>
<pre><code>const query = new Query();
query.update({}, { $set: { a: 5 } });
query.setUpdate({ $set: { b: 6 } });
query.getUpdate(); // { $set: { b: 6 } }
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>new</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>update operation</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1865">line 1865</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">undefined</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="size"><span class="type-signature"></span>size<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$size</code> query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
<h4>Example:</h4>
<pre><code>const docs = await MyModel.where('tags').size(0).exec();
assert(Array.isArray(docs));
console.log('documents with 0 tags', docs);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line654">line 654</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$size https://www.mongodb.com/docs/manual/reference/operator/size/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="skip"><span class="type-signature"></span>skip<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the number of documents to skip.</p>
<h4>Example:</h4>
<pre><code>query.skip(100).limit(20);
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line874">line 874</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>cursor.skip https://www.mongodb.com/docs/manual/reference/method/cursor.skip/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="slaveOk"><span class="type-signature"></span>slaveOk<span class="signature">(v)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the slaveOk option. <em>Deprecated</em> in MongoDB 2.2 in favor of read preferences.</p>
<p>####Example:</p>
<pre><code>query.slaveOk() // true
query.slaveOk(true)
query.slaveOk(false)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last"><p>defaults to true</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    
        <dt class="important tag-deprecated">Deprecated:</dt><dd><ul class="dummy"><li>use read() preferences instead if on mongodb >= 2.2</li></ul></dd>
    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1603">line 1603</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://docs.mongodb.org/manual/applications/replication/#read-preference</li>
        
            <li>read()</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="slice"><span class="type-signature"></span>slice<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$slice</code> projection for an array.</p>
<h4>Example:</h4>
<pre><code>query.slice('comments', 5); // Returns the first 5 comments
query.slice('comments', -5); // Returns the last 5 comments
query.slice('comments', [10, 5]); // Returns the first 5 comments after the 10-th
query.where('comments').slice(5); // Returns the first 5 comments
query.where('comments').slice([-10, 5]); // Returns the first 5 comments after the 10-th to last
</code></pre>
<p><strong>Note:</strong> If the absolute value of the number of elements to be sliced is greater than the number of elements in the array, all array elements will be returned.</p>
<pre><code> // Given `arr`: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
 query.slice('arr', 20); // Returns [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
 query.slice('arr', -20); // Returns [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
</code></pre>
<p><strong>Note:</strong> If the number of elements to skip is positive and greater than the number of elements in the array, an empty array will be returned.</p>
<pre><code> // Given `arr`: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
 query.slice('arr', [20, 5]); // Returns []
</code></pre>
<p><strong>Note:</strong> If the number of elements to skip is negative and its absolute value is greater than the number of elements in the array, the starting position is the start of the array.</p>
<pre><code> // Given `arr`: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
 query.slice('arr', [-20, 5]); // Returns [1, 2, 3, 4, 5]
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>
|

<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>number of elements to slice or array with number of elements to skip and number of elements to slice</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line368">line 368</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://www.mongodb.com/docs/manual/tutorial/query-documents/#projection</li>
        
            <li>$slice https://www.mongodb.com/docs/manual/reference/projection/slice/#prj._S_slice</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="slice"><span class="type-signature"></span>slice<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a $slice condition for a <code>path</code></p>
<p>####Example</p>
<pre><code>query.slice('comments', 5)
query.slice('comments', -5)
query.slice('comments', [10, 5])
query.where('comments').slice(5)
query.where('comments').slice([-10, 5])
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>number/range of elements to slice</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1175">line 1175</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Retrieving+a+Subset+of+Fields#RetrievingaSubsetofFields-RetrievingaSubrangeofArrayElements</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="snapshot"><span class="type-signature"></span>snapshot<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies this query as a <code>snapshot</code> query.</p>
<h4>Example:</h4>
<pre><code>query.snapshot(); // true
query.snapshot(true);
query.snapshot(false);
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line965">line 965</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="snapshot"><span class="type-signature"></span>snapshot<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies this query as a <code>snapshot</code> query.</p>
<p>####Example</p>
<pre><code>mquery().snapshot() // true
mquery().snapshot(true)
mquery().snapshot(false)
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1500">line 1500</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bsnapshot%28%29%7D%7D</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sort"><span class="type-signature"></span>sort<span class="signature">(arg)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the sort order</p>
<p>If an object is passed, values allowed are <code>asc</code>, <code>desc</code>, <code>ascending</code>, <code>descending</code>, <code>1</code>, and <code>-1</code>.</p>
<p>If a string is passed, it must be a space delimited list of path names. The
sort order of each path is ascending unless the path name is prefixed with <code>-</code>
which will be treated as descending.</p>
<h4>Example:</h4>
<pre><code>// sort by &quot;field&quot; ascending and &quot;test&quot; descending
query.sort({ field: 'asc', test: -1 });

// equivalent
query.sort('field -test');

// also possible is to use a array with array key-value pairs
query.sort([['field', 'asc']]);
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">String</span>
|

<span class="param-type">Array:<a href="global.html"></a>.&lt;Array:<a href="global.html"></a>.&lt;(string:<a href="global.html"></a>|number:<a href="global.html"></a>)>></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line2999">line 2999</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>cursor.sort https://www.mongodb.com/docs/manual/reference/method/cursor.sort/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="sort"><span class="type-signature"></span>sort<span class="signature">(arg)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the sort order</p>
<p>If an object is passed, values allowed are 'asc', 'desc', 'ascending', 'descending', 1, and -1.</p>
<p>If a string is passed, it must be a space delimited list of path names. The sort order of each path is ascending unless the path name is prefixed with <code>-</code> which will be treated as descending.</p>
<p>####Example</p>
<pre><code>// these are equivalent
query.sort({ field: 'asc', test: -1 });
query.sort('field -test');
query.sort([['field', 1], ['test', -1]]);
</code></pre>
<p>####Note</p>
<ul>
<li>The array syntax <code>.sort([['field', 1], ['test', -1]])</code> can only be used with <a href="https://github.com/mongodb/node-mongodb-native/blob/2.1/HISTORY.md#2046-2015-10-15">mongodb driver &gt;= 2.0.46</a>.</li>
<li>Cannot be used with <code>distinct()</code></li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>arg</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">String</span>
|

<span class="param-type">Array</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1239">line 1239</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="tailable"><span class="type-signature"></span>tailable<span class="signature">(bool, opts<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Sets the tailable option (for use with capped collections).</p>
<h4>Example:</h4>
<pre><code>query.tailable(); // true
query.tailable(true);
query.tailable(false);

// Set both `tailable` and `awaitData` options
query.tailable({ awaitData: true });
</code></pre>
<h4>Note:</h4>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>bool</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>defaults to true</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>opts</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>options to set</p>
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>awaitData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>false by default. Set to true to keep the cursor open even if there's no data.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>maxAwaitTimeMS</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the maximum amount of time for the server to wait on new documents to satisfy a tailable cursor query. Requires <code>tailable</code> and <code>awaitData</code> to be true</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5540">line 5540</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>tailable https://www.mongodb.com/docs/manual/tutorial/create-tailable-cursor/</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="tailable"><span class="type-signature"></span>tailable<span class="signature">(v)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Sets tailable option.</p>
<p>####Example</p>
<pre><code>query.tailable() &lt;== true
query.tailable(true)
query.tailable(false)
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>v</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last"><p>defaults to true</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1740">line 1740</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Tailable+Cursors</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id="then"><span class="type-signature"></span>then<span class="signature">(resolve<span class="signature-attributes">opt</span>, reject<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Promise">Promise</a>}</span></h4>
    

    



<div class="description">
    <p>Executes the query returning a <code>Promise</code> which will be
resolved with either the doc(s) or rejected with the error.</p>
<p>More about <a href="https://masteringjs.io/tutorials/fundamentals/then"><code>then()</code> in JavaScript</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resolve</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reject</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line5025">line 5025</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Promise">Promise</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="then"><span class="type-signature"></span>then<span class="signature">(resolve<span class="signature-attributes">opt</span>, reject<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Promise">Promise</a>}</span></h4>
    

    



<div class="description">
    <p>Executes the query returning a <code>Promise</code> which will be
resolved with either the doc(s) or rejected with the error.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>resolve</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>reject</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2932">line 2932</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Promise">Promise</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="thunk"><span class="type-signature"></span>thunk<span class="signature">()</span><span class="type-signature"> &rarr; {function}</span></h4>
    

    



<div class="description">
    <p>Returns a thunk which when called runs this.exec()</p>
<p>The thunk receives a callback function which will be
passed to <code>this.exec()</code></p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2915">line 2915</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">function</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="toConstructor"><span class="type-signature"></span>toConstructor<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Converts this query to a customized, reusable query constructor with all arguments and options retained.</p>
<h4>Example:</h4>
<pre><code>// Create a query for adventure movies and read from the primary
// node in the replica-set unless it is down, in which case we'll
// read from a secondary node.
const query = Movie.find({ tags: 'adventure' }).read('primaryPreferred');

// create a custom Query constructor based off these settings
const Adventure = query.toConstructor();

// Adventure is now a subclass of mongoose.Query and works the same way but with the
// default query parameters and options set.
Adventure().exec(callback)

// further narrow down our query results while still using the previous settings
Adventure().where({ name: /^Life/ }).exec(callback);

// since Adventure is a stand-alone constructor we can also add our own
// helper methods and getters without impacting global queries
Adventure.prototype.startsWith = function (prefix) {
  this.where({ name: new RegExp('^' + prefix) })
  return this;
}
Object.defineProperty(Adventure.prototype, 'highlyRated', {
  get: function () {
    this.where({ rating: { $gt: 4.5 }});
    return this;
  }
})
Adventure().highlyRated.startsWith('Life').exec(callback)
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line217">line 217</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>subclass-of-Query</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="toConstructor"><span class="type-signature"></span>toConstructor<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Converts this query to a constructor function with all arguments and options retained.</p>
<p>####Example</p>
<pre><code>// Create a query that will read documents with a &quot;video&quot; category from
// `aCollection` on the primary node in the replica-set unless it is down,
// in which case we'll read from a secondary node.
var query = mquery({ category: 'video' })
query.setOptions({ collection: aCollection, read: 'primaryPreferred' });

// create a constructor based off these settings
var Video = query.toConstructor();

// Video is now a subclass of mquery() and works the same way but with the
// default query parameters and options set.

// run a query with the previous settings but filter for movies with names
// that start with &quot;Life&quot;.
Video().where({ name: /^Life/ }).exec(cb);
</code></pre>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line115">line 115</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>new Query</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="toString"><span class="type-signature"></span>toString<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Overwrite default <code>.toString</code> to make logging more useful</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1228">line 1228</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="transform"><span class="type-signature"></span>transform<span class="signature">(fn)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Runs a function <code>fn</code> and treats the return value of <code>fn</code> as the new value
for the query to resolve to.</p>
<p>Any functions you pass to <code>transform()</code> will run <strong>after</strong> any post hooks.</p>
<h4>Example:</h4>
<pre><code>const res = await MyModel.findOne().transform(res =&gt; {
  // Sets a `loadedAt` property on the doc that tells you the time the
  // document was loaded.
  return res == null ?
    res :
    Object.assign(res, { loadedAt: new Date() });
});
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>fn</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>function to run to transform the query result</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4780">line 4780</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(filter<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as an update() operation.</p>
<p><em>All paths passed that are not <a href="https://www.mongodb.com/docs/manual/tutorial/model-data-for-atomic-operations/#pattern">atomic</a> operations will become <code>$set</code> ops.</em></p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>update()</code></li>
</ul>
<h4>Example:</h4>
<pre><code>Model.where({ _id: id }).update({ title: 'words' });

// becomes

Model.where({ _id: id }).update({ $set: { title: 'words' }});
</code></pre>
<h4>Valid options:</h4>
<ul>
<li><code>upsert</code> (boolean) whether to create the doc if it doesn't match (false)</li>
<li><code>multi</code> (boolean) whether multiple documents should be updated (false)</li>
<li><code>runValidators</code> (boolean) if true, runs <a href="/docs/validation.html#update-validators">update validators</a> on this command. Update validators validate the update operation against the model's schema.</li>
<li><code>setDefaultsOnInsert</code> (boolean) <code>true</code> by default. If <code>setDefaultsOnInsert</code> and <code>upsert</code> are true, mongoose will apply the <a href="https://mongoosejs.com/docs/defaults.html">defaults</a> specified in the model's schema if a new document is created.</li>
<li><code>strict</code> (boolean) overrides the <code>strict</code> option for this update</li>
<li><code>read</code></li>
<li><code>writeConcern</code></li>
</ul>
<h4>Note:</h4>
<p>Passing an empty object <code>{}</code> as the doc will result in a no-op. The update operation will be ignored and the callback executed without sending the command to MongoDB.</p>
<h4>Note:</h4>
<p>The operation is only executed when a callback is passed. To force execution without a callback, we must first call update() and then execute it by using the <code>exec()</code> method.</p>
<pre class="prettyprint source lang-javascript"><code>const q = Model.where({ _id: id });
q.update({ $set: { name: 'bob' }}).update(); // not executed

q.update({ $set: { name: 'bob' }}).exec(); // executed

// keys that are not [atomic](https://www.mongodb.com/docs/manual/tutorial/model-data-for-atomic-operations/#pattern) ops become `$set`.
// this executes the same command as the previous example.
q.update({ name: 'bob' }).exec();

// multi updates
Model.where()
     .update({ name: /^match/ }, { $set: { arr: [] }}, { multi: true }, callback)

// more multi updates
Model.where()
     .setOptions({ multi: true })
     .update({ $set: { arr: [] }}, callback)

// single update by default
Model.where({ email: 'address@example.com' })
     .update({ $inc: { counter: 1 }}, callback)
</code></pre>
<p>API summary</p>
<pre class="prettyprint source lang-javascript"><code>update(filter, doc, options, cb); // executes
update(filter, doc, options);
update(filter, doc, cb); // executes
update(filter, doc);
update(doc, cb); // executes
update(doc);
update(cb); // executes
update(true); // executes
update();
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>multipleCastError</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>by default, mongoose only returns the first error that occurred in casting the query. Turn on this option to aggregate all the cast errors.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>upsert</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>if true, and no documents found, insert a new document</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>writeConcern</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>sets the <a href="https://www.mongodb.com/docs/manual/reference/write-concern/">write concern</a> for replica sets. Overrides the <a href="/docs/guide.html#writeConcern">schema-level write concern</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timestamps</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>If set to <code>false</code> and <a href="/docs/guide.html#timestamps">schema-level timestamps</a> are enabled, skip timestamps for this update. Does nothing if schema-level timestamps are not set.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>params are (error, writeOpResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4501">line 4501</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.update #model_Model-update</li>
        
            <li>Query docs https://mongoosejs.com/docs/queries.html</li>
        
            <li>update https://www.mongodb.com/docs/manual/reference/method/db.collection.update/</li>
        
            <li>UpdateResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/UpdateResult.html</li>
        
            <li>MongoDB docs https://www.mongodb.com/docs/manual/reference/command/update/#update-command-output</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="update"><span class="type-signature"></span>update<span class="signature">(criteria<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as an update() operation. By default,
<code>update()</code> only modifies the <em>first</em> document that matches <code>criteria</code>.</p>
<p><em>All paths passed that are not $atomic operations will become $set ops.</em></p>
<p>####Example</p>
<pre><code>mquery({ _id: id }).update({ title: 'words' }, ...)
</code></pre>
<p>becomes</p>
<pre><code>collection.update({ _id: id }, { $set: { title: 'words' }}, ...)
</code></pre>
<p>####Note</p>
<p>Passing an empty object <code>{}</code> as the doc will result in a no-op unless the <code>overwrite</code> option is passed. Without the <code>overwrite</code> option set, the update operation will be ignored and the callback executed without sending the command to MongoDB so as to prevent accidently overwritting documents in the collection.</p>
<p>####Note</p>
<p>The operation is only executed when a callback is passed. To force execution without a callback (which would be an unsafe write), we must first call update() and then execute it by using the <code>exec()</code> method.</p>
<pre><code>var q = mquery(collection).where({ _id: id });
q.update({ $set: { name: 'bob' }}).update(); // not executed

var q = mquery(collection).where({ _id: id });
q.update({ $set: { name: 'bob' }}).exec(); // executed as unsafe

// keys that are not $atomic ops become $set.
// this executes the same command as the previous example.
q.update({ name: 'bob' }).where({ _id: id }).exec();

var q = mquery(collection).update(); // not executed

// overwriting with empty docs
var q.where({ _id: id }).setOptions({ overwrite: true })
q.update({ }, callback); // executes

// multi update with overwrite to empty doc
var q = mquery(collection).where({ _id: id });
q.setOptions({ multi: true, overwrite: true })
q.update({ });
q.update(callback); // executed

// multi updates
mquery()
  .collection(coll)
  .update({ name: /^match/ }, { $set: { arr: [] }}, { multi: true }, callback)
// more multi updates
mquery({ })
  .collection(coll)
  .setOptions({ multi: true })
  .update({ $set: { arr: [] }}, callback)

// single update by default
mquery({ email: 'address@example.com' })
 .collection(coll)
 .update({ $inc: { counter: 1 }}, callback)

// summary
update(criteria, doc, opts, cb) // executes
update(criteria, doc, opts)
update(criteria, doc, cb) // executes
update(criteria, doc)
update(doc, cb) // executes
update(doc)
update(cb) // executes
update(true) // executes (unsafe write)
update()
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2239">line 2239</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updateMany"><span class="type-signature"></span>updateMany<span class="signature">(filter<span class="signature-attributes">opt</span>, update<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as an updateMany() operation. Same as
<code>update()</code>, except MongoDB will update <em>all</em> documents that match
<code>filter</code> (as opposed to just the first one) regardless of the value of
the <code>multi</code> option.</p>
<p><strong>Note</strong> updateMany will <em>not</em> fire update middleware. Use <code>pre('updateMany')</code>
and <code>post('updateMany')</code> instead.</p>
<h4>Example:</h4>
<pre><code>const res = await Person.updateMany({ name: /Stark$/ }, { isDeleted: true });
res.n; // Number of documents matched
res.nModified; // Number of documents modified
</code></pre>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>updateMany()</code></li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>update</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>multipleCastError</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>by default, mongoose only returns the first error that occurred in casting the query. Turn on this option to aggregate all the cast errors.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>upsert</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>if true, and no documents found, insert a new document</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>writeConcern</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>sets the <a href="https://www.mongodb.com/docs/manual/reference/write-concern/">write concern</a> for replica sets. Overrides the <a href="/docs/guide.html#writeConcern">schema-level write concern</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timestamps</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>If set to <code>false</code> and <a href="/docs/guide.html#timestamps">schema-level timestamps</a> are enabled, skip timestamps for this update. Does nothing if schema-level timestamps are not set.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>params are (error, writeOpResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4566">line 4566</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.update #model_Model-update</li>
        
            <li>Query docs https://mongoosejs.com/docs/queries.html</li>
        
            <li>update https://www.mongodb.com/docs/manual/reference/method/db.collection.update/</li>
        
            <li>UpdateResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/UpdateResult.html</li>
        
            <li>MongoDB docs https://www.mongodb.com/docs/manual/reference/command/update/#update-command-output</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updateMany"><span class="type-signature"></span>updateMany<span class="signature">(criteria<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as an <code>updateMany()</code> operation. Identical
to <code>update()</code> except <code>updateMany()</code> will update <em>all</em> documents that match
<code>criteria</code>, rather than just the first one.</p>
<p><em>All paths passed that are not $atomic operations will become $set ops.</em></p>
<p>####Example</p>
<pre><code>// Update every document whose `title` contains 'test'
mquery().updateMany({ title: /test/ }, { year: 2017 })
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2297">line 2297</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updateOne"><span class="type-signature"></span>updateOne<span class="signature">(filter<span class="signature-attributes">opt</span>, update<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as an updateOne() operation. Same as
<code>update()</code>, except it does not support the <code>multi</code> option.</p>
<ul>
<li>MongoDB will update <em>only</em> the first document that matches <code>filter</code> regardless of the value of the <code>multi</code> option.</li>
<li>Use <code>replaceOne()</code> if you want to overwrite an entire document rather than using <a href="https://www.mongodb.com/docs/manual/tutorial/model-data-for-atomic-operations/#pattern">atomic</a> operators like <code>$set</code>.</li>
</ul>
<p><strong>Note</strong> updateOne will <em>not</em> fire update middleware. Use <code>pre('updateOne')</code>
and <code>post('updateOne')</code> instead.</p>
<h4>Example:</h4>
<pre><code>const res = await Person.updateOne({ name: 'Jean-Luc Picard' }, { ship: 'USS Enterprise' });
res.acknowledged; // Indicates if this write result was acknowledged. If not, then all other members of this result will be undefined.
res.matchedCount; // Number of documents that matched the filter
res.modifiedCount; // Number of documents that were modified
res.upsertedCount; // Number of documents that were upserted
res.upsertedId; // Identifier of the inserted document (if an upsert took place)
</code></pre>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>updateOne()</code></li>
</ul>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>update</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>
|

<span class="param-type">Array</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>multipleCastError</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>by default, mongoose only returns the first error that occurred in casting the query. Turn on this option to aggregate all the cast errors.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>upsert</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>if true, and no documents found, insert a new document</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>writeConcern</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>sets the <a href="https://www.mongodb.com/docs/manual/reference/write-concern/">write concern</a> for replica sets. Overrides the <a href="/docs/guide.html#writeConcern">schema-level write concern</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timestamps</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>If set to <code>false</code> and <a href="/docs/guide.html#timestamps">schema-level timestamps</a> are enabled, skip timestamps for this update. Note that this allows you to overwrite timestamps. Does nothing if schema-level timestamps are not set.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>params are (error, writeOpResult)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4635">line 4635</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>Model.update #model_Model-update</li>
        
            <li>Query docs https://mongoosejs.com/docs/queries.html</li>
        
            <li>update https://www.mongodb.com/docs/manual/reference/method/db.collection.update/</li>
        
            <li>UpdateResult https://mongodb.github.io/node-mongodb-native/4.9/interfaces/UpdateResult.html</li>
        
            <li>MongoDB docs https://www.mongodb.com/docs/manual/reference/command/update/#update-command-output</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="updateOne"><span class="type-signature"></span>updateOne<span class="signature">(criteria<span class="signature-attributes">opt</span>, doc<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Declare and/or execute this query as an <code>updateOne()</code> operation. Identical
to <code>update()</code> except <code>updateOne()</code> will <em>always</em> update just one document,
regardless of the <code>multi</code> option.</p>
<p><em>All paths passed that are not $atomic operations will become $set ops.</em></p>
<p>####Example</p>
<pre><code>// Update the first document whose `title` contains 'test'
mquery().updateMany({ title: /test/ }, { year: 2017 })
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>criteria</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>doc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>the update command</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line2355">line 2355</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="validate"><span class="type-signature"></span>validate<span class="signature">(castedDoc, options, isOverwriting, callback)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Mongoose calls this function internally to validate the query if
<code>runValidators</code> is set</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>castedDoc</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>the update, after casting</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>the options from <code>_optionsForExec()</code></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>isOverwriting</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line4324">line 4324</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="w"><span class="type-signature"></span>w<span class="signature">(val)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the specified number of <code>mongod</code> servers, or tag set of <code>mongod</code> servers,
that must acknowledge this write before this write is considered successful.
This option is only valid for operations that write to the database:</p>
<ul>
<li><code>deleteOne()</code></li>
<li><code>deleteMany()</code></li>
<li><code>findOneAndDelete()</code></li>
<li><code>findOneAndReplace()</code></li>
<li><code>findOneAndUpdate()</code></li>
<li><code>remove()</code></li>
<li><code>update()</code></li>
<li><code>updateOne()</code></li>
<li><code>updateMany()</code></li>
</ul>
<p>Defaults to the schema's <a href="/docs/guide.html#writeConcern"><code>writeConcern.w</code> option</a></p>
<h4>Example:</h4>
<pre><code>// The 'majority' option means the `deleteOne()` promise won't resolve
// until the `deleteOne()` has propagated to the majority of the replica set
await mongoose.model('Person').
  deleteOne({ name: 'Ned Stark' }).
  w('majority');
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>0 for fire-and-forget, 1 for acknowledged by one server, 'majority' for majority of the replica set, or <a href="https://www.mongodb.com/docs/manual/reference/write-concern/#w-option">any of the more advanced options</a>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1342">line 1342</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://www.mongodb.com/docs/manual/reference/write-concern/#w-option</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="where"><span class="type-signature"></span>where<span class="signature">(path<span class="signature-attributes">opt</span>, val<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>path</code> for use with chaining.</p>
<h4>Example:</h4>
<pre><code>// instead of writing:
User.find({age: {$gte: 21, $lte: 65}}, callback);

// we can instead write:
User.where('age').gte(21).lte(65);

// passing query conditions is permitted
User.find().where({ name: 'vonderful' })

// chaining
User
.where('age').gte(21).lte(65)
.where('name', /^vonderful/i)
.where('friends').slice(10)
.exec(callback)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">any</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line338">line 338</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="where"><span class="type-signature"></span>where<span class="signature">(path<span class="signature-attributes">opt</span>, val<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>path</code> for use with chaining.</p>
<p>####Example</p>
<pre><code>// instead of writing:
User.find({age: {$gte: 21, $lte: 65}}, callback);

// we can instead write:
User.where('age').gte(21).lte(65);

// passing query conditions is permitted
User.find().where({ name: 'vonderful' })

// chaining
User
.where('age').gte(21).lte(65)
.where('name', /^vonderful/i)
.where('friends').slice(10)
.exec(callback)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line275">line 275</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="within"><span class="type-signature"></span>within<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Defines a <code>$within</code> or <code>$geoWithin</code> argument for geo-spatial queries.</p>
<h4>Example:</h4>
<pre><code>query.where(path).within().box()
query.where(path).within().circle()
query.where(path).within().geometry()

query.where('loc').within({ center: [50,50], radius: 10, unique: true, spherical: true });
query.where('loc').within({ box: [[40.73, -73.9], [40.7, -73.988]] });
query.where('loc').within({ polygon: [[],[],[],[]] });

query.where('loc').within([], [], []) // polygon
query.where('loc').within([], []) // box
query.where('loc').within({ type: 'LineString', coordinates: [...] }); // geometry
</code></pre>
<p><strong>MUST</strong> be used after <code>where()</code>.</p>
<h4>Note:</h4>
<p>As of Mongoose 3.7, <code>$geoWithin</code> is always used for queries. To change this behavior, see <a href="#query_Query-use%2524geoWithin">Query.use$geoWithin</a>.</p>
<h4>Note:</h4>
<p>In Mongoose 3.7, <code>within</code> changed from a getter to a function. If you need the old syntax, use <a href="https://github.com/ebensing/mongoose-within">this</a>.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line802">line 802</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>$polygon https://www.mongodb.com/docs/manual/reference/operator/polygon/</li>
        
            <li>$box https://www.mongodb.com/docs/manual/reference/operator/box/</li>
        
            <li>$geometry https://www.mongodb.com/docs/manual/reference/operator/geometry/</li>
        
            <li>$center https://www.mongodb.com/docs/manual/reference/operator/center/</li>
        
            <li>$centerSphere https://www.mongodb.com/docs/manual/reference/operator/centerSphere/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="within"><span class="type-signature"></span>within<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sugar for geo-spatial queries.</p>
<p>####Example</p>
<pre><code>query.within().box()
query.within().circle()
query.within().geometry()

query.where('loc').within({ center: [50,50], radius: 10, unique: true, spherical: true });
query.where('loc').within({ box: [[40.73, -73.9], [40.7, -73.988]] });
query.where('loc').within({ polygon: [[],[],[],[]] });

query.where('loc').within([], [], []) // polygon
query.where('loc').within([], []) // box
query.where('loc').within({ type: 'LineString', coordinates: [...] }); // geometry
</code></pre>
<p>####NOTE:</p>
<p>Must be used after <code>where()</code>.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line740">line 740</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="writeConcern"><span class="type-signature"></span>writeConcern<span class="signature">(writeConcern)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the 3 write concern parameters for this query:</p>
<ul>
<li><code>w</code>: Sets the specified number of <code>mongod</code> servers, or tag set of <code>mongod</code> servers, that must acknowledge this write before this write is considered successful.</li>
<li><code>j</code>: Boolean, set to <code>true</code> to request acknowledgement that this operation has been persisted to MongoDB's on-disk journal.</li>
<li><code>wtimeout</code>: If <a href="#query_Query-w"><code>w &gt; 1</code></a>, the maximum amount of time to wait for this write to propagate through the replica set before this operation fails. The default is <code>0</code>, which means no timeout.</li>
</ul>
<p>This option is only valid for operations that write to the database:</p>
<ul>
<li><code>deleteOne()</code></li>
<li><code>deleteMany()</code></li>
<li><code>findOneAndDelete()</code></li>
<li><code>findOneAndReplace()</code></li>
<li><code>findOneAndUpdate()</code></li>
<li><code>remove()</code></li>
<li><code>update()</code></li>
<li><code>updateOne()</code></li>
<li><code>updateMany()</code></li>
</ul>
<p>Defaults to the schema's <a href="/docs/guide.html#writeConcern"><code>writeConcern</code> option</a></p>
<h4>Example:</h4>
<pre><code>// The 'majority' option means the `deleteOne()` promise won't resolve
// until the `deleteOne()` has propagated to the majority of the replica set
await mongoose.model('Person').
  deleteOne({ name: 'Ned Stark' }).
  writeConcern({ w: 'majority' });
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>writeConcern</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"><p>the write concern value to set</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1295">line 1295</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>WriteConcernSettings https://mongodb.github.io/node-mongodb-native/4.9/interfaces/WriteConcernSettings.html</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="writeConcern"><span class="type-signature"></span>writeConcern<span class="signature">(concern)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the specified number of <code>mongod</code> servers, or tag set of <code>mongod</code> servers,
that must acknowledge this write before this write is considered successful.
This option is only valid for operations that write to the database:</p>
<ul>
<li><code>deleteOne()</code></li>
<li><code>deleteMany()</code></li>
<li><code>findOneAndDelete()</code></li>
<li><code>findOneAndUpdate()</code></li>
<li><code>remove()</code></li>
<li><code>update()</code></li>
<li><code>updateOne()</code></li>
<li><code>updateMany()</code></li>
</ul>
<p>Defaults to the <code>w</code> value if it is specified in writeConcern options</p>
<p>####Example:</p>
<p>mquery().writeConcern(0)
mquery().writeConcern(1)
mquery().writeConcern({ w: 1, j: true, wtimeout: 2000 })
mquery().writeConcern('majority')
mquery().writeConcern('m') // same as majority
mquery().writeConcern('tagSetName') // if the tag set is 'm', use .writeConcern({ w: 'm' }) instead
mquery().w(1) // w is alias of writeConcern</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>concern</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">number</span>
|

<span class="param-type"><a href="global.html#object">object</a></span>


            
            </td>

            

            

            <td class="description last"><p>0 for fire-and-forget, 1 for acknowledged by one server, 'majority' for majority of the replica set, or <a href="https://docs.mongodb.com/manual/reference/write-concern/#w-option">any of the more advanced options</a>.</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1750">line 1750</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://docs.mongodb.com/manual/reference/write-concern/#w-option</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="wtimeout"><span class="type-signature"></span>wtimeout<span class="signature">(ms)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>If <a href="#query_Query-w"><code>w &gt; 1</code></a>, the maximum amount of time to
wait for this write to propagate through the replica set before this
operation fails. The default is <code>0</code>, which means no timeout.</p>
<p>This option is only valid for operations that write to the database:</p>
<ul>
<li><code>deleteOne()</code></li>
<li><code>deleteMany()</code></li>
<li><code>findOneAndDelete()</code></li>
<li><code>findOneAndReplace()</code></li>
<li><code>findOneAndUpdate()</code></li>
<li><code>remove()</code></li>
<li><code>update()</code></li>
<li><code>updateOne()</code></li>
<li><code>updateMany()</code></li>
</ul>
<p>Defaults to the schema's <a href="/docs/guide.html#writeConcern"><code>writeConcern.wtimeout</code> option</a></p>
<h4>Example:</h4>
<pre><code>// The `deleteOne()` promise won't resolve until this `deleteOne()` has
// propagated to at least `w = 2` members of the replica set. If it takes
// longer than 1 second, this `deleteOne()` will fail.
await mongoose.model('Person').
  deleteOne({ name: 'Ned Stark' }).
  w(2).
  wtimeout(1000);
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ms</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>number of milliseconds to wait</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1430">line 1430</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://www.mongodb.com/docs/manual/reference/write-concern/#wtimeout</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="wtimeout"><span class="type-signature"></span>wtimeout<span class="signature">(ms)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a time limit, in milliseconds, for the write concern.
If <code>ms &gt; 1</code>, it is maximum amount of time to wait for this write
to propagate through the replica set before this operation fails.
The default is <code>0</code>, which means no timeout.</p>
<p>This option is only valid for operations that write to the database:</p>
<ul>
<li><code>deleteOne()</code></li>
<li><code>deleteMany()</code></li>
<li><code>findOneAndDelete()</code></li>
<li><code>findOneAndUpdate()</code></li>
<li><code>remove()</code></li>
<li><code>update()</code></li>
<li><code>updateOne()</code></li>
<li><code>updateMany()</code></li>
</ul>
<p>Defaults to <code>wtimeout</code> value if it is specified in writeConcern</p>
<p>####Example:</p>
<pre><code>mquery().w(2).j(true).wtimeout(2000)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ms</code></td>
            

            <td class="type">
            
                
<span class="param-type">number</span>


            
            </td>

            

            

            <td class="description last"><p>number of milliseconds to wait</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1796">line 1796</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://docs.mongodb.com/manual/reference/write-concern/#wtimeout</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".$where"><span class="type-signature">(static) </span>$where<span class="signature">(js)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Specifies a <code>$where</code> condition</p>
<p>Use <code>$where</code> when you need to select documents using a JavaScript expression.</p>
<p>####Example</p>
<pre><code>query.$where('this.comments.length &gt; 10 || this.name.length &gt; 5')

query.$where(function () {
  return this.comments.length &gt; 10 || this.name.length &gt; 5;
})
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>js</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"><p>javascript string or function</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line223">line 223</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="._ensurePath"><span class="type-signature">(static) </span>_ensurePath<span class="signature">(method)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Makes sure _path is set.</p>
<p>This method is inherited by <code>mquery</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>method</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1939">line 1939</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="._fieldsForExec"><span class="type-signature">(static) </span>_fieldsForExec<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Returns fields selection for this query.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1869">line 1869</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="._findOneAndDelete"><span class="type-signature">(static) </span>_findOneAndDelete<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Thunk around findOneAndDelete()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3670">line 3670</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id="._findOneAndUpdate"><span class="type-signature">(static) </span>_findOneAndUpdate<span class="signature">(callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Thunk around findOneAndUpdate()</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3484">line 3484</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id="._updateForExec"><span class="type-signature">(static) </span>_updateForExec<span class="signature">()</span><span class="type-signature"> &rarr; {Object}</span></h4>
    

    



<div class="description">
    <p>Return an update document with corrected <code>$set</code> operations.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1889">line 1889</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Object</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".all"><span class="type-signature">(static) </span>all<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies an $all query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line498">line 498</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".batchSize"><span class="type-signature">(static) </span>batchSize<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the batchSize option.</p>
<p>####Example</p>
<pre><code>query.batchSize(100)
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1410">line 1410</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7BbatchSize%28%29%7D%7D</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".canMerge"><span class="type-signature">(static) </span>canMerge<span class="signature">(conds)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Determines if <code>conds</code> can be merged using <code>mquery().merge()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>conds</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3169">line 3169</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".comment"><span class="type-signature">(static) </span>comment<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the <code>comment</code> option.</p>
<p>####Example</p>
<pre><code>query.comment('login query')
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1427">line 1427</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24comment</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".findOneAndDelete"><span class="type-signature">(static) </span>findOneAndDelete<span class="signature">(conditions<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Issues a MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/db.collection.findOneAndDelete/">findOneAndDelete</a> command.</p>
<p>Finds a matching document, removes it, and passes the found document (if any)
to the callback. Executes if <code>callback</code> is passed.</p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>findOneAndDelete()</code></li>
</ul>
<p>This function differs slightly from <code>Model.findOneAndRemove()</code> in that
<code>findOneAndRemove()</code> becomes a <a href="https://www.mongodb.com/docs/manual/reference/method/db.collection.findAndModify/">MongoDB <code>findAndModify()</code> command</a>,
as opposed to a <code>findOneAndDelete()</code> command. For most mongoose use cases,
this distinction is purely pedantic. You should use <code>findOneAndDelete()</code>
unless you have a good reason not to.</p>
<h4>Available options</h4>
<ul>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>maxTimeMS</code>: puts a time limit on the query - requires mongodb &gt;= 2.6.0</li>
<li><code>rawResult</code>: if true, resolves to the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></li>
</ul>
<h4>Callback Signature</h4>
<pre><code>function(error, doc) {
  // error: any errors that occurred
  // doc: the document before updates are applied if `new: false`, or after updates if `new = true`
}
</code></pre>
<h4>Example:</h4>
<pre><code>A.where().findOneAndDelete(conditions, options, callback) // executes
A.where().findOneAndDelete(conditions, options)  // return Query
A.where().findOneAndDelete(conditions, callback) // executes
A.where().findOneAndDelete(conditions) // returns Query
A.where().findOneAndDelete(callback)   // executes
A.where().findOneAndDelete()           // returns Query
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>conditions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rawResult</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>if true, returns the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientSession.html">ClientSession</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>The session associated with this query. See <a href="/docs/transactions.html">transactions docs</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, document)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3583">line 3583</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>findAndModify command https://www.mongodb.com/docs/manual/reference/command/findAndModify/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".findOneAndReplace"><span class="type-signature">(static) </span>findOneAndReplace<span class="signature">(filter<span class="signature-attributes">opt</span>, replacement<span class="signature-attributes">opt</span>, options<span class="signature-attributes">opt</span>, callback<span class="signature-attributes">opt</span>)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Issues a MongoDB <a href="https://www.mongodb.com/docs/manual/reference/method/db.collection.findOneAndReplace/">findOneAndReplace</a> command.</p>
<p>Finds a matching document, removes it, and passes the found document (if any)
to the callback. Executes if <code>callback</code> is passed.</p>
<p>This function triggers the following middleware.</p>
<ul>
<li><code>findOneAndReplace()</code></li>
</ul>
<h4>Available options</h4>
<ul>
<li><code>sort</code>: if multiple docs are found by the conditions, sets the sort order to choose which doc to update</li>
<li><code>maxTimeMS</code>: puts a time limit on the query - requires mongodb &gt;= 2.6.0</li>
<li><code>rawResult</code>: if true, resolves to the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></li>
</ul>
<h4>Callback Signature</h4>
<pre><code>function(error, doc) {
  // error: any errors that occurred
  // doc: the document before updates are applied if `new: false`, or after updates if `new = true`
}
</code></pre>
<h4>Example:</h4>
<pre><code>A.where().findOneAndReplace(filter, replacement, options, callback); // executes
A.where().findOneAndReplace(filter, replacement, options); // return Query
A.where().findOneAndReplace(filter, replacement, callback); // executes
A.where().findOneAndReplace(filter); // returns Query
A.where().findOneAndReplace(callback); // executes
A.where().findOneAndReplace(); // returns Query
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>filter</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>replacement</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>options</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last">
                <h6>Properties</h6>
                

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        
        <th>Default</th>
        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>rawResult</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>if true, returns the <a href="https://mongodb.github.io/node-mongodb-native/4.9/interfaces/ModifyResult.html">raw result from the MongoDB driver</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientSession.html">ClientSession</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>The session associated with this query. See <a href="/docs/transactions.html">transactions docs</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>new</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    false
                
                </td>
            

            <td class="description last"><p>By default, <code>findOneAndUpdate()</code> returns the document as it was <strong>before</strong> <code>update</code> was applied. If you set <code>new: true</code>, <code>findOneAndUpdate()</code> will instead give you the object after <code>update</code> was applied.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>lean</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>if truthy, mongoose will return the document as a plain JavaScript object rather than a mongoose document. See <a href="#query_Query-lean"><code>Query.lean()</code></a> and <a href="/docs/tutorials/lean.html">the Mongoose lean tutorial</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>session</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="ClientSession.html">ClientSession</a></span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>The session associated with this query. See <a href="/docs/transactions.html">transactions docs</a>.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>strict</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>
|

<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                </td>
            

            <td class="description last"><p>overwrites the schema's <a href="https://mongoosejs.com/docs/guide.html#strict">strict mode option</a></p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>timestamps</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>If set to <code>false</code> and <a href="/docs/guide.html#timestamps">schema-level timestamps</a> are enabled, skip timestamps for this update. Note that this allows you to overwrite timestamps. Does nothing if schema-level timestamps are not set.</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>returnOriginal</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            
                <td class="default">
                
                    null
                
                </td>
            

            <td class="description last"><p>An alias for the <code>new</code> option. <code>returnOriginal: false</code> is equivalent to <code>new: true</code>.</p></td>
        </tr>

    
    </tbody>
</table>

            </td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>optional params are (error, document)</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line3711">line 3711</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".getRequestId"><span class="type-signature">(static) </span>getRequestId<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Increment then return next request Id.</p>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongodb_lib_cmap_commands.js.html">mongodb/lib/cmap/commands.js</a>, <a href="mongodb_lib_cmap_commands.js.html#line78">line 78</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".gt"><span class="type-signature">(static) </span>gt<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $gt query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
<p>####Example</p>
<pre><code>Thing.find().where('age').gt(21)

// or
Thing.find().gt('age', 21)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line407">line 407</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".gte"><span class="type-signature">(static) </span>gte<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $gte query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line426">line 426</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".in"><span class="type-signature">(static) </span>in<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies an $in query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line474">line 474</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".limit"><span class="type-signature">(static) </span>limit<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the limit option.</p>
<p>####Example</p>
<pre><code>query.limit(20)
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1359">line 1359</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Blimit%28%29%7D%7D</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".lt"><span class="type-signature">(static) </span>lt<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $lt query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line438">line 438</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".lte"><span class="type-signature">(static) </span>lte<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $lte query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line450">line 450</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".maxDistance"><span class="type-signature">(static) </span>maxDistance<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $maxDistance query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line534">line 534</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".maxScan"><span class="type-signature">(static) </span>maxScan<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the maxScan option.</p>
<p>####Example</p>
<pre><code>query.maxScan(100)
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1393">line 1393</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%24maxScan</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".maxTime"><span class="type-signature">(static) </span>maxTime<span class="signature">(ms)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the maxTimeMS option.</p>
<p>####Example</p>
<pre><code>query.maxTime(100)
query.maxTimeMS(100)
</code></pre>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ms</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1461">line 1461</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://docs.mongodb.org/manual/reference/operator/meta/maxTimeMS/#op._S_maxTimeMS</li>
        </ul>
    </dd>
    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".ne"><span class="type-signature">(static) </span>ne<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $ne query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line462">line 462</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".nin"><span class="type-signature">(static) </span>nin<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies an $nin query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line486">line 486</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".readConcern"><span class="type-signature">(static) </span>readConcern<span class="signature">(level)</span><span class="type-signature"> &rarr; {<a href="global.html#Query">Query</a>}</span></h4>
    

    



<div class="description">
    <p>Sets the readConcern option for the query.</p>
<h4>Example:</h4>
<pre><code>new Query().readConcern('local')
new Query().readConcern('l')  // same as local

new Query().readConcern('available')
new Query().readConcern('a')  // same as available

new Query().readConcern('majority')
new Query().readConcern('m')  // same as majority

new Query().readConcern('linearizable')
new Query().readConcern('lz') // same as linearizable

new Query().readConcern('snapshot')
new Query().readConcern('s')  // same as snapshot
</code></pre>
<h4>Read Concern Level:</h4>
<pre class="prettyprint source"><code>local         MongoDB 3.2+ The query returns from the instance with no guarantee guarantee that the data has been written to a majority of the replica set members (i.e. may be rolled back).
available     MongoDB 3.6+ The query returns from the instance with no guarantee guarantee that the data has been written to a majority of the replica set members (i.e. may be rolled back).
majority      MongoDB 3.2+ The query returns the data that has been acknowledged by a majority of the replica set members. The documents returned by the read operation are durable, even in the event of failure.
linearizable  MongoDB 3.4+ The query returns data that reflects all successful majority-acknowledged writes that completed prior to the start of the read operation. The query may wait for concurrently executing writes to propagate to a majority of replica set members before returning results.
snapshot      MongoDB 4.0+ Only available for operations within multi-document transactions. Upon transaction commit with write concern &quot;majority&quot;, the transaction operations are guaranteed to have read from a snapshot of majority-committed data.
</code></pre>
<p>Aliases</p>
<pre class="prettyprint source"><code>l   local
a   available
m   majority
lz  linearizable
s   snapshot
</code></pre>
<p>Read more about how to use read concern <a href="https://www.mongodb.com/docs/manual/reference/read-concern/">here</a>.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>level</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"><p>one of the listed read concern level or their aliases</p></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mongoose_lib_query.js.html">mongoose/lib/query.js</a>, <a href="mongoose_lib_query.js.html#line1480">line 1480</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb https://www.mongodb.com/docs/manual/reference/read-concern/</li>
        </ul>
    </dd>
    

    
</dl>















<h5>Returns:</h5>

        
<div class="param-desc">
    <p>this</p>
</div>



<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type"><a href="global.html#Query">Query</a></span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".regex"><span class="type-signature">(static) </span>regex<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $regex query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>
|

<span class="param-type">RegExp</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line522">line 522</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".setGlobalTraceFunction"><span class="type-signature">(static) </span>setGlobalTraceFunction<span class="signature">(conds)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>
    

    



<div class="description">
    <p>Set a trace function that will get called whenever a
query is executed.</p>
<p>See <code>setTraceFunction()</code> for details.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>conds</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line3182">line 3182</a>
    </li></ul></dd>
    

    

    

    
</dl>















<h5>Returns:</h5>

        


<dl>
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    





        
            

    

    
    <h4 class="name" id=".size"><span class="type-signature">(static) </span>size<span class="signature">(path<span class="signature-attributes">opt</span>, val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies a $size query condition.</p>
<p>When called with one argument, the most recent path passed to <code>where()</code> is used.</p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>path</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line510">line 510</a>
    </li></ul></dd>
    

    

    

    
</dl>




















        
            

    

    
    <h4 class="name" id=".skip"><span class="type-signature">(static) </span>skip<span class="signature">(val)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    <p>Specifies the skip option.</p>
<p>####Example</p>
<pre><code>query.skip(100).limit(20)
</code></pre>
<p>####Note</p>
<p>Cannot be used with <code>distinct()</code></p>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>val</code></td>
            

            <td class="type">
            
                
<span class="param-type">Number</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="mquery_lib_mquery.js.html">mquery/lib/mquery.js</a>, <a href="mquery_lib_mquery.js.html#line1376">line 1376</a>
    </li></ul></dd>
    

    

    
    <dt class="tag-see">See:</dt>
    <dd class="tag-see">
        <ul>
            <li>mongodb http://www.mongodb.org/display/DOCS/Advanced+Queries#AdvancedQueries-%7B%7Bskip%28%29%7D%7D</li>
        </ul>
    </dd>
    

    
</dl>




















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-node_modules_typedoc_dist_lib_converter_comments_declarationReference.html">node_modules/typedoc/dist/lib/converter/comments/declarationReference</a></li><li><a href="module-node_modules_typedoc_dist_lib_serialization_schema.html">node_modules/typedoc/dist/lib/serialization/schema</a></li><li><a href="module-node_modules_typedoc_dist_lib_utils_jsx.html">node_modules/typedoc/dist/lib/utils/jsx</a></li><li><a href="module-node_modules_typedoc_dist_lib_utils_sort.html">node_modules/typedoc/dist/lib/utils/sort</a></li></ul><h3>Namespaces</h3><ul><li><a href="Assert.html">Assert</a></li><li><a href="BDD.html">BDD</a></li><li><a href="Expect.html">Expect</a></li><li><a href="Should.html">Should</a></li><li><a href="Utils.html">Utils</a></li><li><a href="addChainableMethod.html">addChainableMethod</a></li><li><a href="addMethod.html">addMethod</a></li><li><a href="addProperty.html">addProperty</a></li><li><a href="expectTypes.html">expectTypes</a></li><li><a href="flag.html">flag</a></li><li><a href="getActual.html">getActual</a></li><li><a href="getEnumerableProperties.html">getEnumerableProperties</a></li><li><a href="getMessage.html">getMessage</a></li><li><a href="getName.html">getName</a></li><li><a href="getPathInfo.html">getPathInfo</a></li><li><a href="getPathValue.html">getPathValue</a></li><li><a href="getProperties.html">getProperties</a></li><li><a href="inspect.html">inspect</a></li><li><a href="lunr.html">lunr</a></li><li><a href="lunr.utils.html">utils</a></li><li><a href="overwriteChainableMethod.html">overwriteChainableMethod</a></li><li><a href="overwriteMethod.html">overwriteMethod</a></li><li><a href="overwriteProperty.html">overwriteProperty</a></li><li><a href="test.html">test</a></li><li><a href="transferFlags.html">transferFlags</a></li></ul><h3>Classes</h3><ul><li><a href="-_src_server_project.ts_-ConfiguredProject2.html">ConfiguredProject2</a></li><li><a href="-_src_server_project.ts_-ExternalProject2.html">ExternalProject2</a></li><li><a href="-_src_server_project.ts_-InferredProject2.html">InferredProject2</a></li><li><a href="-_src_server_project.ts_-Project3.html">Project3</a></li><li><a href="-_src_server_project.ts_-_AutoImportProviderProject.html">_AutoImportProviderProject</a></li><li><a href="-_src_services_textChanges.ts_-ChangeTracker.html">ChangeTracker</a></li><li><a href="-_anonymous_-lunr.Builder.html">Builder</a></li><li><a href="-_anonymous_-lunr.Index.html">Index</a></li><li><a href="-_anonymous_-lunr.MatchData.html">MatchData</a></li><li><a href="-_anonymous_-lunr.Pipeline.html">Pipeline</a></li><li><a href="-_anonymous_-lunr.Query.html">Query</a></li><li><a href="-_anonymous_-lunr.Set.html">Set</a></li><li><a href="-_anonymous_-lunr.Token.html">Token</a></li><li><a href="-_anonymous_-lunr.TokenSet.html">TokenSet</a></li><li><a href="-_anonymous_-lunr.Vector.html">Vector</a></li><li><a href="AbortController.html">AbortController</a></li><li><a href="AbortSignal.html">AbortSignal</a></li><li><a href="AbstractComponent.html">AbstractComponent</a></li><li><a href="AbstractCursor.html">AbstractCursor</a></li><li><a href="AbstractOperation.html">AbstractOperation</a></li><li><a href="AddUserOperation.html">AddUserOperation</a></li><li><a href="Admin.html">Admin</a></li><li><a href="Agent.html">Agent</a></li><li><a href="AggregateOperation.html">AggregateOperation</a></li><li><a href="AggregationCursor.html">AggregationCursor</a></li><li><a href="Application_1.html">Application_1</a></li><li><a href="ArgumentsReader.html">ArgumentsReader</a></li><li><a href="ArrayType.html">ArrayType</a></li><li><a href="AuthContext.html">AuthContext</a></li><li><a href="AuthenticationError.html">AuthenticationError</a></li><li><a href="BasePath.html">BasePath</a></li><li><a href="Batch.html">Batch</a></li><li><a href="BinMsg.html">BinMsg</a></li><li><a href="Bowser.html">Bowser</a></li><li><a href="BufferPool.html">BufferPool</a></li><li><a href="BulkOperationBase.html">BulkOperationBase</a></li><li><a href="BulkWriteOperation.html">BulkWriteOperation</a></li><li><a href="BulkWriteResult.html">BulkWriteResult</a></li><li><a href="BulkWriteShimOperation.html">BulkWriteShimOperation</a></li><li><a href="CIContextProvider.html">CIContextProvider</a></li><li><a href="CancellationToken.html">CancellationToken</a></li><li><a href="global.html#CastError">CastError</a></li><li><a href="Cell.html">Cell</a></li><li><a href="ChangeStream.html">ChangeStream</a></li><li><a href="ChangeStreamCursor.html">ChangeStreamCursor</a></li><li><a href="ChangeTracker.html">ChangeTracker</a></li><li><a href="ChildableComponent.html">ChildableComponent</a></li><li><a href="ClientSession.html">ClientSession</a></li><li><a href="ColSpanCell.html">ColSpanCell</a></li><li><a href="CollStatsOperation.html">CollStatsOperation</a></li><li><a href="global.html#Collection">Collection</a></li><li><a href="CollectionsOperation.html">CollectionsOperation</a></li><li><a href="CommandFailedEvent.html">CommandFailedEvent</a></li><li><a href="CommandOperation.html">CommandOperation</a></li><li><a href="CommandStartedEvent.html">CommandStartedEvent</a></li><li><a href="CommandSucceededEvent.html">CommandSucceededEvent</a></li><li><a href="Comment.html">Comment</a></li><li><a href="CommentTag.html">CommentTag</a></li><li><a href="ConditionalType.html">ConditionalType</a></li><li><a href="ConfiguredProject2.html">ConfiguredProject2</a></li><li><a href="Connection.html">Connection</a></li><li><a href="ConnectionCheckOutFailedEvent.html">ConnectionCheckOutFailedEvent</a></li><li><a href="ConnectionCheckOutStartedEvent.html">ConnectionCheckOutStartedEvent</a></li><li><a href="ConnectionCheckedInEvent.html">ConnectionCheckedInEvent</a></li><li><a href="ConnectionCheckedOutEvent.html">ConnectionCheckedOutEvent</a></li><li><a href="ConnectionClosedEvent.html">ConnectionClosedEvent</a></li><li><a href="ConnectionCreatedEvent.html">ConnectionCreatedEvent</a></li><li><a href="ConnectionPool.html">ConnectionPool</a></li><li><a href="ConnectionPoolClearedEvent.html">ConnectionPoolClearedEvent</a></li><li><a href="ConnectionPoolClosedEvent.html">ConnectionPoolClosedEvent</a></li><li><a href="ConnectionPoolCreatedEvent.html">ConnectionPoolCreatedEvent</a></li><li><a href="ConnectionPoolMetrics.html">ConnectionPoolMetrics</a></li><li><a href="ConnectionPoolMonitoringEvent.html">ConnectionPoolMonitoringEvent</a></li><li><a href="ConnectionPoolReadyEvent.html">ConnectionPoolReadyEvent</a></li><li><a href="ConnectionReadyEvent.html">ConnectionReadyEvent</a></li><li><a href="ConsoleLogger.html">ConsoleLogger</a></li><li><a href="ContentDisposition.html">ContentDisposition</a></li><li><a href="Context.html">Context</a></li><li><a href="ContextAwareRendererComponent.html">ContextAwareRendererComponent</a></li><li><a href="CountDocumentsOperation.html">CountDocumentsOperation</a></li><li><a href="CountOperation.html">CountOperation</a></li><li><a href="CreateCollectionOperation.html">CreateCollectionOperation</a></li><li><a href="CreateIndexOperation.html">CreateIndexOperation</a></li><li><a href="CreateIndexesOperation.html">CreateIndexesOperation</a></li><li><a href="CryptoConnection.html">CryptoConnection</a></li><li><a href="Db.html">Db</a></li><li><a href="DbStatsOperation.html">DbStatsOperation</a></li><li><a href="global.html#Decimal128">Decimal128</a></li><li><a href="DeclarationReflection.html">DeclarationReflection</a></li><li><a href="DefaultTheme.html">DefaultTheme</a></li><li><a href="DelegatedRole.html">DelegatedRole</a></li><li><a href="Delegations.html">Delegations</a></li><li><a href="DeleteOperation.html">DeleteOperation</a></li><li><a href="DirEntry.html">DirEntry</a></li><li><a href="DisconnectedError.html">DisconnectedError</a></li><li><a href="DistinctOperation.html">DistinctOperation</a></li><li><a href="DivergentArrayError.html">DivergentArrayError</a></li><li><a href="DocumentNotFoundError.html">DocumentNotFoundError</a></li><li><a href="DropCollectionOperation.html">DropCollectionOperation</a></li><li><a href="DropDatabaseOperation.html">DropDatabaseOperation</a></li><li><a href="DropIndexOperation.html">DropIndexOperation</a></li><li><a href="DropIndexesOperation.html">DropIndexesOperation</a></li><li><a href="EachAsyncMultiError.html">EachAsyncMultiError</a></li><li><a href="Encrypter.html">Encrypter</a></li><li><a href="EnsureIndexOperation.html">EnsureIndexOperation</a></li><li><a href="global.html#Error">Error</a></li><li><a href="EstimatedDocumentCountOperation.html">EstimatedDocumentCountOperation</a></li><li><a href="EvalOperation.html">EvalOperation</a></li><li><a href="Event.html">Event</a></li><li><a href="EventDispatcher.html">EventDispatcher</a></li><li><a href="EventHooks.html">EventHooks</a></li><li><a href="Explain.html">Explain</a></li><li><a href="ExternalProject2.html">ExternalProject2</a></li><li><a href="FSWatcher.html">FSWatcher</a></li><li><a href="FindAndModifyOperation.html">FindAndModifyOperation</a></li><li><a href="FindCursor.html">FindCursor</a></li><li><a href="FindOneAndDeleteOperation.html">FindOneAndDeleteOperation</a></li><li><a href="FindOneAndReplaceOperation.html">FindOneAndReplaceOperation</a></li><li><a href="FindOneAndUpdateOperation.html">FindOneAndUpdateOperation</a></li><li><a href="FindOperation.html">FindOperation</a></li><li><a href="FindOperators.html">FindOperators</a></li><li><a href="Fulcio.html">Fulcio</a></li><li><a href="GetMoreOperation.html">GetMoreOperation</a></li><li><a href="GridFSBucket.html">GridFSBucket</a></li><li><a href="GridFSBucketReadStream.html">GridFSBucketReadStream</a></li><li><a href="GridFSBucketWriteStream.html">GridFSBucketWriteStream</a></li><li><a href="Headers.html">Headers</a></li><li><a href="HostAddress.html">HostAddress</a></li><li><a href="HttpProxyAgent.html">HttpProxyAgent</a></li><li><a href="HttpsProxyAgent.html">HttpsProxyAgent</a></li><li><a href="IndexEvent.html">IndexEvent</a></li><li><a href="IndexExistsOperation.html">IndexExistsOperation</a></li><li><a href="IndexInformationOperation.html">IndexInformationOperation</a></li><li><a href="IndexedAccessType.html">IndexedAccessType</a></li><li><a href="IndexesOperation.html">IndexesOperation</a></li><li><a href="InferredProject2.html">InferredProject2</a></li><li><a href="InferredType.html">InferredType</a></li><li><a href="InsertManyOperation.html">InsertManyOperation</a></li><li><a href="InsertOperation.html">InsertOperation</a></li><li><a href="IntersectionType.html">IntersectionType</a></li><li><a href="IntrinsicType.html">IntrinsicType</a></li><li><a href="IsCappedOperation.html">IsCappedOperation</a></li><li><a href="Issuer.html">Issuer</a></li><li><a href="global.html#Lexer">Lexer</a></li><li><a href="List.html">List</a></li><li><a href="ListCollectionsCursor.html">ListCollectionsCursor</a></li><li><a href="ListCollectionsOperation.html">ListCollectionsOperation</a></li><li><a href="ListDatabasesOperation.html">ListDatabasesOperation</a></li><li><a href="ListIndexesCursor.html">ListIndexesCursor</a></li><li><a href="ListIndexesOperation.html">ListIndexesOperation</a></li><li><a href="LiteralType.html">LiteralType</a></li><li><a href="Logger.html">Logger</a></li><li><a href="MapReduceOperation.html">MapReduceOperation</a></li><li><a href="MappedType.html">MappedType</a></li><li><a href="MarkdownEvent.html">MarkdownEvent</a></li><li><a href="MessageStream.html">MessageStream</a></li><li><a href="MissingSchemaError.html">MissingSchemaError</a></li><li><a href="MongoAPIError.html">MongoAPIError</a></li><li><a href="MongoAWSError.html">MongoAWSError</a></li><li><a href="MongoBatchReExecutionError.html">MongoBatchReExecutionError</a></li><li><a href="MongoBulkWriteError.html">MongoBulkWriteError</a></li><li><a href="MongoChangeStreamError.html">MongoChangeStreamError</a></li><li><a href="MongoClient.html">MongoClient</a></li><li><a href="MongoCompatibilityError.html">MongoCompatibilityError</a></li><li><a href="MongoCredentials.html">MongoCredentials</a></li><li><a href="MongoCursorExhaustedError.html">MongoCursorExhaustedError</a></li><li><a href="MongoCursorInUseError.html">MongoCursorInUseError</a></li><li><a href="MongoDBNamespace.html">MongoDBNamespace</a></li><li><a href="MongoDecompressionError.html">MongoDecompressionError</a></li><li><a href="MongoDriverError.html">MongoDriverError</a></li><li><a href="MongoError.html">MongoError</a></li><li><a href="MongoExpiredSessionError.html">MongoExpiredSessionError</a></li><li><a href="MongoGridFSChunkError.html">MongoGridFSChunkError</a></li><li><a href="MongoGridFSStreamError.html">MongoGridFSStreamError</a></li><li><a href="MongoInvalidArgumentError.html">MongoInvalidArgumentError</a></li><li><a href="MongoKerberosError.html">MongoKerberosError</a></li><li><a href="MongoLogger.html">MongoLogger</a></li><li><a href="MongoMissingCredentialsError.html">MongoMissingCredentialsError</a></li><li><a href="MongoMissingDependencyError.html">MongoMissingDependencyError</a></li><li><a href="MongoNetworkError.html">MongoNetworkError</a></li><li><a href="MongoNetworkTimeoutError.html">MongoNetworkTimeoutError</a></li><li><a href="MongoNotConnectedError.html">MongoNotConnectedError</a></li><li><a href="MongoParseError.html">MongoParseError</a></li><li><a href="MongoRuntimeError.html">MongoRuntimeError</a></li><li><a href="MongoServerClosedError.html">MongoServerClosedError</a></li><li><a href="MongoServerError.html">MongoServerError</a></li><li><a href="MongoServerSelectionError.html">MongoServerSelectionError</a></li><li><a href="MongoSystemError.html">MongoSystemError</a></li><li><a href="MongoTailableCursorError.html">MongoTailableCursorError</a></li><li><a href="MongoTopologyClosedError.html">MongoTopologyClosedError</a></li><li><a href="MongoTransactionError.html">MongoTransactionError</a></li><li><a href="MongoUnexpectedServerResponseError.html">MongoUnexpectedServerResponseError</a></li><li><a href="MongoWriteConcernError.html">MongoWriteConcernError</a></li><li><a href="Monitor.html">Monitor</a></li><li><a href="MonitorInterval.html">MonitorInterval</a></li><li><a href="Msg.html">Msg</a></li><li><a href="NamedTupleMember.html">NamedTupleMember</a></li><li><a href="ObjectExpectedError.html">ObjectExpectedError</a></li><li><a href="global.html#ObjectId">ObjectId</a></li><li><a href="ObjectParameterError.html">ObjectParameterError</a></li><li><a href="OptionalType.html">OptionalType</a></li><li><a href="Options.html">Options</a></li><li><a href="OptionsOperation.html">OptionsOperation</a></li><li><a href="OrderedBulkOperation.html">OrderedBulkOperation</a></li><li><a href="OverwriteModelError.html">OverwriteModelError</a></li><li><a href="PageEvent.html">PageEvent</a></li><li><a href="ParallelSaveError.html">ParallelSaveError</a></li><li><a href="ParallelValidateError.html">ParallelValidateError</a></li><li><a href="global.html#Parser">Parser</a></li><li><a href="PoolClearedError.html">PoolClearedError</a></li><li><a href="PoolClearedOnNetworkError.html">PoolClearedOnNetworkError</a></li><li><a href="PoolClosedError.html">PoolClosedError</a></li><li><a href="PredicateType.html">PredicateType</a></li><li><a href="ProfilingLevelOperation.html">ProfilingLevelOperation</a></li><li><a href="Project3.html">Project3</a></li><li><a href="ProjectReflection.html">ProjectReflection</a></li><li><a href="global.html#PromiseProvider">PromiseProvider</a></li><li><a href="global.html#Query">Query</a></li><li><a href="QueryType.html">QueryType</a></li><li><a href="RTTPinger.html">RTTPinger</a></li><li><a href="ReadConcern.html">ReadConcern</a></li><li><a href="ReadPreference.html">ReadPreference</a></li><li><a href="ReferenceReflection.html">ReferenceReflection</a></li><li><a href="ReferenceType.html">ReferenceType</a></li><li><a href="Reflection.html">Reflection</a></li><li><a href="ReflectionCategory.html">ReflectionCategory</a></li><li><a href="ReflectionFlags.html">ReflectionFlags</a></li><li><a href="ReflectionGroup.html">ReflectionGroup</a></li><li><a href="ReflectionSymbolId.html">ReflectionSymbolId</a></li><li><a href="ReflectionType.html">ReflectionType</a></li><li><a href="Rekor.html">Rekor</a></li><li><a href="RemoveUserOperation.html">RemoveUserOperation</a></li><li><a href="RenameOperation.html">RenameOperation</a></li><li><a href="global.html#Renderer">Renderer</a></li><li><a href="RendererEvent.html">RendererEvent</a></li><li><a href="ReplaceOneOperation.html">ReplaceOneOperation</a></li><li><a href="Repository.html">Repository</a></li><li><a href="global.html#Request">Request</a></li><li><a href="Response.html">Response</a></li><li><a href="RestType.html">RestType</a></li><li><a href="Result.html">Result</a></li><li><a href="Role.html">Role</a></li><li><a href="Root.html">Root</a></li><li><a href="RowSpanCell.html">RowSpanCell</a></li><li><a href="RunCommandOperation.html">RunCommandOperation</a></li><li><a href="SchemaArrayOptions.html">SchemaArrayOptions</a></li><li><a href="SchemaBufferOptions.html">SchemaBufferOptions</a></li><li><a href="SchemaDateOptions.html">SchemaDateOptions</a></li><li><a href="SchemaDocumentOptions.html">SchemaDocumentOptions</a></li><li><a href="SchemaMapOptions.html">SchemaMapOptions</a></li><li><a href="SchemaNumberOptions.html">SchemaNumberOptions</a></li><li><a href="SchemaObjectIdOptions.html">SchemaObjectIdOptions</a></li><li><a href="SchemaStringOptions.html">SchemaStringOptions</a></li><li><a href="SchemaSubdocumentOptions.html">SchemaSubdocumentOptions</a></li><li><a href="global.html#SchemaTypeOptions">SchemaTypeOptions</a></li><li><a href="SerializeEvent.html">SerializeEvent</a></li><li><a href="Server.html">Server</a></li><li><a href="ServerCapabilities.html">ServerCapabilities</a></li><li><a href="ServerClosedEvent.html">ServerClosedEvent</a></li><li><a href="ServerDescription.html">ServerDescription</a></li><li><a href="ServerDescriptionChangedEvent.html">ServerDescriptionChangedEvent</a></li><li><a href="ServerHeartbeatFailedEvent.html">ServerHeartbeatFailedEvent</a></li><li><a href="ServerHeartbeatStartedEvent.html">ServerHeartbeatStartedEvent</a></li><li><a href="ServerHeartbeatSucceededEvent.html">ServerHeartbeatSucceededEvent</a></li><li><a href="ServerOpeningEvent.html">ServerOpeningEvent</a></li><li><a href="ServerSession.html">ServerSession</a></li><li><a href="ServerSessionPool.html">ServerSessionPool</a></li><li><a href="SetOptionError.html">SetOptionError</a></li><li><a href="SetOptionInnerError.html">SetOptionInnerError</a></li><li><a href="SetProfilingLevelOperation.html">SetProfilingLevelOperation</a></li><li><a href="Signature.html">Signature</a></li><li><a href="global.html#Slugger">Slugger</a></li><li><a href="SmartBuffer.html">SmartBuffer</a></li><li><a href="Snapshot.html">Snapshot</a></li><li><a href="SocksClientError.html">SocksClientError</a></li><li><a href="SourceReference.html">SourceReference</a></li><li><a href="SrvPoller.html">SrvPoller</a></li><li><a href="SrvPollingEvent.html">SrvPollingEvent</a></li><li><a href="global.html#Strategy">Strategy</a></li><li><a href="StreamDescription.html">StreamDescription</a></li><li><a href="StrictModeError.html">StrictModeError</a></li><li><a href="StrictPopulateError.html">StrictPopulateError</a></li><li><a href="SuccinctRoles.html">SuccinctRoles</a></li><li><a href="SyncIndexesError.html">SyncIndexesError</a></li><li><a href="TemplateLiteralType.html">TemplateLiteralType</a></li><li><a href="global.html#TextRenderer">TextRenderer</a></li><li><a href="Theme_Theme.html">Theme</a></li><li><a href="global.html#Timestamp">Timestamp</a></li><li><a href="global.html#Tokenizer">Tokenizer</a></li><li><a href="Topology.html">Topology</a></li><li><a href="TopologyClosedEvent.html">TopologyClosedEvent</a></li><li><a href="TopologyDescription.html">TopologyDescription</a></li><li><a href="TopologyDescriptionChangedEvent.html">TopologyDescriptionChangedEvent</a></li><li><a href="TopologyOpeningEvent.html">TopologyOpeningEvent</a></li><li><a href="Transaction.html">Transaction</a></li><li><a href="TupleType.html">TupleType</a></li><li><a href="Type.html">Type</a></li><li><a href="TypeDocReader.html">TypeDocReader</a></li><li><a href="TypeOperatorType.html">TypeOperatorType</a></li><li><a href="TypedEventEmitter.html">TypedEventEmitter</a></li><li><a href="UnionType.html">UnionType</a></li><li><a href="UnknownType.html">UnknownType</a></li><li><a href="UnorderedBulkOperation.html">UnorderedBulkOperation</a></li><li><a href="UpdateManyOperation.html">UpdateManyOperation</a></li><li><a href="UpdateOneOperation.html">UpdateOneOperation</a></li><li><a href="UpdateOperation.html">UpdateOperation</a></li><li><a href="ValidateCollectionOperation.html">ValidateCollectionOperation</a></li><li><a href="ValidationError.html">ValidationError</a></li><li><a href="ValidatorError.html">ValidatorError</a></li><li><a href="VersionError.html">VersionError</a></li><li><a href="WaitQueueTimeoutError.html">WaitQueueTimeoutError</a></li><li><a href="WriteConcern.html">WriteConcern</a></li><li><a href="WriteConcernError.html">WriteConcernError</a></li><li><a href="WriteError.html">WriteError</a></li><li><a href="-_.html">_</a></li><li><a href="-_AutoImportProviderProject.html">_AutoImportProviderProject</a></li><li><a href="lunr.Builder.html">Builder</a></li><li><a href="lunr.Index.html">Index</a></li><li><a href="lunr.MatchData.html">MatchData</a></li><li><a href="lunr.Pipeline.html">Pipeline</a></li><li><a href="lunr.Query.html">Query</a></li><li><a href="lunr.Set.html">Set</a></li><li><a href="lunr.Token.html">Token</a></li><li><a href="lunr.TokenSet.html">TokenSet</a></li><li><a href="lunr.Vector.html">Vector</a></li></ul><h3>Interfaces</h3><ul><li><a href="lunr.PipelineFunction.html">PipelineFunction</a></li></ul><h3>Events</h3><ul><li><a href="AbstractCursor.html#.event:CLOSE">CLOSE</a></li><li><a href="ChangeStream.html#.event:CHANGE">CHANGE</a></li><li><a href="ChangeStream.html#.event:CLOSE">CLOSE</a></li><li><a href="ChangeStream.html#.event:END">END</a></li><li><a href="ChangeStream.html#.event:ERROR">ERROR</a></li><li><a href="ChangeStream.html#.event:INIT">INIT</a></li><li><a href="ChangeStream.html#.event:MORE">MORE</a></li><li><a href="ChangeStream.html#.event:RESPONSE">RESPONSE</a></li><li><a href="ChangeStream.html#.event:RESUME_TOKEN_CHANGED">RESUME_TOKEN_CHANGED</a></li><li><a href="Connection.html#.event:CLOSE">CLOSE</a></li><li><a href="Connection.html#.event:CLUSTER_TIME_RECEIVED">CLUSTER_TIME_RECEIVED</a></li><li><a href="Connection.html#.event:COMMAND_FAILED">COMMAND_FAILED</a></li><li><a href="Connection.html#.event:COMMAND_STARTED">COMMAND_STARTED</a></li><li><a href="Connection.html#.event:COMMAND_SUCCEEDED">COMMAND_SUCCEEDED</a></li><li><a href="Connection.html#.event:MESSAGE">MESSAGE</a></li><li><a href="Connection.html#.event:PINNED">PINNED</a></li><li><a href="Connection.html#.event:UNPINNED">UNPINNED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_CHECKED_IN">CONNECTION_CHECKED_IN</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_CHECKED_OUT">CONNECTION_CHECKED_OUT</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_CHECK_OUT_FAILED">CONNECTION_CHECK_OUT_FAILED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_CHECK_OUT_STARTED">CONNECTION_CHECK_OUT_STARTED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_CLOSED">CONNECTION_CLOSED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_CREATED">CONNECTION_CREATED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_POOL_CLEARED">CONNECTION_POOL_CLEARED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_POOL_CLOSED">CONNECTION_POOL_CLOSED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_POOL_CREATED">CONNECTION_POOL_CREATED</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_POOL_READY">CONNECTION_POOL_READY</a></li><li><a href="ConnectionPool.html#.event:CONNECTION_READY">CONNECTION_READY</a></li><li><a href="global.html#Converter#.event:EVENT_BEGIN">EVENT_BEGIN</a></li><li><a href="global.html#Converter#.event:EVENT_CREATE_DECLARATION">EVENT_CREATE_DECLARATION</a></li><li><a href="global.html#Converter#.event:EVENT_CREATE_PARAMETER">EVENT_CREATE_PARAMETER</a></li><li><a href="global.html#Converter#.event:EVENT_CREATE_SIGNATURE">EVENT_CREATE_SIGNATURE</a></li><li><a href="global.html#Converter#.event:EVENT_CREATE_TYPE_PARAMETER">EVENT_CREATE_TYPE_PARAMETER</a></li><li><a href="global.html#Converter#.event:EVENT_END">EVENT_END</a></li><li><a href="global.html#Converter#.event:EVENT_RESOLVE">EVENT_RESOLVE</a></li><li><a href="global.html#Converter#.event:EVENT_RESOLVE_BEGIN">EVENT_RESOLVE_BEGIN</a></li><li><a href="global.html#Converter#.event:EVENT_RESOLVE_END">EVENT_RESOLVE_END</a></li><li><a href="GridFSBucket.html#.event:INDEX">INDEX</a></li><li><a href="GridFSBucketReadStream.html#.event:CLOSE">CLOSE</a></li><li><a href="GridFSBucketReadStream.html#.event:DATA">DATA</a></li><li><a href="GridFSBucketReadStream.html#.event:END">END</a></li><li><a href="GridFSBucketReadStream.html#.event:ERROR">ERROR</a></li><li><a href="GridFSBucketReadStream.html#.event:FILE">FILE</a></li><li><a href="GridFSBucketWriteStream.html#.event:CLOSE">CLOSE</a></li><li><a href="GridFSBucketWriteStream.html#.event:ERROR">ERROR</a></li><li><a href="GridFSBucketWriteStream.html#.event:FINISH">FINISH</a></li><li><a href="IndexEvent.html#.event:PREPARE_INDEX">PREPARE_INDEX</a></li><li><a href="MarkdownEvent.html#.event:INCLUDE">INCLUDE</a></li><li><a href="MarkdownEvent.html#.event:PARSE">PARSE</a></li><li><a href="PageEvent.html#.event:BEGIN">BEGIN</a></li><li><a href="PageEvent.html#.event:END">END</a></li><li><a href="global.html#Renderer#.event:EVENT_BEGIN">EVENT_BEGIN</a></li><li><a href="global.html#Renderer#.event:EVENT_BEGIN_PAGE">EVENT_BEGIN_PAGE</a></li><li><a href="global.html#Renderer#.event:EVENT_END">EVENT_END</a></li><li><a href="global.html#Renderer#.event:EVENT_END_PAGE">EVENT_END_PAGE</a></li><li><a href="global.html#Renderer#.event:EVENT_PREPARE_INDEX">EVENT_PREPARE_INDEX</a></li><li><a href="RendererEvent.html#.event:BEGIN">BEGIN</a></li><li><a href="RendererEvent.html#.event:END">END</a></li><li><a href="Server.html#.event:CLOSED">CLOSED</a></li><li><a href="Server.html#.event:CONNECT">CONNECT</a></li><li><a href="Server.html#.event:DESCRIPTION_RECEIVED">DESCRIPTION_RECEIVED</a></li><li><a href="Server.html#.event:ENDED">ENDED</a></li><li><a href="Server.html#.event:SERVER_HEARTBEAT_FAILED">SERVER_HEARTBEAT_FAILED</a></li><li><a href="Server.html#.event:SERVER_HEARTBEAT_STARTED">SERVER_HEARTBEAT_STARTED</a></li><li><a href="Server.html#.event:SERVER_HEARTBEAT_SUCCEEDED">SERVER_HEARTBEAT_SUCCEEDED</a></li><li><a href="SrvPoller.html#.event:SRV_RECORD_DISCOVERY">SRV_RECORD_DISCOVERY</a></li><li><a href="Topology.html#.event:CLOSE">CLOSE</a></li><li><a href="Topology.html#.event:CONNECT">CONNECT</a></li><li><a href="Topology.html#.event:ERROR">ERROR</a></li><li><a href="Topology.html#.event:OPEN">OPEN</a></li><li><a href="Topology.html#.event:SERVER_CLOSED">SERVER_CLOSED</a></li><li><a href="Topology.html#.event:SERVER_DESCRIPTION_CHANGED">SERVER_DESCRIPTION_CHANGED</a></li><li><a href="Topology.html#.event:SERVER_OPENING">SERVER_OPENING</a></li><li><a href="Topology.html#.event:TIMEOUT">TIMEOUT</a></li><li><a href="Topology.html#.event:TOPOLOGY_CLOSED">TOPOLOGY_CLOSED</a></li><li><a href="Topology.html#.event:TOPOLOGY_DESCRIPTION_CHANGED">TOPOLOGY_DESCRIPTION_CHANGED</a></li><li><a href="Topology.html#.event:TOPOLOGY_OPENING">TOPOLOGY_OPENING</a></li><li><a href="%2560index-single-done%2560_%2520Emitted%2520when%2520an%2520individual%2520index%2520finishes%2520within%2520%2560Model_ensureIndexes%2560.%2520If%2520an%2520error%2520occurred%2520it%2520is%2520passed%2520with%2520the%2520event.%2520The%2520fields,%2520options.html#event:andindexnamearealsopassed."> and index name are also passed.</a></li><li><a href="global.html#event:EVENT_BEGIN">EVENT_BEGIN</a></li><li><a href="global.html#event:EVENT_END">EVENT_END</a></li><li><a href="global.html#event:%2560end%2560:Emittedwhenthestreamisexhausted">`end`: Emitted when the stream is exhausted</a></li><li><a href="global.html#event:%2560fullsetup%2560:Emittedafterthedriverhasconnectedtoprimaryandallsecondariesifspecifiedintheconnectionstring.">`fullsetup`: Emitted after the driver has connected to primary and all secondaries if specified in the connection string.</a></li><li><a href="global.html#event:%2560init%2560:Emittedaftertheschemaiscompiledintoa%2560Model%2560.">`init`: Emitted after the schema is compiled into a `Model`.</a></li><li><a href="global.html#event:%2560save%2560:Emittedwhenthedocumentissuccessfullysaved">`save`: Emitted when the document is successfully saved</a></li></ul><h3>Mixins</h3><ul><li><a href="FsEventsHandler.html">FsEventsHandler</a></li><li><a href="NodeFsHandler.html">NodeFsHandler</a></li></ul><h3>Global</h3><ul><li><a href="global.html"></a></li><li><a href="global.html#$__save">$__save</a></li><li><a href="global.html#$format">$format</a></li><li><a href="global.html#$model">$model</a></li><li><a href="global.html#$parent">$parent</a></li><li><a href="global.html#$print">$print</a></li><li><a href="global.html#$withinCmd">$withinCmd</a></li><li><a href="global.html#APM_EVENTS">APM_EVENTS</a></li><li><a href="global.html#AUTH_MECHS_AUTH_SRC_EXTERNAL">AUTH_MECHS_AUTH_SRC_EXTERNAL</a></li><li><a href="global.html#AbortError">AbortError</a></li><li><a href="global.html#Accepts">Accepts</a></li><li><a href="global.html#Aggregate">Aggregate</a></li><li><a href="global.html#Application">Application</a></li><li><a href="global.html#ArraySubdocument">ArraySubdocument</a></li><li><a href="global.html#AssetsPlugin">AssetsPlugin</a></li><li><a href="global.html#AuthMechanism">AuthMechanism</a></li><li><a href="global.html#Authenticator">Authenticator</a></li><li><a href="global.html#AutoEncryptionLoggerLevel">AutoEncryptionLoggerLevel</a></li><li><a href="global.html#BLOCK_SIZE">BLOCK_SIZE</a></li><li><a href="global.html#BSON">BSON</a></li><li><a href="global.html#BSONError">BSONError</a></li><li><a href="global.html#BSONRegExp">BSONRegExp</a></li><li><a href="global.html#BSONSymbol">BSONSymbol</a></li><li><a href="global.html#BSONType">BSONType</a></li><li><a href="global.html#BSONTypeError">BSONTypeError</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_BYTE_ARRAY">BSON_BINARY_SUBTYPE_BYTE_ARRAY</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_COLUMN">BSON_BINARY_SUBTYPE_COLUMN</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_DEFAULT">BSON_BINARY_SUBTYPE_DEFAULT</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_ENCRYPTED">BSON_BINARY_SUBTYPE_ENCRYPTED</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_FUNCTION">BSON_BINARY_SUBTYPE_FUNCTION</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_MD5">BSON_BINARY_SUBTYPE_MD5</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_USER_DEFINED">BSON_BINARY_SUBTYPE_USER_DEFINED</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_UUID">BSON_BINARY_SUBTYPE_UUID</a></li><li><a href="global.html#BSON_BINARY_SUBTYPE_UUID_NEW">BSON_BINARY_SUBTYPE_UUID_NEW</a></li><li><a href="global.html#BSON_DATA_ARRAY">BSON_DATA_ARRAY</a></li><li><a href="global.html#BSON_DATA_BINARY">BSON_DATA_BINARY</a></li><li><a href="global.html#BSON_DATA_BOOLEAN">BSON_DATA_BOOLEAN</a></li><li><a href="global.html#BSON_DATA_CODE">BSON_DATA_CODE</a></li><li><a href="global.html#BSON_DATA_CODE_W_SCOPE">BSON_DATA_CODE_W_SCOPE</a></li><li><a href="global.html#BSON_DATA_DATE">BSON_DATA_DATE</a></li><li><a href="global.html#BSON_DATA_DBPOINTER">BSON_DATA_DBPOINTER</a></li><li><a href="global.html#BSON_DATA_DECIMAL128">BSON_DATA_DECIMAL128</a></li><li><a href="global.html#BSON_DATA_INT">BSON_DATA_INT</a></li><li><a href="global.html#BSON_DATA_LONG">BSON_DATA_LONG</a></li><li><a href="global.html#BSON_DATA_MAX_KEY">BSON_DATA_MAX_KEY</a></li><li><a href="global.html#BSON_DATA_MIN_KEY">BSON_DATA_MIN_KEY</a></li><li><a href="global.html#BSON_DATA_NULL">BSON_DATA_NULL</a></li><li><a href="global.html#BSON_DATA_NUMBER">BSON_DATA_NUMBER</a></li><li><a href="global.html#BSON_DATA_OBJECT">BSON_DATA_OBJECT</a></li><li><a href="global.html#BSON_DATA_OID">BSON_DATA_OID</a></li><li><a href="global.html#BSON_DATA_REGEXP">BSON_DATA_REGEXP</a></li><li><a href="global.html#BSON_DATA_STRING">BSON_DATA_STRING</a></li><li><a href="global.html#BSON_DATA_SYMBOL">BSON_DATA_SYMBOL</a></li><li><a href="global.html#BSON_DATA_TIMESTAMP">BSON_DATA_TIMESTAMP</a></li><li><a href="global.html#BSON_DATA_UNDEFINED">BSON_DATA_UNDEFINED</a></li><li><a href="global.html#BSON_INT32_MAX">BSON_INT32_MAX</a></li><li><a href="global.html#BSON_INT32_MAX$1">BSON_INT32_MAX$1</a></li><li><a href="global.html#BSON_INT32_MIN">BSON_INT32_MIN</a></li><li><a href="global.html#BSON_INT32_MIN$1">BSON_INT32_MIN$1</a></li><li><a href="global.html#BSON_INT64_MAX">BSON_INT64_MAX</a></li><li><a href="global.html#BSON_INT64_MAX$1">BSON_INT64_MAX$1</a></li><li><a href="global.html#BSON_INT64_MIN">BSON_INT64_MIN</a></li><li><a href="global.html#BSON_INT64_MIN$1">BSON_INT64_MIN$1</a></li><li><a href="global.html#BatchType">BatchType</a></li><li><a href="global.html#Binary">Binary</a></li><li><a href="global.html#Body">Body</a></li><li><a href="global.html#Buffer">Buffer</a></li><li><a href="global.html#CLONE_DEEP_FLAG">CLONE_DEEP_FLAG</a></li><li><a href="global.html#CLONE_SYMBOLS_FLAG">CLONE_SYMBOLS_FLAG</a></li><li><a href="global.html#CMAP_EVENTS">CMAP_EVENTS</a></li><li><a href="global.html#COMPARE_PARTIAL_FLAG">COMPARE_PARTIAL_FLAG</a></li><li><a href="global.html#CORE_ERROR_TEXT">CORE_ERROR_TEXT</a></li><li><a href="global.html#CURSOR_FLAGS">CURSOR_FLAGS</a></li><li><a href="global.html#CategoryPlugin">CategoryPlugin</a></li><li><a href="global.html#Code">Code</a></li><li><a href="global.html#CommentPlugin">CommentPlugin</a></li><li><a href="global.html#CommentStyle">CommentStyle</a></li><li><a href="global.html#Component">Component</a></li><li><a href="global.html#Compressor">Compressor</a></li><li><a href="global.html#ConversionFlags">ConversionFlags</a></li><li><a href="global.html#Converter">Converter</a></li><li><a href="global.html#DBRef">DBRef</a></li><li><a href="global.html#DB_AGGREGATE_COLLECTION">DB_AGGREGATE_COLLECTION</a></li><li><a href="global.html#DEFAULT_TRUNC_LENGTH">DEFAULT_TRUNC_LENGTH</a></li><li><a href="global.html#DIGEST_LENGTH">DIGEST_LENGTH</a></li><li><a href="global.html#DOT_LITERAL">DOT_LITERAL</a></li><li><a href="global.html#Delegator">Delegator</a></li><li><a href="global.html#DeprecationError">DeprecationError</a></li><li><a href="global.html#Document">Document</a></li><li><a href="global.html#DocumentArrayPath">DocumentArrayPath</a></li><li><a href="global.html#DocumentProvider">DocumentProvider</a></li><li><a href="global.html#Double">Double</a></li><li><a href="global.html#EJSON">EJSON</a></li><li><a href="global.html#ERRORS">ERRORS</a></li><li><a href="global.html#EmitStrategy">EmitStrategy</a></li><li><a href="global.html#EntryPointStrategy">EntryPointStrategy</a></li><li><a href="global.html#EventTarget">EventTarget</a></li><li><a href="global.html#ExplainVerbosity">ExplainVerbosity</a></li><li><a href="global.html#FEATURE_FLAGS">FEATURE_FLAGS</a></li><li><a href="global.html#FIELD_NAME_REGEXP">FIELD_NAME_REGEXP</a></li><li><a href="global.html#FIRST_CHAR_REGEXP">FIRST_CHAR_REGEXP</a></li><li><a href="global.html#FLAGS">FLAGS</a></li><li><a href="global.html#FSEventsWatchers">FSEventsWatchers</a></li><li><a href="global.html#FUNC_ERROR_TEXT">FUNC_ERROR_TEXT</a></li><li><a href="global.html#FetchError">FetchError</a></li><li><a href="global.html#FieldBehavior">FieldBehavior</a></li><li><a href="global.html#FieldBehavior%255Bundefined%255D">FieldBehavior[undefined]</a></li><li><a href="global.html#FieldDescriptorProto_Label%255Bundefined%255D">FieldDescriptorProto_Label[undefined]</a></li><li><a href="global.html#FieldDescriptorProto_Type%255Bundefined%255D">FieldDescriptorProto_Type[undefined]</a></li><li><a href="global.html#FieldOptions_CType%255Bundefined%255D">FieldOptions_CType[undefined]</a></li><li><a href="global.html#FieldOptions_JSType%255Bundefined%255D">FieldOptions_JSType[undefined]</a></li><li><a href="global.html#FileOptions_OptimizeMode">FileOptions_OptimizeMode</a></li><li><a href="global.html#FileOptions_OptimizeMode%255Bundefined%255D">FileOptions_OptimizeMode[undefined]</a></li><li><a href="global.html#FsWatchInstances">FsWatchInstances</a></li><li><a href="global.html#GLIBC">GLIBC</a></li><li><a href="global.html#GSSAPICanonicalizationValue">GSSAPICanonicalizationValue</a></li><li><a href="global.html#GroupPlugin">GroupPlugin</a></li><li><a href="global.html#HASH_UNDEFINED">HASH_UNDEFINED</a></li><li><a href="global.html#HEARTBEAT_EVENTS">HEARTBEAT_EVENTS</a></li><li><a href="global.html#HOT_COUNT">HOT_COUNT</a></li><li><a href="global.html#HashAlgorithm">HashAlgorithm</a></li><li><a href="global.html#INFINITY">INFINITY</a></li><li><a href="global.html#INIT">INIT</a></li><li><a href="global.html#INT_CACHE">INT_CACHE</a></li><li><a href="global.html#INVALID_TEMPL_VAR_ERROR_TEXT">INVALID_TEMPL_VAR_ERROR_TEXT</a></li><li><a href="global.html#IPv4SegmentFormat">IPv4SegmentFormat</a></li><li><a href="global.html#ImplementsPlugin">ImplementsPlugin</a></li><li><a href="global.html#IncomingMessageExt">IncomingMessageExt</a></li><li><a href="global.html#InheritDocPlugin">InheritDocPlugin</a></li><li><a href="global.html#Int32">Int32</a></li><li><a href="global.html#JS_INT_MAX">JS_INT_MAX</a></li><li><a href="global.html#JS_INT_MIN">JS_INT_MIN</a></li><li><a href="global.html#JavascriptIndexPlugin">JavascriptIndexPlugin</a></li><li><a href="global.html#JwtStrategy">JwtStrategy</a></li><li><a href="global.html#KEY">KEY</a></li><li><a href="global.html#Kareem">Kareem</a></li><li><a href="global.html#LARGE_ARRAY_SIZE">LARGE_ARRAY_SIZE</a></li><li><a href="global.html#LAZY_FILTER_FLAG">LAZY_FILTER_FLAG</a></li><li><a href="global.html#LEGACY_HELLO_COMMAND">LEGACY_HELLO_COMMAND</a></li><li><a href="global.html#LEGACY_HELLO_COMMAND_CAMEL_CASE">LEGACY_HELLO_COMMAND_CAMEL_CASE</a></li><li><a href="global.html#LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE">LEGACY_NOT_PRIMARY_OR_SECONDARY_ERROR_MESSAGE</a></li><li><a href="global.html#LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE">LEGACY_NOT_WRITABLE_PRIMARY_ERROR_MESSAGE</a></li><li><a href="global.html#LEGAL_TCP_SOCKET_OPTIONS">LEGAL_TCP_SOCKET_OPTIONS</a></li><li><a href="global.html#LEGAL_TLS_SOCKET_OPTIONS">LEGAL_TLS_SOCKET_OPTIONS</a></li><li><a href="global.html#LENGTH_EAN_8">LENGTH_EAN_8</a></li><li><a href="global.html#LOCAL_SERVER_EVENTS">LOCAL_SERVER_EVENTS</a></li><li><a href="global.html#LinkResolverPlugin">LinkResolverPlugin</a></li><li><a href="global.html#LogLevel">LogLevel</a></li><li><a href="global.html#LoggerLevel">LoggerLevel</a></li><li><a href="global.html#Long">Long</a></li><li><a href="global.html#LongWithoutOverridesClass">LongWithoutOverridesClass</a></li><li><a href="global.html#MATCHING_GROUP_REGEXP">MATCHING_GROUP_REGEXP</a></li><li><a href="global.html#MAXSIZE">MAXSIZE</a></li><li><a href="global.html#MAX_ARRAY_LENGTH">MAX_ARRAY_LENGTH</a></li><li><a href="global.html#MAX_HASHABLE_LENGTH">MAX_HASHABLE_LENGTH</a></li><li><a href="global.html#MAX_MEMOIZE_SIZE">MAX_MEMOIZE_SIZE</a></li><li><a href="global.html#MAX_SAFE_INTEGER">MAX_SAFE_INTEGER</a></li><li><a href="global.html#MONGODB_ERROR_CODES">MONGODB_ERROR_CODES</a></li><li><a href="global.html#MONGODB_WARNING_CODE">MONGODB_WARNING_CODE</a></li><li><a href="global.html#MONGO_CLIENT_EVENTS">MONGO_CLIENT_EVENTS</a></li><li><a href="global.html#MUSL">MUSL</a></li><li><a href="global.html#Map">Map</a></li><li><a href="global.html#MarkedPlugin">MarkedPlugin</a></li><li><a href="global.html#MaxKey">MaxKey</a></li><li><a href="global.html#MethodOptions_IdempotencyLevel">MethodOptions_IdempotencyLevel</a></li><li><a href="global.html#MethodOptions_IdempotencyLevel%255Bundefined%255D">MethodOptions_IdempotencyLevel[undefined]</a></li><li><a href="global.html#MinKey">MinKey</a></li><li><a href="global.html#Mixed">Mixed</a></li><li><a href="global.html#Model">Model</a></li><li><a href="global.html#Models">Models</a></li><li><a href="global.html#MongoErrorLabel">MongoErrorLabel</a></li><li><a href="global.html#MongoLoggableComponent">MongoLoggableComponent</a></li><li><a href="global.html#Mongoose">Mongoose</a></li><li><a href="global.html#MongooseBuffer">MongooseBuffer</a></li><li><a href="global.html#MongooseDocumentArray">MongooseDocumentArray</a></li><li><a href="global.html#NAN">NAN</a></li><li><a href="global.html#NEVER_RENDERED">NEVER_RENDERED</a></li><li><a href="global.html#NODE_IS_RECOVERING_ERROR_MESSAGE">NODE_IS_RECOVERING_ERROR_MESSAGE</a></li><li><a href="global.html#NativeCollection">NativeCollection</a></li><li><a href="global.html#NativeConnection">NativeConnection</a></li><li><a href="global.html#Negotiator">Negotiator</a></li><li><a href="global.html#ObjectID">ObjectID</a></li><li><a href="global.html#PARAM_REGEXP">PARAM_REGEXP</a></li><li><a href="global.html#PLACEHOLDER">PLACEHOLDER</a></li><li><a href="global.html#POSIX_REGEX_SOURCE">POSIX_REGEX_SOURCE</a></li><li><a href="global.html#PackagePlugin">PackagePlugin</a></li><li><a href="global.html#ParameterType%255Bundefined%255D">ParameterType[undefined]</a></li><li><a href="global.html#Passport">Passport</a></li><li><a href="global.html#PoolState">PoolState</a></li><li><a href="global.html#ProfilingLevel">ProfilingLevel</a></li><li><a href="global.html#Promise">Promise</a></li><li><a href="global.html#PublicKeyDetails">PublicKeyDetails</a></li><li><a href="global.html#PublicKeyDetails%255Bundefined%255D">PublicKeyDetails[undefined]</a></li><li><a href="global.html#QESC_REGEXP">QESC_REGEXP</a></li><li><a href="global.html#QUOTE_REGEXP">QUOTE_REGEXP</a></li><li><a href="global.html#REFLECTION_ID">REFLECTION_ID</a></li><li><a href="global.html#RawSha256">RawSha256</a></li><li><a href="global.html#ReadConcernLevel">ReadConcernLevel</a></li><li><a href="global.html#ReadPreferenceMode">ReadPreferenceMode</a></li><li><a href="global.html#ReflectionKind">ReflectionKind</a></li><li><a href="global.html#ReflectionKind%255Bundefined%255D">ReflectionKind[undefined]</a></li><li><a href="global.html#ReturnDocument">ReturnDocument</a></li><li><a href="global.html#Route">Route</a></li><li><a href="global.html#SENSITIVE_COMMANDS">SENSITIVE_COMMANDS</a></li><li><a href="global.html#SERVER_RELAY_EVENTS">SERVER_RELAY_EVENTS</a></li><li><a href="global.html#Schema">Schema</a></li><li><a href="global.html#SchemaArray">SchemaArray</a></li><li><a href="global.html#SchemaBoolean">SchemaBoolean</a></li><li><a href="global.html#SchemaBuffer">SchemaBuffer</a></li><li><a href="global.html#SchemaDate">SchemaDate</a></li><li><a href="global.html#SchemaNumber">SchemaNumber</a></li><li><a href="global.html#SchemaString">SchemaString</a></li><li><a href="global.html#SchemaType">SchemaType</a></li><li><a href="global.html#SchemaUUID">SchemaUUID</a></li><li><a href="global.html#ServerApiVersion">ServerApiVersion</a></li><li><a href="global.html#ServerType">ServerType</a></li><li><a href="global.html#SessionStrategy">SessionStrategy</a></li><li><a href="global.html#SeverityLevel">SeverityLevel</a></li><li><a href="global.html#SourcePlugin">SourcePlugin</a></li><li><a href="global.html#StateMachine">StateMachine</a></li><li><a href="global.html#Subdocument">Subdocument</a></li><li><a href="global.html#SubdocumentPath">SubdocumentPath</a></li><li><a href="global.html#SubjectAlternativeNameType%255Bundefined%255D">SubjectAlternativeNameType[undefined]</a></li><li><a href="global.html#Symbol">Symbol</a></li><li><a href="global.html#TOPOLOGY_EVENTS">TOPOLOGY_EVENTS</a></li><li><a href="global.html#TYPE_REGEXP">TYPE_REGEXP</a></li><li><a href="global.html#Theme">Theme</a></li><li><a href="global.html#TopologyType">TopologyType</a></li><li><a href="global.html#TxnState">TxnState</a></li><li><a href="global.html#TypeContext">TypeContext</a></li><li><a href="global.html#TypePlugin">TypePlugin</a></li><li><a href="global.html#Types">Types</a></li><li><a href="global.html#UINT_CACHE">UINT_CACHE</a></li><li><a href="global.html#UUID">UUID</a></li><li><a href="global.html#Uint8Array">Uint8Array</a></li><li><a href="global.html#VarianceModifier">VarianceModifier</a></li><li><a href="global.html#View">View</a></li><li><a href="global.html#VirtualType">VirtualType</a></li><li><a href="global.html#WINDOWS_CHARS">WINDOWS_CHARS</a></li><li><a href="global.html#WRAP_ARY_FLAG">WRAP_ARY_FLAG</a></li><li><a href="global.html#WRAP_BIND_FLAG">WRAP_BIND_FLAG</a></li><li><a href="global.html#WRAP_CURRY_FLAG">WRAP_CURRY_FLAG</a></li><li><a href="global.html#WRAP_CURRY_RIGHT_FLAG">WRAP_CURRY_RIGHT_FLAG</a></li><li><a href="global.html#WRAP_FLIP_FLAG">WRAP_FLIP_FLAG</a></li><li><a href="global.html#WRAP_PARTIAL_FLAG">WRAP_PARTIAL_FLAG</a></li><li><a href="global.html#WRAP_PARTIAL_RIGHT_FLAG">WRAP_PARTIAL_RIGHT_FLAG</a></li><li><a href="global.html#WRAP_REARG_FLAG">WRAP_REARG_FLAG</a></li><li><a href="global.html#__spread">__spread</a></li><li><a href="global.html#__spreadArrays">__spreadArrays</a></li><li><a href="global.html#_advanceClusterTime">_advanceClusterTime</a></li><li><a href="global.html#_basePush">_basePush</a></li><li><a href="global.html#_checkContext">_checkContext</a></li><li><a href="global.html#_decorateUpdateWithVersionKey">_decorateUpdateWithVersionKey</a></li><li><a href="global.html#_filterInvalidIds">_filterInvalidIds</a></li><li><a href="global.html#_formatMatch">_formatMatch</a></li><li><a href="global.html#_getOption">_getOption</a></li><li><a href="global.html#_makeIdealGraph">_makeIdealGraph</a></li><li><a href="global.html#_next">_next</a></li><li><a href="global.html#_orFailError">_orFailError</a></li><li><a href="global.html#_populate">_populate</a></li><li><a href="global.html#_toString">_toString</a></li><li><a href="global.html#_update">_update</a></li><li><a href="global.html#_updateParentPopulated">_updateParentPopulated</a></li><li><a href="global.html#abortSignal">abortSignal</a></li><li><a href="global.html#abortedFlags">abortedFlags</a></li><li><a href="global.html#acceptParams">acceptParams</a></li><li><a href="global.html#add">add</a></li><li><a href="global.html#addCursorFlag">addCursorFlag</a></li><li><a href="global.html#additionalProperties">additionalProperties</a></li><li><a href="global.html#after">after</a></li><li><a href="global.html#afterEach">afterEach</a></li><li><a href="global.html#aliasFields">aliasFields</a></li><li><a href="global.html#aliasToReal">aliasToReal</a></li><li><a href="global.html#alladdrs">alladdrs</a></li><li><a href="global.html#anymatch">anymatch</a></li><li><a href="global.html#app">app</a></li><li><a href="global.html#append">append</a></li><li><a href="global.html#application">application</a></li><li><a href="global.html#applyEdits">applyEdits</a></li><li><a href="global.html#applyGetters">applyGetters</a></li><li><a href="global.html#applyHooks">applyHooks</a></li><li><a href="global.html#applyQueryMethods">applyQueryMethods</a></li><li><a href="global.html#applyQueryMiddleware">applyQueryMiddleware</a></li><li><a href="global.html#applyRetryableWrites">applyRetryableWrites</a></li><li><a href="global.html#applySchemaTypeTransforms">applySchemaTypeTransforms</a></li><li><a href="global.html#applySession">applySession</a></li><li><a href="global.html#applyWriteConcern">applyWriteConcern</a></li><li><a href="global.html#argsTag">argsTag</a></li><li><a href="global.html#arrayFlatten">arrayFlatten</a></li><li><a href="global.html#arrayProto">arrayProto</a></li><li><a href="global.html#arrayStrictEqual">arrayStrictEqual</a></li><li><a href="global.html#aryMethod">aryMethod</a></li><li><a href="global.html#aryRearg">aryRearg</a></li><li><a href="global.html#assert">assert</a></li><li><a href="global.html#assertNever">assertNever</a></li><li><a href="global.html#assertUninitialized">assertUninitialized</a></li><li><a href="global.html#assign">assign</a></li><li><a href="global.html#assignRawDocsToIdStructure">assignRawDocsToIdStructure</a></li><li><a href="global.html#asyncTag">asyncTag</a></li><li><a href="global.html#auth">auth</a></li><li><a href="global.html#base">base</a></li><li><a href="global.html#baseConvert">baseConvert</a></li><li><a href="global.html#baseMinusTMin">baseMinusTMin</a></li><li><a href="global.html#basePath">basePath</a></li><li><a href="global.html#before">before</a></li><li><a href="global.html#beforeEach">beforeEach</a></li><li><a href="global.html#bidirectional_l">bidirectional_l</a></li><li><a href="global.html#bidirectional_r_al">bidirectional_r_al</a></li><li><a href="global.html#bigIntAndBufferInt64Check">bigIntAndBufferInt64Check</a></li><li><a href="global.html#binary2hex">binary2hex</a></li><li><a href="global.html#binaryFindPartition">binaryFindPartition</a></li><li><a href="global.html#binaryToString">binaryToString</a></li><li><a href="global.html#block">block</a></li><li><a href="global.html#body">body</a></li><li><a href="global.html#bodyParser">bodyParser</a></li><li><a href="global.html#boolTag">boolTag</a></li><li><a href="global.html#braces">braces</a></li><li><a href="global.html#browserConvert">browserConvert</a></li><li><a href="global.html#bsonMap">bsonMap</a></li><li><a href="global.html#bson_2">bson_2</a></li><li><a href="global.html#buildCheckFunction">buildCheckFunction</a></li><li><a href="global.html#byteToHex">byteToHex</a></li><li><a href="global.html#bytes">bytes</a></li><li><a href="global.html#calculateCheckDigit">calculateCheckDigit</a></li><li><a href="global.html#calculateDurationInMs">calculateDurationInMs</a></li><li><a href="global.html#calculateElement">calculateElement</a></li><li><a href="global.html#calculateObjectSize">calculateObjectSize</a></li><li><a href="global.html#callSiteLocation">callSiteLocation</a></li><li><a href="global.html#camelize">camelize</a></li><li><a href="global.html#castOps">castOps</a></li><li><a href="global.html#castQuery">castQuery</a></li><li><a href="global.html#castUpdateVal">castUpdateVal</a></li><li><a href="global.html#charset">charset</a></li><li><a href="global.html#check">check</a></li><li><a href="global.html#checkBinReferences_">checkBinReferences_</a></li><li><a href="global.html#checkCollectionName">checkCollectionName</a></li><li><a href="global.html#checkDivergentArray">checkDivergentArray</a></li><li><a href="global.html#checkEncoding">checkEncoding</a></li><li><a href="global.html#checkLengthValue">checkLengthValue</a></li><li><a href="global.html#checkOffsetOrLengthValue">checkOffsetOrLengthValue</a></li><li><a href="global.html#checkOffsetValue">checkOffsetValue</a></li><li><a href="global.html">checkRequired</a></li><li><a href="global.html#checkSchema">checkSchema</a></li><li><a href="global.html#checkTLSOptions">checkTLSOptions</a></li><li><a href="global.html#checkTargetOffset">checkTargetOffset</a></li><li><a href="global.html#checkValidKey">checkValidKey</a></li><li><a href="global.html#ciContextProvider">ciContextProvider</a></li><li><a href="global.html#cleanUrl">cleanUrl</a></li><li><a href="global.html#clone">clone</a></li><li><a href="global.html#cloneableTags">cloneableTags</a></li><li><a href="global.html#close">close</a></li><li><a href="global.html#coerce">coerce</a></li><li><a href="global.html#collectCommentRanges">collectCommentRanges</a></li><li><a href="global.html#colorConvert">colorConvert</a></li><li><a href="global.html#colors">colors</a></li><li><a href="global.html#colour">colour</a></li><li><a href="global.html#command">command</a></li><li><a href="global.html#commonly_mapped_to_nothing">commonly_mapped_to_nothing</a></li><li><a href="global.html#compareObjectId">compareObjectId</a></li><li><a href="global.html#compareTopologyVersion">compareTopologyVersion</a></li><li><a href="global.html#compile">compile</a></li><li><a href="global.html#compileETag">compileETag</a></li><li><a href="global.html#compileQueryParser">compileQueryParser</a></li><li><a href="global.html#compileTrust">compileTrust</a></li><li><a href="global.html#completeMany">completeMany</a></li><li><a href="global.html#completeOne">completeOne</a></li><li><a href="global.html#compress">compress</a></li><li><a href="global.html#config">config</a></li><li><a href="global.html#consumeBody">consumeBody</a></li><li><a href="global.html#consumeEscape">consumeEscape</a></li><li><a href="global.html#consumeWord">consumeWord</a></li><li><a href="global.html#containsDotFile">containsDotFile</a></li><li><a href="global.html#containsNamespace">containsNamespace</a></li><li><a href="global.html#contentDisposition">contentDisposition</a></li><li><a href="global.html#contentRange">contentRange</a></li><li><a href="global.html#contentType">contentType</a></li><li><a href="global.html#contentstream">contentstream</a></li><li><a href="global.html#convert">convert</a></li><li><a href="global.html#convertBody">convertBody</a></li><li><a href="global.html#convertDataDescriptorToAccessor">convertDataDescriptorToAccessor</a></li><li><a href="global.html#convertDefaultValue">convertDefaultValue</a></li><li><a href="global.html#convertIconvLite">convertIconvLite</a></li><li><a href="global.html#convertNewToReturnDocument">convertNewToReturnDocument</a></li><li><a href="global.html#convertSortToArray">convertSortToArray</a></li><li><a href="global.html#convertTo_id">convertTo_id</a></li><li><a href="global.html#cookie">cookie</a></li><li><a href="global.html#copy">copy</a></li><li><a href="global.html#copyComment">copyComment</a></li><li><a href="global.html#coreJsData">coreJsData</a></li><li><a href="global.html#create">create</a></li><li><a href="global.html#createAbortSignal">createAbortSignal</a></li><li><a href="global.html#createAndConnectServer">createAndConnectServer</a></li><li><a href="global.html#createApplication">createApplication</a></li><li><a href="global.html#createArgumentsString">createArgumentsString</a></li><li><a href="global.html#createBufferStream">createBufferStream</a></li><li><a href="global.html#createCollection">createCollection</a></li><li><a href="global.html#createDebug">createDebug</a></li><li><a href="global.html#createError">createError</a></li><li><a href="global.html#createFSEventsInstance">createFSEventsInstance</a></li><li><a href="global.html#createFsWatchInstance">createFsWatchInstance</a></li><li><a href="global.html#createHeadersLenient">createHeadersLenient</a></li><li><a href="global.html#createMinimatch">createMinimatch</a></li><li><a href="global.html#createModel">createModel</a></li><li><a href="global.html#createPattern">createPattern</a></li><li><a href="global.html#createRows">createRows</a></li><li><a href="global.html#createScanner">createScanner</a></li><li><a href="global.html#createSize">createSize</a></li><li><a href="global.html#createStackString">createStackString</a></li><li><a href="global.html#createWritableStdioStream">createWritableStdioStream</a></li><li><a href="global.html#crypto">crypto</a></li><li><a href="global.html#dataViewCtorString">dataViewCtorString</a></li><li><a href="global.html#databaseNamespace">databaseNamespace</a></li><li><a href="global.html#dateTag">dateTag</a></li><li><a href="global.html#debug">debug</a></li><li><a href="global.html#deburredLetters">deburredLetters</a></li><li><a href="global.html#decideModelByObject">decideModelByObject</a></li><li><a href="global.html#decode">decode</a></li><li><a href="global.html#decorate">decorate</a></li><li><a href="global.html#decorateWithCollation">decorateWithCollation</a></li><li><a href="global.html#decorateWithExplain">decorateWithExplain</a></li><li><a href="global.html#decorateWithReadConcern">decorateWithReadConcern</a></li><li><a href="global.html#deepCopy">deepCopy</a></li><li><a href="global.html#deepEqual">deepEqual</a></li><li><a href="global.html#deepToMap">deepToMap</a></li><li><a href="global.html#defaultBlockContent">defaultBlockContent</a></li><li><a href="global.html#defaultMessage">defaultMessage</a></li><li><a href="global.html#defaultMsgHandler">defaultMsgHandler</a></li><li><a href="global.html#defineEventAttribute">defineEventAttribute</a></li><li><a href="global.html#defineKey">defineKey</a></li><li><a href="global.html#depd">depd</a></li><li><a href="global.html#deprecate">deprecate</a></li><li><a href="global.html#deprecateOptions">deprecateOptions</a></li><li><a href="global.html#deserialize">deserialize</a></li><li><a href="global.html#deserializeStream">deserializeStream</a></li><li><a href="global.html#destroy">destroy</a></li><li><a href="global.html#destroyServer">destroyServer</a></li><li><a href="global.html#dir">dir</a></li><li><a href="global.html#disable">disable</a></li><li><a href="global.html#domExcTag">domExcTag</a></li><li><a href="global.html#drainTimerQueue">drainTimerQueue</a></li><li><a href="global.html#dropCollection">dropCollection</a></li><li><a href="global.html#dropDatabase">dropDatabase</a></li><li><a href="global.html#dump">dump</a></li><li><a href="global.html#each">each</a></li><li><a href="global.html#eachAsync">eachAsync</a></li><li><a href="global.html#eachAsyncSeries">eachAsyncSeries</a></li><li><a href="global.html#edit">edit</a></li><li><a href="global.html#emitWarning">emitWarning</a></li><li><a href="global.html#emitWarningOnce">emitWarningOnce</a></li><li><a href="global.html#enable">enable</a></li><li><a href="global.html#enabled">enabled</a></li><li><a href="global.html#encloseBrace">encloseBrace</a></li><li><a href="global.html#encode">encode</a></li><li><a href="global.html#encodeUrl">encodeUrl</a></li><li><a href="global.html#endsWith">endsWith</a></li><li><a href="global.html#ensureBuffer">ensureBuffer</a></li><li><a href="global.html#enumToString">enumToString</a></li><li><a href="global.html#errorStrictEqual">errorStrictEqual</a></li><li><a href="global.html#errors">errors</a></li><li><a href="global.html#escape">escape</a></li><li><a href="global.html#escapeHtml">escapeHtml</a></li><li><a href="global.html#escapeNode">escapeNode</a></li><li><a href="global.html#escapeTest">escapeTest</a></li><li><a href="global.html#etag">etag</a></li><li><a href="global.html#eventsApi">eventsApi</a></li><li><a href="global.html#exampleBlockContent">exampleBlockContent</a></li><li><a href="global.html#exceedsLimit">exceedsLimit</a></li><li><a href="global.html#exec">exec</a></li><li><a href="global.html#execFromPackage">execFromPackage</a></li><li><a href="global.html#expandInputFiles">expandInputFiles</a></li><li><a href="global.html#expandPackages">expandPackages</a></li><li><a href="global.html#expandRange">expandRange</a></li><li><a href="global.html#expires">expires</a></li><li><a href="global.html#exportNodeCompatibleHeaders">exportNodeCompatibleHeaders</a></li><li><a href="global.html#extendedparser">extendedparser</a></li><li><a href="global.html#extension">extension</a></li><li><a href="global.html#extractCommand">extractCommand</a></li><li><a href="global.html#extractContentType">extractContentType</a></li><li><a href="global.html#extractTypedocConfigFromPackageManifest">extractTypedocConfigFromPackageManifest</a></li><li><a href="global.html#family">family</a></li><li><a href="global.html#familySync">familySync</a></li><li><a href="global.html#fd">fd</a></li><li><a href="global.html#fetch">fetch</a></li><li><a href="global.html#fieldContentRegExp">fieldContentRegExp</a></li><li><a href="global.html#filterOptions">filterOptions</a></li><li><a href="global.html#finalhandler">finalhandler</a></li><li><a href="global.html#find">find</a></li><li><a href="global.html#findAccessibleSync">findAccessibleSync</a></li><li><a href="global.html#findNodeAtLocation">findNodeAtLocation</a></li><li><a href="global.html#findNodeAtOffset">findNodeAtOffset</a></li><li><a href="global.html#first">first</a></li><li><a href="global.html#flatten">flatten</a></li><li><a href="global.html#flattenForever">flattenForever</a></li><li><a href="global.html#flattenWithDepth">flattenWithDepth</a></li><li><a href="global.html#fmtLong">fmtLong</a></li><li><a href="global.html#fmtShort">fmtShort</a></li><li><a href="global.html#format">format</a></li><li><a href="global.html#formatArgs">formatArgs</a></li><li><a href="global.html#formatColor">formatColor</a></li><li><a href="global.html#formatLocation">formatLocation</a></li><li><a href="global.html#formatMessage">formatMessage</a></li><li><a href="global.html#formatPlain">formatPlain</a></li><li><a href="global.html#formatSort">formatSort</a></li><li><a href="global.html#formatters">formatters</a></li><li><a href="global.html#forwarded">forwarded</a></li><li><a href="global.html#freeExports">freeExports</a></li><li><a href="global.html#freeGlobal">freeGlobal</a></li><li><a href="global.html#freeModule">freeModule</a></li><li><a href="global.html#freeParseFloat">freeParseFloat</a></li><li><a href="global.html#freeParseInt">freeParseInt</a></li><li><a href="global.html#freeProcess">freeProcess</a></li><li><a href="global.html#freeSelf">freeSelf</a></li><li><a href="global.html#fresh">fresh</a></li><li><a href="global.html#fs">fs</a></li><li><a href="global.html#fsWatchBroadcast">fsWatchBroadcast</a></li><li><a href="global.html#funcProto">funcProto</a></li><li><a href="global.html#funcToString">funcToString</a></li><li><a href="global.html#get">get</a></li><li><a href="global.html#getAndroidVersionName">getAndroidVersionName</a></li><li><a href="global.html#getBoundsError">getBoundsError</a></li><li><a href="global.html#getBrowserAlias">getBrowserAlias</a></li><li><a href="global.html#getBrowserTypeByAlias">getBrowserTypeByAlias</a></li><li><a href="global.html#getCharset">getCharset</a></li><li><a href="global.html#getCommonDirectory">getCommonDirectory</a></li><li><a href="global.html#getDefaults">getDefaults</a></li><li><a href="global.html#getEntryPointsForLegacyPackages">getEntryPointsForLegacyPackages</a></li><li><a href="global.html#getEntryPointsForPaths">getEntryPointsForPaths</a></li><li><a href="global.html#getFirstMatch">getFirstMatch</a></li><li><a href="global.html#getFormatFunction">getFormatFunction</a></li><li><a href="global.html#getGHAToken">getGHAToken</a></li><li><a href="global.html#getIndexes">getIndexes</a></li><li><a href="global.html#getLocation">getLocation</a></li><li><a href="global.html#getMacOSVersionName">getMacOSVersionName</a></li><li><a href="global.html#getMapError">getMapError</a></li><li><a href="global.html#getMongoDBClientEncryption">getMongoDBClientEncryption</a></li><li><a href="global.html#getNodePath">getNodePath</a></li><li><a href="global.html#getNodeRequestOptions">getNodeRequestOptions</a></li><li><a href="global.html#getNodeValue">getNodeValue</a></li><li><a href="global.html#getOutputLength">getOutputLength</a></li><li><a href="global.html#getPackagePaths">getPackagePaths</a></li><li><a href="global.html#getParameterHelp">getParameterHelp</a></li><li><a href="global.html#getPositionWeightThroughLengthAndIndex">getPositionWeightThroughLengthAndIndex</a></li><li><a href="global.html#getPositionalPathType">getPositionalPathType</a></li><li><a href="global.html#getPrototype">getPrototype</a></li><li><a href="global.html#getRawBody">getRawBody</a></li><li><a href="global.html#getRootModuleDeclaration">getRootModuleDeclaration</a></li><li><a href="global.html#getSecondMatch">getSecondMatch</a></li><li><a href="global.html#getSignal">getSignal</a></li><li><a href="global.html#getStack">getStack</a></li><li><a href="global.html#getStdin">getStdin</a></li><li><a href="global.html#getTopology">getTopology</a></li><li><a href="global.html#getTotalBytes">getTotalBytes</a></li><li><a href="global.html#getTsEntryPointForPackage">getTsEntryPointForPackage</a></li><li><a href="global.html#getTsSourceFromJsSource">getTsSourceFromJsSource</a></li><li><a href="global.html#getUniquePath">getUniquePath</a></li><li><a href="global.html#getValue">getValue</a></li><li><a href="global.html#getVersionPrecision">getVersionPrecision</a></li><li><a href="global.html#getcontenttype">getcontenttype</a></li><li><a href="global.html#glob">glob</a></li><li><a href="global.html#gobbleHex">gobbleHex</a></li><li><a href="global.html#handle$in">handle$in</a></li><li><a href="global.html#handleAtomics">handleAtomics</a></li><li><a href="global.html#handleInheritedComments">handleInheritedComments</a></li><li><a href="global.html#handleSingle">handleSingle</a></li><li><a href="global.html#has">has</a></li><li><a href="global.html#hasAtomicOperators">hasAtomicOperators</a></li><li><a href="global.html#hasKey">hasKey</a></li><li><a href="global.html#hasOwnProperty">hasOwnProperty</a></li><li><a href="global.html#hasSessionSupport">hasSessionSupport</a></li><li><a href="global.html#hasValidIbanChecksum">hasValidIbanChecksum</a></li><li><a href="global.html#hasValidIbanFormat">hasValidIbanFormat</a></li><li><a href="global.html#hasbody">hasbody</a></li><li><a href="global.html#haveBuffer">haveBuffer</a></li><li><a href="global.html#header">header</a></li><li><a href="global.html#help">help</a></li><li><a href="global.html#hex2buffer">hex2buffer</a></li><li><a href="global.html#hmacTestVectors">hmacTestVectors</a></li><li><a href="global.html#htmlEscapes">htmlEscapes</a></li><li><a href="global.html#htmlUnescapes">htmlUnescapes</a></li><li><a href="global.html#http">http</a></li><li><a href="global.html#hyperlink">hyperlink</a></li><li><a href="global.html#ibanRegexThroughCountryCode">ibanRegexThroughCountryCode</a></li><li><a href="global.html#idCounter">idCounter</a></li><li><a href="global.html#idGetter">idGetter</a></li><li><a href="global.html#inherits">inherits</a></li><li><a href="global.html#init">init</a></li><li><a href="global.html#initialize">initialize</a></li><li><a href="global.html#inline">inline</a></li><li><a href="global.html#insertOrderSorted">insertOrderSorted</a></li><li><a href="global.html#insertPrioritySorted">insertPrioritySorted</a></li><li><a href="global.html#inspectOpts">inspectOpts</a></li><li><a href="global.html#inspectable">inspectable</a></li><li><a href="global.html#inspectorLog">inspectorLog</a></li><li><a href="global.html#install">install</a></li><li><a href="global.html#invalidTokenRegex">invalidTokenRegex</a></li><li><a href="global.html#isAbsolute">isAbsolute</a></li><li><a href="global.html#isArgumentsObject">isArgumentsObject</a></li><li><a href="global.html#isBlob">isBlob</a></li><li><a href="global.html#isBsonType">isBsonType</a></li><li><a href="global.html#isCanadianSIN">isCanadianSIN</a></li><li><a href="global.html#isDBRefLike">isDBRefLike</a></li><li><a href="global.html#isEAN">isEAN</a></li><li><a href="global.html#isEmptyObject">isEmptyObject</a></li><li><a href="global.html#isFinished">isFinished</a></li><li><a href="global.html#isFiniteInteger">isFiniteInteger</a></li><li><a href="global.html#isFiniteNumber">isFiniteNumber</a></li><li><a href="global.html#isHello">isHello</a></li><li><a href="global.html#isInt32">isInt32</a></li><li><a href="global.html#isInteger">isInteger</a></li><li><a href="global.html#isInvalidBrace">isInvalidBrace</a></li><li><a href="global.html#isItStopNode">isItStopNode</a></li><li><a href="global.html#isMeta">isMeta</a></li><li><a href="global.html#isMongooseType">isMongooseType</a></li><li><a href="global.html#isMsWindow">isMsWindow</a></li><li><a href="global.html#isNativeObject">isNativeObject</a></li><li><a href="global.html#isNonBuiltinObject">isNonBuiltinObject</a></li><li><a href="global.html#isNonGlibcLinux">isNonGlibcLinux</a></li><li><a href="global.html#isNonGlibcLinuxSync">isNonGlibcLinuxSync</a></li><li><a href="global.html#isNullOrUndefined">isNullOrUndefined</a></li><li><a href="global.html#isObject">isObject</a></li><li><a href="global.html#isObjectIdOrHexString">isObjectIdOrHexString</a></li><li><a href="global.html#isObjectLike">isObjectLike</a></li><li><a href="global.html#isOpenOrClose">isOpenOrClose</a></li><li><a href="global.html#isOperator">isOperator</a></li><li><a href="global.html#isPOJO">isPOJO</a></li><li><a href="global.html#isPair">isPair</a></li><li><a href="global.html#isPassportNumber">isPassportNumber</a></li><li><a href="global.html#isPopulatedObject">isPopulatedObject</a></li><li><a href="global.html#isPromiseLike">isPromiseLike</a></li><li><a href="global.html#isRequest">isRequest</a></li><li><a href="global.html#isRetryableReadError">isRetryableReadError</a></li><li><a href="global.html#isRetryableWritesEnabled">isRetryableWritesEnabled</a></li><li><a href="global.html#isSDAMUnrecoverableError">isSDAMUnrecoverableError</a></li><li><a href="global.html#isSameProtocol">isSameProtocol</a></li><li><a href="global.html#isTopmostModuleDeclaration">isTopmostModuleDeclaration</a></li><li><a href="global.html#isURLSearchParams">isURLSearchParams</a></li><li><a href="global.html#isUint32">isUint32</a></li><li><a href="global.html#isValidObjectId">isValidObjectId</a></li><li><a href="global.html#isValidSocksProxy">isValidSocksProxy</a></li><li><a href="global.html#isValidSocksRemoteHost">isValidSocksRemoteHost</a></li><li><a href="global.html#isValidTimeoutValue">isValidTimeoutValue</a></li><li><a href="global.html#isignored">isignored</a></li><li><a href="global.html#isolateEval">isolateEval</a></li><li><a href="global.html#isstats">isstats</a></li><li><a href="global.html#istraced">istraced</a></li><li><a href="global.html#iter">iter</a></li><li><a href="global.html#iterateeAry">iterateeAry</a></li><li><a href="global.html#iterateeRearg">iterateeRearg</a></li><li><a href="global.html#json">json</a></li><li><a href="global.html#kAutoEncrypter">kAutoEncrypter</a></li><li><a href="global.html#kBeforeHandshake">kBeforeHandshake</a></li><li><a href="global.html#kBuffer">kBuffer</a></li><li><a href="global.html#kBuiltOptions">kBuiltOptions</a></li><li><a href="global.html#kCancellationToken">kCancellationToken</a></li><li><a href="global.html#kCancelled">kCancelled</a></li><li><a href="global.html#kCheckedOut">kCheckedOut</a></li><li><a href="global.html#kClient">kClient</a></li><li><a href="global.html#kClosed">kClosed</a></li><li><a href="global.html#kClusterTime">kClusterTime</a></li><li><a href="global.html#kConnection">kConnection</a></li><li><a href="global.html#kConnectionCounter">kConnectionCounter</a></li><li><a href="global.html#kConnections">kConnections</a></li><li><a href="global.html#kCursorStream">kCursorStream</a></li><li><a href="global.html#kDelayedTimeoutId">kDelayedTimeoutId</a></li><li><a href="global.html#kDescription">kDescription</a></li><li><a href="global.html#kDocuments">kDocuments</a></li><li><a href="global.html#kErrorLabels">kErrorLabels</a></li><li><a href="global.html#kFilter">kFilter</a></li><li><a href="global.html#kGeneration">kGeneration</a></li><li><a href="global.html#kHello">kHello</a></li><li><a href="global.html#kId">kId</a></li><li><a href="global.html#kInit">kInit</a></li><li><a href="global.html#kInitialized">kInitialized</a></li><li><a href="global.html#kInternalClient">kInternalClient</a></li><li><a href="global.html#kKilled">kKilled</a></li><li><a href="global.html#kLastUseTime">kLastUseTime</a></li><li><a href="global.html#kLogger">kLogger</a></li><li><a href="global.html#kMessageStream">kMessageStream</a></li><li><a href="global.html#kMetrics">kMetrics</a></li><li><a href="global.html#kMinPoolSizeTimer">kMinPoolSizeTimer</a></li><li><a href="global.html#kMode">kMode</a></li><li><a href="global.html#kMonitor">kMonitor</a></li><li><a href="global.html#kMonitorId">kMonitorId</a></li><li><a href="global.html#kNamespace">kNamespace</a></li><li><a href="global.html#kNumReturned">kNumReturned</a></li><li><a href="global.html#kOptions">kOptions</a></li><li><a href="global.html#kPending">kPending</a></li><li><a href="global.html#kPinnedConnection">kPinnedConnection</a></li><li><a href="global.html#kPipeline">kPipeline</a></li><li><a href="global.html#kPoolState">kPoolState</a></li><li><a href="global.html#kProcessingWaitQueue">kProcessingWaitQueue</a></li><li><a href="global.html#kPromise">kPromise</a></li><li><a href="global.html#kQueue">kQueue</a></li><li><a href="global.html#kRTTPinger">kRTTPinger</a></li><li><a href="global.html#kRoundTripTime">kRoundTripTime</a></li><li><a href="global.html#kServer">kServer</a></li><li><a href="global.html#kServerError">kServerError</a></li><li><a href="global.html#kServerSession">kServerSession</a></li><li><a href="global.html#kServiceGenerations">kServiceGenerations</a></li><li><a href="global.html#kSession">kSession</a></li><li><a href="global.html#kSnapshotEnabled">kSnapshotEnabled</a></li><li><a href="global.html#kSnapshotTime">kSnapshotTime</a></li><li><a href="global.html#kStream">kStream</a></li><li><a href="global.html#kTransform">kTransform</a></li><li><a href="global.html#kTxnNumberIncrement">kTxnNumberIncrement</a></li><li><a href="global.html#kWaitQueue">kWaitQueue</a></li><li><a href="global.html#keys">keys</a></li><li><a href="global.html#last">last</a></li><li><a href="global.html#latencyWindowReducer">latencyWindowReducer</a></li><li><a href="global.html#load">load</a></li><li><a href="global.html#loadFile">loadFile</a></li><li><a href="global.html#loadLegacyIgnore">loadLegacyIgnore</a></li><li><a href="global.html#loadPackageManifest">loadPackageManifest</a></li><li><a href="global.html#loadSymbol">loadSymbol</a></li><li><a href="global.html#localstorage">localstorage</a></li><li><a href="global.html#log">log</a></li><li><a href="global.html#longOrConvert">longOrConvert</a></li><li><a href="global.html#lookup">lookup</a></li><li><a href="global.html#main">main</a></li><li><a href="global.html#makeCounter">makeCounter</a></li><li><a href="global.html#makeLean">makeLean</a></li><li><a href="global.html#makeStateMachine">makeStateMachine</a></li><li><a href="global.html#mangle">mangle</a></li><li><a href="global.html#map">map</a></li><li><a href="global.html#mapTag">mapTag</a></li><li><a href="global.html#mapToMap">mapToMap</a></li><li><a href="global.html#mapping2nothing">mapping2nothing</a></li><li><a href="global.html#mapping2space">mapping2space</a></li><li><a href="global.html#marked">marked</a></li><li><a href="global.html#maskSrcKey">maskSrcKey</a></li><li><a href="global.html#matchAndReturnConst">matchAndReturnConst</a></li><li><a href="global.html#matchPatterns">matchPatterns</a></li><li><a href="global.html#matchedData">matchedData</a></li><li><a href="global.html#matchesParentDomain">matchesParentDomain</a></li><li><a href="global.html#maxInt">maxInt</a></li><li><a href="global.html#maxStalenessReducer">maxStalenessReducer</a></li><li><a href="global.html#maxWireVersion">maxWireVersion</a></li><li><a href="global.html#maybeRemoveId">maybeRemoveId</a></li><li><a href="global.html#merge">merge</a></li><li><a href="global.html#mergeBatchResults">mergeBatchResults</a></li><li><a href="global.html#mergeClone">mergeClone</a></li><li><a href="global.html#mergeOptions">mergeOptions</a></li><li><a href="global.html#metaMap">metaMap</a></li><li><a href="global.html#methodRearg">methodRearg</a></li><li><a href="global.html#methodSpread">methodSpread</a></li><li><a href="global.html#methods">methods</a></li><li><a href="global.html#mime">mime</a></li><li><a href="global.html#minimize">minimize</a></li><li><a href="global.html#mixin">mixin</a></li><li><a href="global.html#mockS3Http">mockS3Http</a></li><li><a href="global.html#model">model</a></li><li><a href="global.html#modify">modify</a></li><li><a href="global.html#moduleExports">moduleExports</a></li><li><a href="global.html#mongoose">mongoose</a></li><li><a href="global.html#morgan">morgan</a></li><li><a href="global.html#mpath">mpath</a></li><li><a href="global.html#multilineRegexp">multilineRegexp</a></li><li><a href="global.html#mutate">mutate</a></li><li><a href="global.html#names">names</a></li><li><a href="global.html#nativeObjectToString">nativeObjectToString</a></li><li><a href="global.html#newObject">newObject</a></li><li><a href="global.html#next">next</a></li><li><a href="global.html#noCastOps">noCastOps</a></li><li><a href="global.html#noPasswordAuthMechanisms">noPasswordAuthMechanisms</a></li><li><a href="global.html#nodeUtil">nodeUtil</a></li><li><a href="global.html#nodemonOption">nodemonOption</a></li><li><a href="global.html#non_ASCII_space_characters">non_ASCII_space_characters</a></li><li><a href="global.html#normalizeHintField">normalizeHintField</a></li><li><a href="global.html#normalizeJsonSyntaxError">normalizeJsonSyntaxError</a></li><li><a href="global.html#normalizePath">normalizePath</a></li><li><a href="global.html#normalizeType">normalizeType</a></li><li><a href="global.html#normalizeTypes">normalizeTypes</a></li><li><a href="global.html#normalizedFunctionString">normalizedFunctionString</a></li><li><a href="global.html#notImplemented">notImplemented</a></li><li><a href="global.html#now">now</a></li><li><a href="global.html#ns">ns</a></li><li><a href="global.html#nullTag">nullTag</a></li><li><a href="global.html#numberOps">numberOps</a></li><li><a href="global.html#numberTag">numberTag</a></li><li><a href="global.html#oauthProvider">oauthProvider</a></li><li><a href="global.html#object">object</a></li><li><a href="global.html#objectCreate">objectCreate</a></li><li><a href="global.html#objectCtorString">objectCtorString</a></li><li><a href="global.html#objectProto">objectProto</a></li><li><a href="global.html#objectTag">objectTag</a></li><li><a href="global.html#objectToMap">objectToMap</a></li><li><a href="global.html#offApi">offApi</a></li><li><a href="global.html#onApi">onApi</a></li><li><a href="global.html#onFinished">onFinished</a></li><li><a href="global.html#onHeaders">onHeaders</a></li><li><a href="global.html#onceMap">onceMap</a></li><li><a href="global.html#operand">operand</a></li><li><a href="global.html#options">options</a></li><li><a href="global.html#originalurl">originalurl</a></li><li><a href="global.html#overwriteMiddlewareResult">overwriteMiddlewareResult</a></li><li><a href="global.html#padCenter">padCenter</a></li><li><a href="global.html#padLeft">padLeft</a></li><li><a href="global.html#padRight">padRight</a></li><li><a href="global.html#pairToMap">pairToMap</a></li><li><a href="global.html#param">param</a></li><li><a href="global.html#paramRegExp">paramRegExp</a></li><li><a href="global.html#parameterCount">parameterCount</a></li><li><a href="global.html#parentArray">parentArray</a></li><li><a href="global.html#parse">parse</a></li><li><a href="global.html#parse$1">parse$1</a></li><li><a href="global.html#parseDelay">parseDelay</a></li><li><a href="global.html#parseFileMode">parseFileMode</a></li><li><a href="global.html#parseSeverityFromString">parseSeverityFromString</a></li><li><a href="global.html#parseTextData">parseTextData</a></li><li><a href="global.html#parseTree">parseTree</a></li><li><a href="global.html#parseURL">parseURL</a></li><li><a href="global.html#parser">parser</a></li><li><a href="global.html#parsers">parsers</a></li><li><a href="global.html#parseurl">parseurl</a></li><li><a href="global.html#passport">passport</a></li><li><a href="global.html#passportRegexByCountryCode">passportRegexByCountryCode</a></li><li><a href="global.html#pathtoRegexp">pathtoRegexp</a></li><li><a href="global.html#pause">pause</a></li><li><a href="global.html#picomatch">picomatch</a></li><li><a href="global.html#plural">plural</a></li><li><a href="global.html#pluralization">pluralization</a></li><li><a href="global.html#pluralize">pluralize</a></li><li><a href="global.html#populate">populate</a></li><li><a href="global.html#postProcessComment">postProcessComment</a></li><li><a href="global.html#preferredCharsets">preferredCharsets</a></li><li><a href="global.html#preferredEncodings">preferredEncodings</a></li><li><a href="global.html#preferredLanguages">preferredLanguages</a></li><li><a href="global.html#preferredMediaTypes">preferredMediaTypes</a></li><li><a href="global.html#prepareDirection">prepareDirection</a></li><li><a href="global.html#prepareDiscriminatorCriteria">prepareDiscriminatorCriteria</a></li><li><a href="global.html#prepareHandshakeDocument">prepareHandshakeDocument</a></li><li><a href="global.html#prepareObjectStackTrace">prepareObjectStackTrace</a></li><li><a href="global.html#preparePopulationOptions">preparePopulationOptions</a></li><li><a href="global.html#preparePopulationOptionsMQ">preparePopulationOptionsMQ</a></li><li><a href="global.html#prettify">prettify</a></li><li><a href="global.html#prevTime">prevTime</a></li><li><a href="global.html#processScope">processScope</a></li><li><a href="global.html#prog">prog</a></li><li><a href="global.html#prohibited_characters">prohibited_characters</a></li><li><a href="global.html#propertyIsEnumerable">propertyIsEnumerable</a></li><li><a href="global.html#proto">proto</a></li><li><a href="global.html#proxyaddr">proxyaddr</a></li><li><a href="global.html#punycode">punycode</a></li><li><a href="global.html#push">push</a></li><li><a href="global.html#qescRegExp">qescRegExp</a></li><li><a href="global.html#qstring">qstring</a></li><li><a href="global.html#query">query</a></li><li><a href="global.html#quoteRegExp">quoteRegExp</a></li><li><a href="global.html#range">range</a></li><li><a href="global.html#rangeParser">rangeParser</a></li><li><a href="global.html#rangeToPattern">rangeToPattern</a></li><li><a href="global.html#raw">raw</a></li><li><a href="global.html#reApos">reApos</a></li><li><a href="global.html#reAsciiWord">reAsciiWord</a></li><li><a href="global.html#reComboMark">reComboMark</a></li><li><a href="global.html#reEmptyStringLeading">reEmptyStringLeading</a></li><li><a href="global.html#reEsTemplate">reEsTemplate</a></li><li><a href="global.html#reEscape">reEscape</a></li><li><a href="global.html#reEscapeChar">reEscapeChar</a></li><li><a href="global.html#reEscapedHtml">reEscapedHtml</a></li><li><a href="global.html#reEvaluate">reEvaluate</a></li><li><a href="global.html#reFlags">reFlags</a></li><li><a href="global.html#reForbiddenIdentifierChars">reForbiddenIdentifierChars</a></li><li><a href="global.html#reHasUnicode">reHasUnicode</a></li><li><a href="global.html#reHasUnicodeWord">reHasUnicodeWord</a></li><li><a href="global.html#reInterpolate">reInterpolate</a></li><li><a href="global.html#reIsBadHex">reIsBadHex</a></li><li><a href="global.html#reIsBinary">reIsBinary</a></li><li><a href="global.html#reIsDeepProp">reIsDeepProp</a></li><li><a href="global.html#reIsHostCtor">reIsHostCtor</a></li><li><a href="global.html#reIsNative">reIsNative</a></li><li><a href="global.html#reIsOctal">reIsOctal</a></li><li><a href="global.html#reIsUint">reIsUint</a></li><li><a href="global.html#reLatin">reLatin</a></li><li><a href="global.html#reNoMatch">reNoMatch</a></li><li><a href="global.html#reOptMod">reOptMod</a></li><li><a href="global.html#rePropName">rePropName</a></li><li><a href="global.html#reRegExpChar">reRegExpChar</a></li><li><a href="global.html#reTrimStart">reTrimStart</a></li><li><a href="global.html#reUnescapedHtml">reUnescapedHtml</a></li><li><a href="global.html#reUnescapedString">reUnescapedString</a></li><li><a href="global.html#reUnicode">reUnicode</a></li><li><a href="global.html#reUnicodeWord">reUnicodeWord</a></li><li><a href="global.html#reWhitespace">reWhitespace</a></li><li><a href="global.html#reWrapComment">reWrapComment</a></li><li><a href="global.html#reWrapDetails">reWrapDetails</a></li><li><a href="global.html#read">read</a></li><li><a href="global.html#readAttributeStr">readAttributeStr</a></li><li><a href="global.html#readConcern">readConcern</a></li><li><a href="global.html#readFile">readFile</a></li><li><a href="global.html#readPI">readPI</a></li><li><a href="global.html#readPref">readPref</a></li><li><a href="global.html#readPreferenceServerSelector">readPreferenceServerSelector</a></li><li><a href="global.html#readStopNodeData">readStopNodeData</a></li><li><a href="global.html#readStream">readStream</a></li><li><a href="global.html#readdirp">readdirp</a></li><li><a href="global.html#realNames">realNames</a></li><li><a href="global.html#realToAlias">realToAlias</a></li><li><a href="global.html#reconstructFieldPath">reconstructFieldPath</a></li><li><a href="global.html#reduce">reduce</a></li><li><a href="global.html#regexPunycode">regexPunycode</a></li><li><a href="global.html#regexpTag">regexpTag</a></li><li><a href="global.html#registerRemoveListener">registerRemoveListener</a></li><li><a href="global.html#relative">relative</a></li><li><a href="global.html#remap">remap</a></li><li><a href="global.html#removeIf">removeIf</a></li><li><a href="global.html#removeIfPresent">removeIfPresent</a></li><li><a href="global.html#removedMiddlewares">removedMiddlewares</a></li><li><a href="global.html#renderName">renderName</a></li><li><a href="global.html#repeatString">repeatString</a></li><li><a href="global.html#req">req</a></li><li><a href="global.html#res">res</a></li><li><a href="global.html#resetReflectionID">resetReflectionID</a></li><li><a href="global.html#resolveBSONOptions">resolveBSONOptions</a></li><li><a href="global.html#resolveDeclarationMaps">resolveDeclarationMaps</a></li><li><a href="global.html#resolveLogPath">resolveLogPath</a></li><li><a href="global.html#resolveOptions">resolveOptions</a></li><li><a href="global.html#resolveSRVRecord">resolveSRVRecord</a></li><li><a href="global.html#resolveUrl">resolveUrl</a></li><li><a href="global.html#rewind">rewind</a></li><li><a href="global.html#root">root</a></li><li><a href="global.html#rsApos">rsApos</a></li><li><a href="global.html#rsAstral">rsAstral</a></li><li><a href="global.html#rsAstralRange">rsAstralRange</a></li><li><a href="global.html#rsCombo">rsCombo</a></li><li><a href="global.html#rsComboMarksRange">rsComboMarksRange</a></li><li><a href="global.html#rsMiscLower">rsMiscLower</a></li><li><a href="global.html#rsZWJ">rsZWJ</a></li><li><a href="global.html#rtrim">rtrim</a></li><li><a href="global.html#runValidatorsOnUpdate">runValidatorsOnUpdate</a></li><li><a href="global.html#runWithSuite">runWithSuite</a></li><li><a href="global.html#s">s</a></li><li><a href="global.html#sameServerSelector">sameServerSelector</a></li><li><a href="global.html#sanitizeFilter">sanitizeFilter</a></li><li><a href="global.html#saslprep">saslprep</a></li><li><a href="global.html#save">save</a></li><li><a href="global.html#scan">scan</a></li><li><a href="global.html#scopePaths">scopePaths</a></li><li><a href="global.html#secondaryWritableServerSelector">secondaryWritableServerSelector</a></li><li><a href="global.html#selectColor">selectColor</a></li><li><a href="global.html#semanticVersioningRegex">semanticVersioningRegex</a></li><li><a href="global.html#send">send</a></li><li><a href="global.html#serialize">serialize</a></li><li><a href="global.html#serializeWithBufferAndIndex">serializeWithBufferAndIndex</a></li><li><a href="global.html#serveStatic">serveStatic</a></li><li><a href="global.html#set">set</a></li><li><a href="global.html#setCancelFlag">setCancelFlag</a></li><li><a href="global.html#setCharset">setCharset</a></li><li><a href="global.html#setDefaultsOnInsert">setDefaultsOnInsert</a></li><li><a href="global.html#setDifference">setDifference</a></li><li><a href="global.html#setFSEventsListener">setFSEventsListener</a></li><li><a href="global.html#setFsWatchFileListener">setFsWatchFileListener</a></li><li><a href="global.html#setFsWatchListener">setFsWatchListener</a></li><li><a href="global.html#setInternalBufferSize">setInternalBufferSize</a></li><li><a href="global.html#setTag">setTag</a></li><li><a href="global.html#setValue">setValue</a></li><li><a href="global.html#setup">setup</a></li><li><a href="global.html#sha1">sha1</a></li><li><a href="global.html#shouldSkipVersioning">shouldSkipVersioning</a></li><li><a href="global.html#shuffle">shuffle</a></li><li><a href="global.html#shuffleArray">shuffleArray</a></li><li><a href="global.html#sign">sign</a></li><li><a href="global.html#signals">signals</a></li><li><a href="global.html#simpleparser">simpleparser</a></li><li><a href="global.html#skipFixed">skipFixed</a></li><li><a href="global.html#skipMiddlewareFunction">skipMiddlewareFunction</a></li><li><a href="global.html#skipRearg">skipRearg</a></li><li><a href="global.html#smartypants">smartypants</a></li><li><a href="global.html#soon">soon</a></li><li><a href="global.html#special">special</a></li><li><a href="global.html#splice">splice</a></li><li><a href="global.html#splitIntoLines">splitIntoLines</a></li><li><a href="global.html#splitLongWords">splitLongWords</a></li><li><a href="global.html#splitType">splitType</a></li><li><a href="global.html#spreadableSymbol">spreadableSymbol</a></li><li><a href="global.html#startSession">startSession</a></li><li><a href="global.html#status">status</a></li><li><a href="global.html#store">store</a></li><li><a href="global.html#strategies">strategies</a></li><li><a href="global.html#stringEscapes">stringEscapes</a></li><li><a href="global.html#stringTag">stringTag</a></li><li><a href="global.html#stringToArgs">stringToArgs</a></li><li><a href="global.html#stringToBinary">stringToBinary</a></li><li><a href="global.html#stringToPath">stringToPath</a></li><li><a href="global.html#stringsToMap">stringsToMap</a></li><li><a href="global.html#stripComments">stripComments</a></li><li><a href="global.html#subtypeNameRegExp">subtypeNameRegExp</a></li><li><a href="global.html#supportsRetryableWrites">supportsRetryableWrites</a></li><li><a href="global.html#symIterator">symIterator</a></li><li><a href="global.html#symToStringTag">symToStringTag</a></li><li><a href="global.html#symbolProto">symbolProto</a></li><li><a href="global.html#symbolTag">symbolTag</a></li><li><a href="global.html#syntaxError">syntaxError</a></li><li><a href="global.html#tagExpWithClosingIndex">tagExpWithClosingIndex</a></li><li><a href="global.html#tagSetMatch">tagSetMatch</a></li><li><a href="global.html#tagSetReducer">tagSetReducer</a></li><li><a href="global.html#text">text</a></li><li><a href="global.html#tick">tick</a></li><li><a href="global.html#toCodePoints">toCodePoints</a></li><li><a href="global.html#toCollectionName">toCollectionName</a></li><li><a href="global.html#toIdentifier">toIdentifier</a></li><li><a href="global.html#toObject">toObject</a></li><li><a href="global.html#toXml">toXml</a></li><li><a href="global.html#token">token</a></li><li><a href="global.html#topologyTypeFromOptions">topologyTypeFromOptions</a></li><li><a href="global.html#transaction">transaction</a></li><li><a href="global.html#traverse">traverse</a></li><li><a href="global.html#triggerApi">triggerApi</a></li><li><a href="global.html#triggerEvents">triggerEvents</a></li><li><a href="global.html#trimZeros">trimZeros</a></li><li><a href="global.html#truncateString">truncateString</a></li><li><a href="global.html#trusted">trusted</a></li><li><a href="global.html#tty">tty</a></li><li><a href="global.html#typeChecker">typeChecker</a></li><li><a href="global.html#typeOf">typeOf</a></li><li><a href="global.html#typedArrayTags">typedArrayTags</a></li><li><a href="global.html#typeis">typeis</a></li><li><a href="global.html#typeofrequest">typeofrequest</a></li><li><a href="global.html#unassigned_code_points">unassigned_code_points</a></li><li><a href="global.html#uncountables">uncountables</a></li><li><a href="global.html#unescape">unescape</a></li><li><a href="global.html#unique">unique</a></li><li><a href="global.html#unpipe">unpipe</a></li><li><a href="global.html#unset">unset</a></li><li><a href="global.html#unsign">unsign</a></li><li><a href="global.html#updateServers">updateServers</a></li><li><a href="global.html#urlencoded">urlencoded</a></li><li><a href="global.html#useColors">useColors</a></li><li><a href="global.html#util">util</a></li><li><a href="global.html#utils">utils</a></li><li><a href="global.html#uuidV4">uuidV4</a></li><li><a href="global.html#validAttrStrRegxp">validAttrStrRegxp</a></li><li><a href="global.html#validateDisplayName">validateDisplayName</a></li><li><a href="global.html#validateEncoding">validateEncoding</a></li><li><a href="global.html#validateLoadBalancedOptions">validateLoadBalancedOptions</a></li><li><a href="global.html#validatePort">validatePort</a></li><li><a href="global.html#validateSignalName">validateSignalName</a></li><li><a href="global.html#validateSocksClientChainOptions">validateSocksClientChainOptions</a></li><li><a href="global.html#validateSocksClientOptions">validateSocksClientOptions</a></li><li><a href="global.html#validateUnion">validateUnion</a></li><li><a href="global.html#validateUtf8">validateUtf8</a></li><li><a href="global.html#validationResult">validationResult</a></li><li><a href="global.html#valueFilter">valueFilter</a></li><li><a href="global.html#valueIsWithinBounds">valueIsWithinBounds</a></li><li><a href="global.html#vary">vary</a></li><li><a href="global.html#version">version</a></li><li><a href="global.html#versionSync">versionSync</a></li><li><a href="global.html#visit">visit</a></li><li><a href="global.html#walkKeyPathValues">walkKeyPathValues</a></li><li><a href="global.html#walkUpdatePath">walkUpdatePath</a></li><li><a href="global.html#wasm">wasm</a></li><li><a href="global.html#watch">watch</a></li><li><a href="global.html#wbr">wbr</a></li><li><a href="global.html#weakMapTag">weakMapTag</a></li><li><a href="global.html#weakSetTag">weakSetTag</a></li><li><a href="global.html#wetag">wetag</a></li><li><a href="global.html#withDefaults">withDefaults</a></li><li><a href="global.html#wrapFlags">wrapFlags</a></li><li><a href="global.html#wrapfunction">wrapfunction</a></li><li><a href="global.html#wrapproperty">wrapproperty</a></li><li><a href="global.html#writableServerSelector">writableServerSelector</a></li><li><a href="global.html#writeFile">writeFile</a></li><li><a href="global.html#writeFileSync">writeFileSync</a></li><li><a href="global.html#writeToStream">writeToStream</a></li><li><a href="global.html#zip">zip</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Wed Jun 07 2023 18:32:15 GMT+0200 (Central European Summer Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>